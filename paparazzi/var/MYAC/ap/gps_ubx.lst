   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"gps_ubx.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.gps_impl_init,"ax",%progbits
  18              		.align	1
  19              		.global	gps_impl_init
  20              		.thumb
  21              		.thumb_func
  23              	gps_impl_init:
  24              	.LFB27:
  25              		.file 1 "subsystems/gps/gps_ubx.c"
   1:subsystems/gps/gps_ubx.c **** /*
   2:subsystems/gps/gps_ubx.c ****  * Copyright (C) 2010 Antoine Drouin <poinix@gmail.com>
   3:subsystems/gps/gps_ubx.c ****  *
   4:subsystems/gps/gps_ubx.c ****  * This file is part of paparazzi.
   5:subsystems/gps/gps_ubx.c ****  *
   6:subsystems/gps/gps_ubx.c ****  * paparazzi is free software; you can redistribute it and/or modify
   7:subsystems/gps/gps_ubx.c ****  * it under the terms of the GNU General Public License as published by
   8:subsystems/gps/gps_ubx.c ****  * the Free Software Foundation; either version 2, or (at your option)
   9:subsystems/gps/gps_ubx.c ****  * any later version.
  10:subsystems/gps/gps_ubx.c ****  *
  11:subsystems/gps/gps_ubx.c ****  * paparazzi is distributed in the hope that it will be useful,
  12:subsystems/gps/gps_ubx.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:subsystems/gps/gps_ubx.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:subsystems/gps/gps_ubx.c ****  * GNU General Public License for more details.
  15:subsystems/gps/gps_ubx.c ****  *
  16:subsystems/gps/gps_ubx.c ****  * You should have received a copy of the GNU General Public License
  17:subsystems/gps/gps_ubx.c ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:subsystems/gps/gps_ubx.c ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:subsystems/gps/gps_ubx.c ****  * Boston, MA 02111-1307, USA.
  20:subsystems/gps/gps_ubx.c ****  */
  21:subsystems/gps/gps_ubx.c **** 
  22:subsystems/gps/gps_ubx.c **** 
  23:subsystems/gps/gps_ubx.c **** #include "subsystems/gps.h"
  24:subsystems/gps/gps_ubx.c **** 
  25:subsystems/gps/gps_ubx.c **** #include "led.h"
  26:subsystems/gps/gps_ubx.c **** 
  27:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
  28:subsystems/gps/gps_ubx.c **** /* currently needed to get nav_utm_zone0 */
  29:subsystems/gps/gps_ubx.c **** #include "subsystems/navigation/common_nav.h"
  30:subsystems/gps/gps_ubx.c **** #include "math/pprz_geodetic_float.h"
  31:subsystems/gps/gps_ubx.c **** #endif
  32:subsystems/gps/gps_ubx.c **** 
  33:subsystems/gps/gps_ubx.c **** /* parser status */
  34:subsystems/gps/gps_ubx.c **** #define UNINIT        0
  35:subsystems/gps/gps_ubx.c **** #define GOT_SYNC1     1
  36:subsystems/gps/gps_ubx.c **** #define GOT_SYNC2     2
  37:subsystems/gps/gps_ubx.c **** #define GOT_CLASS     3
  38:subsystems/gps/gps_ubx.c **** #define GOT_ID        4
  39:subsystems/gps/gps_ubx.c **** #define GOT_LEN1      5
  40:subsystems/gps/gps_ubx.c **** #define GOT_LEN2      6
  41:subsystems/gps/gps_ubx.c **** #define GOT_PAYLOAD   7
  42:subsystems/gps/gps_ubx.c **** #define GOT_CHECKSUM1 8
  43:subsystems/gps/gps_ubx.c **** 
  44:subsystems/gps/gps_ubx.c **** /* last error type */
  45:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_NONE         0
  46:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_OVERRUN      1
  47:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_MSG_TOO_LONG 2
  48:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_CHECKSUM     3
  49:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_UNEXPECTED   4
  50:subsystems/gps/gps_ubx.c **** #define GPS_UBX_ERR_OUT_OF_SYNC  5
  51:subsystems/gps/gps_ubx.c **** 
  52:subsystems/gps/gps_ubx.c **** #define UTM_HEM_NORTH 0
  53:subsystems/gps/gps_ubx.c **** #define UTM_HEM_SOUTH 1
  54:subsystems/gps/gps_ubx.c **** 
  55:subsystems/gps/gps_ubx.c **** 
  56:subsystems/gps/gps_ubx.c **** #define GpsUartSend1(c) GpsLink(Transmit(c))
  57:subsystems/gps/gps_ubx.c **** #define GpsUartSetBaudrate(_a) GpsLink(SetBaudrate(_a))
  58:subsystems/gps/gps_ubx.c **** #define GpsUartRunning GpsLink(TxRunning)
  59:subsystems/gps/gps_ubx.c **** #define GpsUartSendMessage GpsLink(SendMessage)
  60:subsystems/gps/gps_ubx.c **** 
  61:subsystems/gps/gps_ubx.c **** #define UbxInitCheksum() { gps_ubx.send_ck_a = gps_ubx.send_ck_b = 0; }
  62:subsystems/gps/gps_ubx.c **** #define UpdateChecksum(c) { gps_ubx.send_ck_a += c; gps_ubx.send_ck_b += gps_ubx.send_ck_a; }
  63:subsystems/gps/gps_ubx.c **** #define UbxTrailer() { GpsUartSend1(gps_ubx.send_ck_a);  GpsUartSend1(gps_ubx.send_ck_b); GpsUartSe
  64:subsystems/gps/gps_ubx.c **** 
  65:subsystems/gps/gps_ubx.c **** #define UbxSend1(c) { uint8_t i8=c; GpsUartSend1(i8); UpdateChecksum(i8); }
  66:subsystems/gps/gps_ubx.c **** #define UbxSend2(c) { uint16_t i16=c; UbxSend1(i16&0xff); UbxSend1(i16 >> 8); }
  67:subsystems/gps/gps_ubx.c **** #define UbxSend1ByAddr(x) { UbxSend1(*x); }
  68:subsystems/gps/gps_ubx.c **** #define UbxSend2ByAddr(x) { UbxSend1(*x); UbxSend1(*(x+1)); }
  69:subsystems/gps/gps_ubx.c **** #define UbxSend4ByAddr(x) { UbxSend1(*x); UbxSend1(*(x+1)); UbxSend1(*(x+2)); UbxSend1(*(x+3)); }
  70:subsystems/gps/gps_ubx.c **** 
  71:subsystems/gps/gps_ubx.c **** #define UbxHeader(nav_id, msg_id, len) {        \
  72:subsystems/gps/gps_ubx.c ****     GpsUartSend1(UBX_SYNC1);                    \
  73:subsystems/gps/gps_ubx.c ****     GpsUartSend1(UBX_SYNC2);                    \
  74:subsystems/gps/gps_ubx.c ****     UbxInitCheksum();                           \
  75:subsystems/gps/gps_ubx.c ****     UbxSend1(nav_id);                           \
  76:subsystems/gps/gps_ubx.c ****     UbxSend1(msg_id);                           \
  77:subsystems/gps/gps_ubx.c ****     UbxSend2(len);                              \
  78:subsystems/gps/gps_ubx.c ****   }
  79:subsystems/gps/gps_ubx.c **** 
  80:subsystems/gps/gps_ubx.c **** 
  81:subsystems/gps/gps_ubx.c **** struct GpsUbx gps_ubx;
  82:subsystems/gps/gps_ubx.c **** 
  83:subsystems/gps/gps_ubx.c **** void gps_impl_init(void) {
  26              		.loc 1 83 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
  84:subsystems/gps/gps_ubx.c ****    gps_ubx.status = UNINIT;
  31              		.loc 1 84 0
  32 0000 054B     		ldr	r3, .L2
  33 0002 0022     		movs	r2, #0
  34 0004 83F80921 		strb	r2, [r3, #265]
  85:subsystems/gps/gps_ubx.c ****    gps_ubx.msg_available = FALSE;
  35              		.loc 1 85 0
  36 0008 1A70     		strb	r2, [r3, #0]
  86:subsystems/gps/gps_ubx.c ****    gps_ubx.error_cnt = 0;
  37              		.loc 1 86 0
  38 000a 83F81121 		strb	r2, [r3, #273]
  87:subsystems/gps/gps_ubx.c ****    gps_ubx.error_last = GPS_UBX_ERR_NONE;
  39              		.loc 1 87 0
  40 000e 83F81221 		strb	r2, [r3, #274]
  88:subsystems/gps/gps_ubx.c ****    gps_ubx.have_velned = 0;
  41              		.loc 1 88 0
  42 0012 83F81521 		strb	r2, [r3, #277]
  89:subsystems/gps/gps_ubx.c **** }
  43              		.loc 1 89 0
  44 0016 7047     		bx	lr
  45              	.L3:
  46              		.align	2
  47              	.L2:
  48 0018 00000000 		.word	.LANCHOR0
  49              		.cfi_endproc
  50              	.LFE27:
  52              		.global	__aeabi_i2d
  53              		.global	__aeabi_dmul
  54              		.global	__aeabi_d2iz
  55              		.global	__aeabi_i2f
  56              		.global	__aeabi_fdiv
  57              		.global	__aeabi_fmul
  58              		.global	__aeabi_f2iz
  59              		.global	__aeabi_ui2d
  60              		.global	__aeabi_d2uiz
  61              		.section	.text.gps_ubx_read_message,"ax",%progbits
  62              		.align	1
  63              		.global	gps_ubx_read_message
  64              		.thumb
  65              		.thumb_func
  67              	gps_ubx_read_message:
  68              	.LFB28:
  90:subsystems/gps/gps_ubx.c **** 
  91:subsystems/gps/gps_ubx.c **** 
  92:subsystems/gps/gps_ubx.c **** void gps_ubx_read_message(void) {
  69              		.loc 1 92 0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 32
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  74              	.LCFI0:
  75              		.cfi_def_cfa_offset 20
  76              		.cfi_offset 14, -4
  77              		.cfi_offset 7, -8
  78              		.cfi_offset 6, -12
  79              		.cfi_offset 5, -16
  80              		.cfi_offset 4, -20
  93:subsystems/gps/gps_ubx.c **** 
  94:subsystems/gps/gps_ubx.c ****   if (gps_ubx.msg_class == UBX_NAV_ID) {
  81              		.loc 1 94 0
  82 0002 8B4C     		ldr	r4, .L13+8
  92:subsystems/gps/gps_ubx.c **** void gps_ubx_read_message(void) {
  83              		.loc 1 92 0
  84 0004 89B0     		sub	sp, sp, #36
  85              	.LCFI1:
  86              		.cfi_def_cfa_offset 56
  87              		.loc 1 94 0
  88 0006 94F80861 		ldrb	r6, [r4, #264]	@ zero_extendqisi2
  89 000a 012E     		cmp	r6, #1
  90 000c 40F0C881 		bne	.L4
  95:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_id == UBX_NAV_SOL_ID) {
  91              		.loc 1 95 0
  92 0010 94F80731 		ldrb	r3, [r4, #263]	@ zero_extendqisi2
  93 0014 062B     		cmp	r3, #6
  94 0016 40F09980 		bne	.L6
  96:subsystems/gps/gps_ubx.c **** #ifdef GPS_TIMESTAMP
  97:subsystems/gps/gps_ubx.c ****       /* get hardware clock ticks */
  98:subsystems/gps/gps_ubx.c ****       SysTimeTimerStart(gps.t0);
  99:subsystems/gps/gps_ubx.c ****       gps.t0_tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
 100:subsystems/gps/gps_ubx.c ****       gps.t0_tow_frac   = UBX_NAV_SOL_Frac(gps_ubx.msg_buf);
 101:subsystems/gps/gps_ubx.c **** #endif
 102:subsystems/gps/gps_ubx.c ****       gps.tow        = UBX_NAV_SOL_ITOW(gps_ubx.msg_buf);
  95              		.loc 1 102 0
  96 001a A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
  97 001c E17A     		ldrb	r1, [r4, #11]	@ zero_extendqisi2
  98 001e 1204     		lsls	r2, r2, #16
  99 0020 607A     		ldrb	r0, [r4, #9]	@ zero_extendqisi2
 100 0022 42EA0162 		orr	r2, r2, r1, lsl #24
 101 0026 217A     		ldrb	r1, [r4, #8]	@ zero_extendqisi2
 102 0028 824B     		ldr	r3, .L13+12
 103 002a 41EA0021 		orr	r1, r1, r0, lsl #8
 104 002e 0A43     		orrs	r2, r2, r1
 105 0030 1A66     		str	r2, [r3, #96]
 103:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
 106              		.loc 1 103 0
 107 0032 617C     		ldrb	r1, [r4, #17]	@ zero_extendqisi2
 108 0034 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 104:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 105:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 109              		.loc 1 105 0
 110 0036 607D     		ldrb	r0, [r4, #21]	@ zero_extendqisi2
 103:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
 111              		.loc 1 103 0
 112 0038 42EA0122 		orr	r2, r2, r1, lsl #8
 113              		.loc 1 105 0
 114 003c A17D     		ldrb	r1, [r4, #22]	@ zero_extendqisi2
 106:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.y = UBX_NAV_SOL_ECEF_Y(gps_ubx.msg_buf);
 107:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.z = UBX_NAV_SOL_ECEF_Z(gps_ubx.msg_buf);
 108:subsystems/gps/gps_ubx.c ****       gps.pacc       = UBX_NAV_SOL_Pacc(gps_ubx.msg_buf);
 115              		.loc 1 108 0
 116 003e 94F82150 		ldrb	r5, [r4, #33]	@ zero_extendqisi2
 105:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 117              		.loc 1 105 0
 118 0042 0904     		lsls	r1, r1, #16
 119 0044 41EA0021 		orr	r1, r1, r0, lsl #8
 120 0048 207D     		ldrb	r0, [r4, #20]	@ zero_extendqisi2
 103:subsystems/gps/gps_ubx.c ****       gps.week       = UBX_NAV_SOL_week(gps_ubx.msg_buf);
 121              		.loc 1 103 0
 122 004a A3F85C20 		strh	r2, [r3, #92]	@ movhi
 105:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 123              		.loc 1 105 0
 124 004e 0143     		orrs	r1, r1, r0
 125 0050 E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 104:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 126              		.loc 1 104 0
 127 0052 A27C     		ldrb	r2, [r4, #18]	@ zero_extendqisi2
 105:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.x = UBX_NAV_SOL_ECEF_X(gps_ubx.msg_buf);
 128              		.loc 1 105 0
 129 0054 41EA0061 		orr	r1, r1, r0, lsl #24
 130 0058 1960     		str	r1, [r3, #0]
 106:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.y = UBX_NAV_SOL_ECEF_Y(gps_ubx.msg_buf);
 131              		.loc 1 106 0
 132 005a A17E     		ldrb	r1, [r4, #26]	@ zero_extendqisi2
 133 005c 607E     		ldrb	r0, [r4, #25]	@ zero_extendqisi2
 134 005e 0904     		lsls	r1, r1, #16
 135 0060 41EA0021 		orr	r1, r1, r0, lsl #8
 136 0064 207E     		ldrb	r0, [r4, #24]	@ zero_extendqisi2
 104:subsystems/gps/gps_ubx.c ****       gps.fix        = UBX_NAV_SOL_GPSfix(gps_ubx.msg_buf);
 137              		.loc 1 104 0
 138 0066 83F85B20 		strb	r2, [r3, #91]
 106:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.y = UBX_NAV_SOL_ECEF_Y(gps_ubx.msg_buf);
 139              		.loc 1 106 0
 140 006a 0143     		orrs	r1, r1, r0
 141 006c E07E     		ldrb	r0, [r4, #27]	@ zero_extendqisi2
 142 006e 41EA0061 		orr	r1, r1, r0, lsl #24
 143 0072 5960     		str	r1, [r3, #4]
 107:subsystems/gps/gps_ubx.c ****       gps.ecef_pos.z = UBX_NAV_SOL_ECEF_Z(gps_ubx.msg_buf);
 144              		.loc 1 107 0
 145 0074 A17F     		ldrb	r1, [r4, #30]	@ zero_extendqisi2
 146 0076 607F     		ldrb	r0, [r4, #29]	@ zero_extendqisi2
 147 0078 0904     		lsls	r1, r1, #16
 148 007a 41EA0021 		orr	r1, r1, r0, lsl #8
 149 007e 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 150 0080 0143     		orrs	r1, r1, r0
 151 0082 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 152 0084 41EA0061 		orr	r1, r1, r0, lsl #24
 153 0088 9960     		str	r1, [r3, #8]
 154              		.loc 1 108 0
 155 008a 94F82210 		ldrb	r1, [r4, #34]	@ zero_extendqisi2
 156 008e 94F82300 		ldrb	r0, [r4, #35]	@ zero_extendqisi2
 157 0092 0904     		lsls	r1, r1, #16
 158 0094 41EA0061 		orr	r1, r1, r0, lsl #24
 159 0098 94F82000 		ldrb	r0, [r4, #32]	@ zero_extendqisi2
 160 009c 40EA0520 		orr	r0, r0, r5, lsl #8
 161 00a0 0143     		orrs	r1, r1, r0
 162 00a2 D964     		str	r1, [r3, #76]
 109:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.x = UBX_NAV_SOL_ECEFVX(gps_ubx.msg_buf);
 163              		.loc 1 109 0
 164 00a4 94F82610 		ldrb	r1, [r4, #38]	@ zero_extendqisi2
 165 00a8 94F82500 		ldrb	r0, [r4, #37]	@ zero_extendqisi2
 166 00ac 0904     		lsls	r1, r1, #16
 167 00ae 41EA0021 		orr	r1, r1, r0, lsl #8
 168 00b2 94F82400 		ldrb	r0, [r4, #36]	@ zero_extendqisi2
 169 00b6 0143     		orrs	r1, r1, r0
 170 00b8 94F82700 		ldrb	r0, [r4, #39]	@ zero_extendqisi2
 171 00bc 41EA0061 		orr	r1, r1, r0, lsl #24
 172 00c0 D962     		str	r1, [r3, #44]
 110:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.y = UBX_NAV_SOL_ECEFVY(gps_ubx.msg_buf);
 173              		.loc 1 110 0
 174 00c2 94F82A10 		ldrb	r1, [r4, #42]	@ zero_extendqisi2
 175 00c6 94F82900 		ldrb	r0, [r4, #41]	@ zero_extendqisi2
 176 00ca 0904     		lsls	r1, r1, #16
 177 00cc 41EA0021 		orr	r1, r1, r0, lsl #8
 178 00d0 94F82800 		ldrb	r0, [r4, #40]	@ zero_extendqisi2
 111:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.z = UBX_NAV_SOL_ECEFVZ(gps_ubx.msg_buf);
 112:subsystems/gps/gps_ubx.c ****       gps.sacc       = UBX_NAV_SOL_Sacc(gps_ubx.msg_buf);
 179              		.loc 1 112 0
 180 00d4 94F83150 		ldrb	r5, [r4, #49]	@ zero_extendqisi2
 110:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.y = UBX_NAV_SOL_ECEFVY(gps_ubx.msg_buf);
 181              		.loc 1 110 0
 182 00d8 0143     		orrs	r1, r1, r0
 183 00da 94F82B00 		ldrb	r0, [r4, #43]	@ zero_extendqisi2
 184 00de 41EA0061 		orr	r1, r1, r0, lsl #24
 185 00e2 1963     		str	r1, [r3, #48]
 111:subsystems/gps/gps_ubx.c ****       gps.ecef_vel.z = UBX_NAV_SOL_ECEFVZ(gps_ubx.msg_buf);
 186              		.loc 1 111 0
 187 00e4 94F82E10 		ldrb	r1, [r4, #46]	@ zero_extendqisi2
 188 00e8 94F82D00 		ldrb	r0, [r4, #45]	@ zero_extendqisi2
 189 00ec 0904     		lsls	r1, r1, #16
 190 00ee 41EA0021 		orr	r1, r1, r0, lsl #8
 191 00f2 94F82C00 		ldrb	r0, [r4, #44]	@ zero_extendqisi2
 192 00f6 0143     		orrs	r1, r1, r0
 193 00f8 94F82F00 		ldrb	r0, [r4, #47]	@ zero_extendqisi2
 194 00fc 41EA0061 		orr	r1, r1, r0, lsl #24
 195 0100 5963     		str	r1, [r3, #52]
 196              		.loc 1 112 0
 197 0102 94F83210 		ldrb	r1, [r4, #50]	@ zero_extendqisi2
 198 0106 94F83300 		ldrb	r0, [r4, #51]	@ zero_extendqisi2
 199 010a 0904     		lsls	r1, r1, #16
 200 010c 41EA0061 		orr	r1, r1, r0, lsl #24
 201 0110 94F83000 		ldrb	r0, [r4, #48]	@ zero_extendqisi2
 113:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
 114:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
 115:subsystems/gps/gps_ubx.c **** #ifdef GPS_LED
 116:subsystems/gps/gps_ubx.c ****       if (gps.fix == GPS_FIX_3D) {
 202              		.loc 1 116 0
 203 0114 032A     		cmp	r2, #3
 112:subsystems/gps/gps_ubx.c ****       gps.sacc       = UBX_NAV_SOL_Sacc(gps_ubx.msg_buf);
 204              		.loc 1 112 0
 205 0116 40EA0520 		orr	r0, r0, r5, lsl #8
 206 011a 41EA0001 		orr	r1, r1, r0
 207 011e 1965     		str	r1, [r3, #80]
 113:subsystems/gps/gps_ubx.c ****       gps.pdop       = UBX_NAV_SOL_PDOP(gps_ubx.msg_buf);
 208              		.loc 1 113 0
 209 0120 94F83500 		ldrb	r0, [r4, #53]	@ zero_extendqisi2
 210 0124 94F83410 		ldrb	r1, [r4, #52]	@ zero_extendqisi2
 211 0128 41EA0021 		orr	r1, r1, r0, lsl #8
 212 012c A3F85810 		strh	r1, [r3, #88]	@ movhi
 114:subsystems/gps/gps_ubx.c ****       gps.num_sv     = UBX_NAV_SOL_numSV(gps_ubx.msg_buf);
 213              		.loc 1 114 0
 214 0130 94F83710 		ldrb	r1, [r4, #55]	@ zero_extendqisi2
 215 0134 83F85A10 		strb	r1, [r3, #90]
 216 0138 3F4B     		ldr	r3, .L13+16
 217              		.loc 1 116 0
 218 013a 02D1     		bne	.L7
 117:subsystems/gps/gps_ubx.c ****         LED_ON(GPS_LED);
 219              		.loc 1 117 0
 220 013c 0422     		movs	r2, #4
 221 013e 5A61     		str	r2, [r3, #20]
 222 0140 2EE1     		b	.L4
 223              	.L7:
 118:subsystems/gps/gps_ubx.c ****       }
 119:subsystems/gps/gps_ubx.c ****       else {
 120:subsystems/gps/gps_ubx.c ****         LED_TOGGLE(GPS_LED);
 224              		.loc 1 120 0
 225 0142 DA68     		ldr	r2, [r3, #12]
 226 0144 82F00402 		eor	r2, r2, #4
 227 0148 DA60     		str	r2, [r3, #12]
 228 014a 29E1     		b	.L4
 229              	.L6:
 121:subsystems/gps/gps_ubx.c ****       }
 122:subsystems/gps/gps_ubx.c **** #endif
 123:subsystems/gps/gps_ubx.c ****     } else if (gps_ubx.msg_id == UBX_NAV_POSLLH_ID) {
 230              		.loc 1 123 0
 231 014c 022B     		cmp	r3, #2
 232 014e 7BD1     		bne	.L8
 233              	.LBB2:
 124:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lat = RadOfDeg(UBX_NAV_POSLLH_LAT(gps_ubx.msg_buf));
 234              		.loc 1 124 0
 235 0150 A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 236 0152 627C     		ldrb	r2, [r4, #17]	@ zero_extendqisi2
 237 0154 1B04     		lsls	r3, r3, #16
 238 0156 43EA0223 		orr	r3, r3, r2, lsl #8
 239 015a 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 240 015c E07C     		ldrb	r0, [r4, #19]	@ zero_extendqisi2
 241 015e 1343     		orrs	r3, r3, r2
 242 0160 43EA0060 		orr	r0, r3, r0, lsl #24
 243 0164 FFF7FEFF 		bl	__aeabi_i2d
 244 0168 2FA3     		adr	r3, .L13
 245 016a D3E90023 		ldrd	r2, [r3]
 246 016e FFF7FEFF 		bl	__aeabi_dmul
 247 0172 FFF7FEFF 		bl	__aeabi_d2iz
 125:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = RadOfDeg(UBX_NAV_POSLLH_LON(gps_ubx.msg_buf));
 248              		.loc 1 125 0
 249 0176 A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 250 0178 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 124:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lat = RadOfDeg(UBX_NAV_POSLLH_LAT(gps_ubx.msg_buf));
 251              		.loc 1 124 0
 252 017a 2E4D     		ldr	r5, .L13+12
 253              		.loc 1 125 0
 254 017c 1B04     		lsls	r3, r3, #16
 255 017e 43EA0223 		orr	r3, r3, r2, lsl #8
 256 0182 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 124:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lat = RadOfDeg(UBX_NAV_POSLLH_LAT(gps_ubx.msg_buf));
 257              		.loc 1 124 0
 258 0184 0646     		mov	r6, r0
 259 0186 2861     		str	r0, [r5, #16]
 260              		.loc 1 125 0
 261 0188 E07B     		ldrb	r0, [r4, #15]	@ zero_extendqisi2
 262 018a 1343     		orrs	r3, r3, r2
 263 018c 43EA0060 		orr	r0, r3, r0, lsl #24
 264 0190 FFF7FEFF 		bl	__aeabi_i2d
 265 0194 24A3     		adr	r3, .L13
 266 0196 D3E90023 		ldrd	r2, [r3]
 267 019a FFF7FEFF 		bl	__aeabi_dmul
 268 019e FFF7FEFF 		bl	__aeabi_d2iz
 126:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = UBX_NAV_POSLLH_HEIGHT(gps_ubx.msg_buf);
 269              		.loc 1 126 0
 270 01a2 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 271 01a4 627D     		ldrb	r2, [r4, #21]	@ zero_extendqisi2
 272 01a6 1B04     		lsls	r3, r3, #16
 273 01a8 43EA0223 		orr	r3, r3, r2, lsl #8
 274 01ac 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 125:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = RadOfDeg(UBX_NAV_POSLLH_LON(gps_ubx.msg_buf));
 275              		.loc 1 125 0
 276 01ae 0746     		mov	r7, r0
 277              		.loc 1 126 0
 278 01b0 1343     		orrs	r3, r3, r2
 279 01b2 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 125:subsystems/gps/gps_ubx.c ****       gps.lla_pos.lon = RadOfDeg(UBX_NAV_POSLLH_LON(gps_ubx.msg_buf));
 280              		.loc 1 125 0
 281 01b4 E860     		str	r0, [r5, #12]
 282              		.loc 1 126 0
 283 01b6 43EA0263 		orr	r3, r3, r2, lsl #24
 284 01ba 6B61     		str	r3, [r5, #20]
 127:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 285              		.loc 1 127 0
 286 01bc A37E     		ldrb	r3, [r4, #26]	@ zero_extendqisi2
 287 01be 627E     		ldrb	r2, [r4, #25]	@ zero_extendqisi2
 288 01c0 1B04     		lsls	r3, r3, #16
 289 01c2 43EA0223 		orr	r3, r3, r2, lsl #8
 290 01c6 227E     		ldrb	r2, [r4, #24]	@ zero_extendqisi2
 128:subsystems/gps/gps_ubx.c **** #if GPS_USE_LATLONG
 129:subsystems/gps/gps_ubx.c ****       /* Computes from (lat, long) in the referenced UTM zone */
 130:subsystems/gps/gps_ubx.c ****       struct LlaCoor_f lla_f;
 131:subsystems/gps/gps_ubx.c ****       lla_f.lat = ((float) gps.lla_pos.lat) / 1e7;
 291              		.loc 1 131 0
 292 01c8 3046     		mov	r0, r6
 127:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 293              		.loc 1 127 0
 294 01ca 1343     		orrs	r3, r3, r2
 295 01cc E27E     		ldrb	r2, [r4, #27]	@ zero_extendqisi2
 132:subsystems/gps/gps_ubx.c ****       lla_f.lon = ((float) gps.lla_pos.lon) / 1e7;
 133:subsystems/gps/gps_ubx.c ****       struct UtmCoor_f utm_f;
 134:subsystems/gps/gps_ubx.c ****       utm_f.zone = nav_utm_zone0;
 296              		.loc 1 134 0
 297 01ce 1B4C     		ldr	r4, .L13+20
 127:subsystems/gps/gps_ubx.c ****       gps.hmsl        = UBX_NAV_POSLLH_HMSL(gps_ubx.msg_buf);
 298              		.loc 1 127 0
 299 01d0 43EA0263 		orr	r3, r3, r2, lsl #24
 300 01d4 AB62     		str	r3, [r5, #40]
 131:subsystems/gps/gps_ubx.c ****       lla_f.lat = ((float) gps.lla_pos.lat) / 1e7;
 301              		.loc 1 131 0
 302 01d6 FFF7FEFF 		bl	__aeabi_i2f
 303 01da 1949     		ldr	r1, .L13+24
 304 01dc FFF7FEFF 		bl	__aeabi_fdiv
 305 01e0 0690     		str	r0, [sp, #24]	@ float
 132:subsystems/gps/gps_ubx.c ****       lla_f.lon = ((float) gps.lla_pos.lon) / 1e7;
 306              		.loc 1 132 0
 307 01e2 3846     		mov	r0, r7
 308 01e4 FFF7FEFF 		bl	__aeabi_i2f
 309 01e8 1549     		ldr	r1, .L13+24
 310 01ea FFF7FEFF 		bl	__aeabi_fdiv
 311              		.loc 1 134 0
 312 01ee 2378     		ldrb	r3, [r4, #0]	@ zero_extendqisi2
 132:subsystems/gps/gps_ubx.c ****       lla_f.lon = ((float) gps.lla_pos.lon) / 1e7;
 313              		.loc 1 132 0
 314 01f0 0590     		str	r0, [sp, #20]	@ float
 135:subsystems/gps/gps_ubx.c ****       /* convert to utm */
 136:subsystems/gps/gps_ubx.c ****       utm_of_lla_f(&utm_f, &lla_f);
 315              		.loc 1 136 0
 316 01f2 05A9     		add	r1, sp, #20
 317 01f4 01A8     		add	r0, sp, #4
 134:subsystems/gps/gps_ubx.c ****       utm_f.zone = nav_utm_zone0;
 318              		.loc 1 134 0
 319 01f6 8DF81030 		strb	r3, [sp, #16]
 320              		.loc 1 136 0
 321 01fa FFF7FEFF 		bl	utm_of_lla_f
 137:subsystems/gps/gps_ubx.c ****       /* copy results of utm conversion */
 138:subsystems/gps/gps_ubx.c ****       gps.utm_pos.east = utm_f.east*100;
 322              		.loc 1 138 0
 323 01fe 1149     		ldr	r1, .L13+28
 324 0200 0298     		ldr	r0, [sp, #8]	@ float
 325 0202 FFF7FEFF 		bl	__aeabi_fmul
 326 0206 FFF7FEFF 		bl	__aeabi_f2iz
 139:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north*100;
 327              		.loc 1 139 0
 328 020a 0E49     		ldr	r1, .L13+28
 138:subsystems/gps/gps_ubx.c ****       gps.utm_pos.east = utm_f.east*100;
 329              		.loc 1 138 0
 330 020c E861     		str	r0, [r5, #28]
 331              		.loc 1 139 0
 332 020e 0198     		ldr	r0, [sp, #4]	@ float
 333 0210 FFF7FEFF 		bl	__aeabi_fmul
 334 0214 FFF7FEFF 		bl	__aeabi_f2iz
 140:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = gps.lla_pos.alt;
 335              		.loc 1 140 0
 336 0218 6B69     		ldr	r3, [r5, #20]
 139:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = utm_f.north*100;
 337              		.loc 1 139 0
 338 021a A861     		str	r0, [r5, #24]
 339              		.loc 1 140 0
 340 021c 2B62     		str	r3, [r5, #32]
 141:subsystems/gps/gps_ubx.c ****       gps.utm_pos.zone = nav_utm_zone0;
 341              		.loc 1 141 0
 342 021e 2378     		ldrb	r3, [r4, #0]	@ zero_extendqisi2
 343 0220 85F82430 		strb	r3, [r5, #36]
 344 0224 BCE0     		b	.L4
 345              	.L14:
 346 0226 00BF     		.align	3
 347              	.L13:
 348 0228 399D52A2 		.word	2723323193
 349 022c 46DF913F 		.word	1066524486
 350 0230 00000000 		.word	.LANCHOR0
 351 0234 00000000 		.word	gps
 352 0238 00100140 		.word	1073811456
 353 023c 00000000 		.word	nav_utm_zone0
 354 0240 8096184B 		.word	1259902592
 355 0244 0000C842 		.word	1120403456
 356              	.L8:
 357              	.LBE2:
 142:subsystems/gps/gps_ubx.c **** #else
 143:subsystems/gps/gps_ubx.c ****     }
 144:subsystems/gps/gps_ubx.c ****     else if (gps_ubx.msg_id == UBX_NAV_POSUTM_ID) {
 145:subsystems/gps/gps_ubx.c ****       gps.utm_pos.east = UBX_NAV_POSUTM_EAST(gps_ubx.msg_buf);
 146:subsystems/gps/gps_ubx.c ****       gps.utm_pos.north = UBX_NAV_POSUTM_NORTH(gps_ubx.msg_buf);
 147:subsystems/gps/gps_ubx.c ****       uint8_t hem = UBX_NAV_POSUTM_HEM(gps_ubx.msg_buf);
 148:subsystems/gps/gps_ubx.c ****       if (hem == UTM_HEM_SOUTH)
 149:subsystems/gps/gps_ubx.c ****         gps.utm_pos.north -= 1000000000; /* Subtract false northing: -10000km */
 150:subsystems/gps/gps_ubx.c ****       gps.utm_pos.alt = UBX_NAV_POSUTM_ALT(gps_ubx.msg_buf)*10;
 151:subsystems/gps/gps_ubx.c ****       gps.hmsl = gps.utm_pos.alt;
 152:subsystems/gps/gps_ubx.c ****       gps.lla_pos.alt = gps.utm_pos.alt; // FIXME: with UTM only you do not receive ellipsoid altit
 153:subsystems/gps/gps_ubx.c ****       gps.utm_pos.zone = UBX_NAV_POSUTM_ZONE(gps_ubx.msg_buf);
 154:subsystems/gps/gps_ubx.c **** #endif
 155:subsystems/gps/gps_ubx.c ****     }
 156:subsystems/gps/gps_ubx.c ****     else if (gps_ubx.msg_id == UBX_NAV_VELNED_ID) {
 358              		.loc 1 156 0
 359 0248 122B     		cmp	r3, #18
 360 024a 76D1     		bne	.L9
 157:subsystems/gps/gps_ubx.c ****       gps.speed_3d = UBX_NAV_VELNED_Speed(gps_ubx.msg_buf);
 361              		.loc 1 157 0
 362 024c 627E     		ldrb	r2, [r4, #25]	@ zero_extendqisi2
 363 024e 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 364 0250 574D     		ldr	r5, .L15+8
 365 0252 43EA0223 		orr	r3, r3, r2, lsl #8
 366 0256 A5F84630 		strh	r3, [r5, #70]	@ movhi
 158:subsystems/gps/gps_ubx.c ****       gps.gspeed = UBX_NAV_VELNED_GSpeed(gps_ubx.msg_buf);
 367              		.loc 1 158 0
 368 025a 627F     		ldrb	r2, [r4, #29]	@ zero_extendqisi2
 369 025c 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 159:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 160:subsystems/gps/gps_ubx.c ****       gps.ned_vel.y = UBX_NAV_VELNED_VEL_E(gps_ubx.msg_buf);
 161:subsystems/gps/gps_ubx.c ****       gps.ned_vel.z = UBX_NAV_VELNED_VEL_D(gps_ubx.msg_buf);
 162:subsystems/gps/gps_ubx.c ****       // Ublox gives I4 heading in 1e-5 degrees, apparenty from 0 to 360 degrees (not -180 to 180)
 163:subsystems/gps/gps_ubx.c ****       // I4 max = 2^31 = 214 * 1e5 * 100 < 360 * 1e7: overflow on angles over 214 deg -> casted to 
 164:subsystems/gps/gps_ubx.c ****       // solution: First to radians, and then scale to 1e-7 radians
 165:subsystems/gps/gps_ubx.c ****       // First x 10 for loosing less resolution, then to radians, then multiply x 10 again
 166:subsystems/gps/gps_ubx.c ****       gps.course = (RadOfDeg(UBX_NAV_VELNED_Heading(gps_ubx.msg_buf)*10)) * 10;
 370              		.loc 1 166 0
 371 025e 94F82200 		ldrb	r0, [r4, #34]	@ zero_extendqisi2
 158:subsystems/gps/gps_ubx.c ****       gps.gspeed = UBX_NAV_VELNED_GSpeed(gps_ubx.msg_buf);
 372              		.loc 1 158 0
 373 0262 43EA0223 		orr	r3, r3, r2, lsl #8
 374 0266 A5F84430 		strh	r3, [r5, #68]	@ movhi
 159:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 375              		.loc 1 159 0
 376 026a A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 377 026c 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 378 026e 1B04     		lsls	r3, r3, #16
 379 0270 43EA0223 		orr	r3, r3, r2, lsl #8
 380 0274 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 381              		.loc 1 166 0
 382 0276 0004     		lsls	r0, r0, #16
 159:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 383              		.loc 1 159 0
 384 0278 1343     		orrs	r3, r3, r2
 385 027a E27B     		ldrb	r2, [r4, #15]	@ zero_extendqisi2
 386              		.loc 1 166 0
 387 027c 0A27     		movs	r7, #10
 159:subsystems/gps/gps_ubx.c ****       gps.ned_vel.x = UBX_NAV_VELNED_VEL_N(gps_ubx.msg_buf);
 388              		.loc 1 159 0
 389 027e 43EA0263 		orr	r3, r3, r2, lsl #24
 390 0282 AB63     		str	r3, [r5, #56]
 160:subsystems/gps/gps_ubx.c ****       gps.ned_vel.y = UBX_NAV_VELNED_VEL_E(gps_ubx.msg_buf);
 391              		.loc 1 160 0
 392 0284 A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 393 0286 627C     		ldrb	r2, [r4, #17]	@ zero_extendqisi2
 394 0288 1B04     		lsls	r3, r3, #16
 395 028a 43EA0223 		orr	r3, r3, r2, lsl #8
 396 028e 227C     		ldrb	r2, [r4, #16]	@ zero_extendqisi2
 397 0290 1343     		orrs	r3, r3, r2
 398 0292 E27C     		ldrb	r2, [r4, #19]	@ zero_extendqisi2
 399 0294 43EA0263 		orr	r3, r3, r2, lsl #24
 400 0298 EB63     		str	r3, [r5, #60]
 161:subsystems/gps/gps_ubx.c ****       gps.ned_vel.z = UBX_NAV_VELNED_VEL_D(gps_ubx.msg_buf);
 401              		.loc 1 161 0
 402 029a A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 403 029c 627D     		ldrb	r2, [r4, #21]	@ zero_extendqisi2
 404 029e 1B04     		lsls	r3, r3, #16
 405 02a0 43EA0223 		orr	r3, r3, r2, lsl #8
 406 02a4 227D     		ldrb	r2, [r4, #20]	@ zero_extendqisi2
 407 02a6 1343     		orrs	r3, r3, r2
 408 02a8 E27D     		ldrb	r2, [r4, #23]	@ zero_extendqisi2
 409 02aa 43EA0263 		orr	r3, r3, r2, lsl #24
 410 02ae 2B64     		str	r3, [r5, #64]
 411              		.loc 1 166 0
 412 02b0 94F82130 		ldrb	r3, [r4, #33]	@ zero_extendqisi2
 413 02b4 40EA0320 		orr	r0, r0, r3, lsl #8
 414 02b8 94F82030 		ldrb	r3, [r4, #32]	@ zero_extendqisi2
 415 02bc 1843     		orrs	r0, r0, r3
 416 02be 94F82330 		ldrb	r3, [r4, #35]	@ zero_extendqisi2
 417 02c2 40EA0360 		orr	r0, r0, r3, lsl #24
 418 02c6 7843     		muls	r0, r7, r0
 419 02c8 FFF7FEFF 		bl	__aeabi_i2d
 420 02cc 36A3     		adr	r3, .L15
 421 02ce D3E90023 		ldrd	r2, [r3]
 422 02d2 FFF7FEFF 		bl	__aeabi_dmul
 423 02d6 0022     		movs	r2, #0
 424 02d8 364B     		ldr	r3, .L15+12
 425 02da FFF7FEFF 		bl	__aeabi_dmul
 426 02de FFF7FEFF 		bl	__aeabi_d2iz
 427 02e2 A864     		str	r0, [r5, #72]
 167:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf)*10)) * 10;
 428              		.loc 1 167 0
 429 02e4 94F82A00 		ldrb	r0, [r4, #42]	@ zero_extendqisi2
 430 02e8 94F82B30 		ldrb	r3, [r4, #43]	@ zero_extendqisi2
 431 02ec 0004     		lsls	r0, r0, #16
 432 02ee 94F82920 		ldrb	r2, [r4, #41]	@ zero_extendqisi2
 433 02f2 40EA0360 		orr	r0, r0, r3, lsl #24
 434 02f6 94F82830 		ldrb	r3, [r4, #40]	@ zero_extendqisi2
 435 02fa 43EA0223 		orr	r3, r3, r2, lsl #8
 436 02fe 1843     		orrs	r0, r0, r3
 437 0300 7843     		muls	r0, r7, r0
 438 0302 FFF7FEFF 		bl	__aeabi_ui2d
 439 0306 28A3     		adr	r3, .L15
 440 0308 D3E90023 		ldrd	r2, [r3]
 441 030c FFF7FEFF 		bl	__aeabi_dmul
 442 0310 0022     		movs	r2, #0
 443 0312 284B     		ldr	r3, .L15+12
 444 0314 FFF7FEFF 		bl	__aeabi_dmul
 445 0318 FFF7FEFF 		bl	__aeabi_d2uiz
 168:subsystems/gps/gps_ubx.c ****       gps.tow = UBX_NAV_VELNED_ITOW(gps_ubx.msg_buf);
 446              		.loc 1 168 0
 447 031c A37A     		ldrb	r3, [r4, #10]	@ zero_extendqisi2
 448 031e E27A     		ldrb	r2, [r4, #11]	@ zero_extendqisi2
 449 0320 1B04     		lsls	r3, r3, #16
 450 0322 43EA0263 		orr	r3, r3, r2, lsl #24
 451 0326 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 452 0328 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 167:subsystems/gps/gps_ubx.c ****       gps.cacc = (RadOfDeg(UBX_NAV_VELNED_CAcc(gps_ubx.msg_buf)*10)) * 10;
 453              		.loc 1 167 0
 454 032a 6865     		str	r0, [r5, #84]
 455              		.loc 1 168 0
 456 032c 42EA0122 		orr	r2, r2, r1, lsl #8
 457 0330 1343     		orrs	r3, r3, r2
 458 0332 2B66     		str	r3, [r5, #96]
 169:subsystems/gps/gps_ubx.c ****       gps_ubx.have_velned = 1;
 459              		.loc 1 169 0
 460 0334 84F81561 		strb	r6, [r4, #277]
 461 0338 32E0     		b	.L4
 462              	.L9:
 170:subsystems/gps/gps_ubx.c ****     }
 171:subsystems/gps/gps_ubx.c ****     else if (gps_ubx.msg_id == UBX_NAV_SVINFO_ID) {
 463              		.loc 1 171 0
 464 033a 302B     		cmp	r3, #48
 465 033c 24D1     		bne	.L10
 466              	.LBB3:
 172:subsystems/gps/gps_ubx.c ****       gps.nb_channels = Min(UBX_NAV_SVINFO_NCH(gps_ubx.msg_buf), GPS_NB_CHANNELS);
 467              		.loc 1 172 0
 468 033e 217B     		ldrb	r1, [r4, #12]	@ zero_extendqisi2
 469 0340 1B4B     		ldr	r3, .L15+8
 470 0342 1029     		cmp	r1, #16
 471 0344 28BF     		it	cs
 472 0346 1021     		movcs	r1, #16
 473 0348 83F86410 		strb	r1, [r3, #100]
 474              	.LVL0:
 173:subsystems/gps/gps_ubx.c ****       uint8_t i;
 174:subsystems/gps/gps_ubx.c ****       for(i = 0; i < gps.nb_channels; i++) {
 475              		.loc 1 174 0
 476 034c 0022     		movs	r2, #0
 477 034e 16E0     		b	.L11
 478              	.LVL1:
 479              	.L12:
 175:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].svid = UBX_NAV_SVINFO_SVID(gps_ubx.msg_buf, i);
 480              		.loc 1 175 0 discriminator 2
 481 0350 6079     		ldrb	r0, [r4, #5]	@ zero_extendqisi2
 176:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].flags = UBX_NAV_SVINFO_Flags(gps_ubx.msg_buf, i);
 177:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].qi = UBX_NAV_SVINFO_QI(gps_ubx.msg_buf, i);
 178:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].cno = UBX_NAV_SVINFO_CNO(gps_ubx.msg_buf, i);
 179:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].elev = UBX_NAV_SVINFO_Elev(gps_ubx.msg_buf, i);
 180:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].azim = UBX_NAV_SVINFO_Azim(gps_ubx.msg_buf, i);
 482              		.loc 1 180 0 discriminator 2
 483 0352 E57A     		ldrb	r5, [r4, #11]	@ zero_extendqisi2
 175:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].svid = UBX_NAV_SVINFO_SVID(gps_ubx.msg_buf, i);
 484              		.loc 1 175 0 discriminator 2
 485 0354 83F85E00 		strb	r0, [r3, #94]
 176:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].flags = UBX_NAV_SVINFO_Flags(gps_ubx.msg_buf, i);
 486              		.loc 1 176 0 discriminator 2
 487 0358 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 174:subsystems/gps/gps_ubx.c ****       for(i = 0; i < gps.nb_channels; i++) {
 488              		.loc 1 174 0 discriminator 2
 489 035a 0132     		adds	r2, r2, #1
 490              	.LVL2:
 176:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].flags = UBX_NAV_SVINFO_Flags(gps_ubx.msg_buf, i);
 491              		.loc 1 176 0 discriminator 2
 492 035c 83F85F00 		strb	r0, [r3, #95]
 177:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].qi = UBX_NAV_SVINFO_QI(gps_ubx.msg_buf, i);
 493              		.loc 1 177 0 discriminator 2
 494 0360 E079     		ldrb	r0, [r4, #7]	@ zero_extendqisi2
 174:subsystems/gps/gps_ubx.c ****       for(i = 0; i < gps.nb_channels; i++) {
 495              		.loc 1 174 0 discriminator 2
 496 0362 D2B2     		uxtb	r2, r2
 497              	.LVL3:
 177:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].qi = UBX_NAV_SVINFO_QI(gps_ubx.msg_buf, i);
 498              		.loc 1 177 0 discriminator 2
 499 0364 83F86000 		strb	r0, [r3, #96]
 178:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].cno = UBX_NAV_SVINFO_CNO(gps_ubx.msg_buf, i);
 500              		.loc 1 178 0 discriminator 2
 501 0368 207A     		ldrb	r0, [r4, #8]	@ zero_extendqisi2
 502 036a 83F86100 		strb	r0, [r3, #97]
 179:subsystems/gps/gps_ubx.c ****         gps.svinfos[i].elev = UBX_NAV_SVINFO_Elev(gps_ubx.msg_buf, i);
 503              		.loc 1 179 0 discriminator 2
 504 036e 607A     		ldrb	r0, [r4, #9]	@ zero_extendqisi2
 505 0370 83F86200 		strb	r0, [r3, #98]
 506              		.loc 1 180 0 discriminator 2
 507 0374 A07A     		ldrb	r0, [r4, #10]	@ zero_extendqisi2
 508 0376 40EA0520 		orr	r0, r0, r5, lsl #8
 509 037a A3F86400 		strh	r0, [r3, #100]	@ movhi
 510              	.LVL4:
 511              	.L11:
 174:subsystems/gps/gps_ubx.c ****       for(i = 0; i < gps.nb_channels; i++) {
 512              		.loc 1 174 0 discriminator 1
 513 037e 0C34     		adds	r4, r4, #12
 514 0380 0833     		adds	r3, r3, #8
 515 0382 8A42     		cmp	r2, r1
 516 0384 E4D1     		bne	.L12
 517 0386 0BE0     		b	.L4
 518              	.LVL5:
 519              	.L10:
 520              	.LBE3:
 181:subsystems/gps/gps_ubx.c ****       }
 182:subsystems/gps/gps_ubx.c ****     }
 183:subsystems/gps/gps_ubx.c ****     else if (gps_ubx.msg_id == UBX_NAV_STATUS_ID) {
 521              		.loc 1 183 0
 522 0388 032B     		cmp	r3, #3
 523 038a 09D1     		bne	.L4
 184:subsystems/gps/gps_ubx.c ****       gps.fix = UBX_NAV_STATUS_GPSfix(gps_ubx.msg_buf);
 524              		.loc 1 184 0
 525 038c 084B     		ldr	r3, .L15+8
 526 038e 227B     		ldrb	r2, [r4, #12]	@ zero_extendqisi2
 527 0390 83F85B20 		strb	r2, [r3, #91]
 185:subsystems/gps/gps_ubx.c ****       gps_ubx.status_flags = UBX_NAV_STATUS_Flags(gps_ubx.msg_buf);
 528              		.loc 1 185 0
 529 0394 637B     		ldrb	r3, [r4, #13]	@ zero_extendqisi2
 530 0396 84F81331 		strb	r3, [r4, #275]
 186:subsystems/gps/gps_ubx.c ****       gps_ubx.sol_flags = UBX_NAV_SOL_Flags(gps_ubx.msg_buf);
 531              		.loc 1 186 0
 532 039a E37C     		ldrb	r3, [r4, #19]	@ zero_extendqisi2
 533 039c 84F81431 		strb	r3, [r4, #276]
 534              	.L4:
 187:subsystems/gps/gps_ubx.c ****     }
 188:subsystems/gps/gps_ubx.c ****   }
 189:subsystems/gps/gps_ubx.c **** }
 535              		.loc 1 189 0
 536 03a0 09B0     		add	sp, sp, #36
 537 03a2 F0BD     		pop	{r4, r5, r6, r7, pc}
 538              	.L16:
 539 03a4 AFF30080 		.align	3
 540              	.L15:
 541 03a8 399D52A2 		.word	2723323193
 542 03ac 46DF913F 		.word	1066524486
 543 03b0 00000000 		.word	gps
 544 03b4 00002440 		.word	1076101120
 545              		.cfi_endproc
 546              	.LFE28:
 548              		.section	.text.gps_ubx_parse,"ax",%progbits
 549              		.align	1
 550              		.global	gps_ubx_parse
 551              		.thumb
 552              		.thumb_func
 554              	gps_ubx_parse:
 555              	.LFB29:
 190:subsystems/gps/gps_ubx.c **** 
 191:subsystems/gps/gps_ubx.c **** 
 192:subsystems/gps/gps_ubx.c **** /* UBX parsing */
 193:subsystems/gps/gps_ubx.c **** void gps_ubx_parse( uint8_t c ) {
 556              		.loc 1 193 0
 557              		.cfi_startproc
 558              		@ args = 0, pretend = 0, frame = 0
 559              		@ frame_needed = 0, uses_anonymous_args = 0
 560              	.LVL6:
 561 0000 10B5     		push	{r4, lr}
 562              	.LCFI2:
 563              		.cfi_def_cfa_offset 8
 564              		.cfi_offset 14, -4
 565              		.cfi_offset 4, -8
 194:subsystems/gps/gps_ubx.c ****   if (gps_ubx.status < GOT_PAYLOAD) {
 566              		.loc 1 194 0
 567 0002 3F4B     		ldr	r3, .L41
 568 0004 93F80921 		ldrb	r2, [r3, #265]	@ zero_extendqisi2
 569 0008 062A     		cmp	r2, #6
 570 000a 0AD8     		bhi	.L18
 195:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_a += c;
 571              		.loc 1 195 0
 572 000c 93F80D11 		ldrb	r1, [r3, #269]	@ zero_extendqisi2
 196:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_b += gps_ubx.ck_a;
 573              		.loc 1 196 0
 574 0010 93F80E41 		ldrb	r4, [r3, #270]	@ zero_extendqisi2
 195:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_a += c;
 575              		.loc 1 195 0
 576 0014 4118     		adds	r1, r0, r1
 577 0016 C9B2     		uxtb	r1, r1
 578 0018 83F80D11 		strb	r1, [r3, #269]
 579              		.loc 1 196 0
 580 001c 0919     		adds	r1, r1, r4
 581 001e 83F80E11 		strb	r1, [r3, #270]
 582              	.L18:
 197:subsystems/gps/gps_ubx.c ****   }
 198:subsystems/gps/gps_ubx.c ****   switch (gps_ubx.status) {
 583              		.loc 1 198 0
 584 0022 082A     		cmp	r2, #8
 585 0024 5CD8     		bhi	.L19
 586 0026 DFE802F0 		tbb	[pc, r2]
 587              	.L29:
 588 002a 05       		.byte	(.L20-.L29)/2
 589 002b 0A       		.byte	(.L21-.L29)/2
 590 002c 16       		.byte	(.L22-.L29)/2
 591 002d 1F       		.byte	(.L23-.L29)/2
 592 002e 24       		.byte	(.L24-.L29)/2
 593 002f 29       		.byte	(.L25-.L29)/2
 594 0030 39       		.byte	(.L26-.L29)/2
 595 0031 48       		.byte	(.L27-.L29)/2
 596 0032 51       		.byte	(.L28-.L29)/2
 597 0033 00       		.align	1
 598              	.L20:
 199:subsystems/gps/gps_ubx.c ****   case UNINIT:
 200:subsystems/gps/gps_ubx.c ****     if (c == UBX_SYNC1)
 599              		.loc 1 200 0
 600 0034 B528     		cmp	r0, #181
 601 0036 61D1     		bne	.L17
 201:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 602              		.loc 1 201 0
 603 0038 0122     		movs	r2, #1
 604 003a 314B     		ldr	r3, .L41
 605 003c 43E0     		b	.L39
 606              	.L21:
 202:subsystems/gps/gps_ubx.c ****     break;
 203:subsystems/gps/gps_ubx.c ****   case GOT_SYNC1:
 204:subsystems/gps/gps_ubx.c ****     if (c != UBX_SYNC2) {
 607              		.loc 1 204 0
 608 003e 6228     		cmp	r0, #98
 609 0040 2F4B     		ldr	r3, .L41
 610 0042 01D0     		beq	.L31
 205:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_OUT_OF_SYNC;
 611              		.loc 1 205 0
 612 0044 0522     		movs	r2, #5
 613 0046 4DE0     		b	.L38
 614              	.L31:
 206:subsystems/gps/gps_ubx.c ****       goto error;
 207:subsystems/gps/gps_ubx.c ****     }
 208:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_a = 0;
 615              		.loc 1 208 0
 616 0048 0022     		movs	r2, #0
 617 004a 83F80D21 		strb	r2, [r3, #269]
 209:subsystems/gps/gps_ubx.c ****     gps_ubx.ck_b = 0;
 618              		.loc 1 209 0
 619 004e 83F80E21 		strb	r2, [r3, #270]
 210:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 620              		.loc 1 210 0
 621 0052 0222     		movs	r2, #2
 622 0054 37E0     		b	.L39
 623              	.L22:
 211:subsystems/gps/gps_ubx.c ****     break;
 212:subsystems/gps/gps_ubx.c ****   case GOT_SYNC2:
 213:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_available) {
 624              		.loc 1 213 0
 625 0056 2A4B     		ldr	r3, .L41
 626 0058 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 627 005a 0AB1     		cbz	r2, .L33
 214:subsystems/gps/gps_ubx.c ****       /* Previous message has not yet been parsed: discard this one */
 215:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_OVERRUN;
 628              		.loc 1 215 0
 629 005c 0122     		movs	r2, #1
 630 005e 41E0     		b	.L38
 631              	.L33:
 216:subsystems/gps/gps_ubx.c ****       goto error;
 217:subsystems/gps/gps_ubx.c ****     }
 218:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_class = c;
 632              		.loc 1 218 0
 633 0060 83F80801 		strb	r0, [r3, #264]
 219:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 634              		.loc 1 219 0
 635 0064 0322     		movs	r2, #3
 636 0066 2EE0     		b	.L39
 637              	.L23:
 220:subsystems/gps/gps_ubx.c ****     break;
 221:subsystems/gps/gps_ubx.c ****   case GOT_CLASS:
 222:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_id = c;
 638              		.loc 1 222 0
 639 0068 254B     		ldr	r3, .L41
 223:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 640              		.loc 1 223 0
 641 006a 0422     		movs	r2, #4
 222:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_id = c;
 642              		.loc 1 222 0
 643 006c 83F80701 		strb	r0, [r3, #263]
 644 0070 29E0     		b	.L39
 645              	.L24:
 224:subsystems/gps/gps_ubx.c ****     break;
 225:subsystems/gps/gps_ubx.c ****   case GOT_ID:
 226:subsystems/gps/gps_ubx.c ****     gps_ubx.len = c;
 646              		.loc 1 226 0
 647 0072 234B     		ldr	r3, .L41
 227:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 648              		.loc 1 227 0
 649 0074 0522     		movs	r2, #5
 226:subsystems/gps/gps_ubx.c ****     gps_ubx.len = c;
 650              		.loc 1 226 0
 651 0076 A3F80A01 		strh	r0, [r3, #266]	@ movhi
 652 007a 24E0     		b	.L39
 653              	.L25:
 228:subsystems/gps/gps_ubx.c ****     break;
 229:subsystems/gps/gps_ubx.c ****   case GOT_LEN1:
 230:subsystems/gps/gps_ubx.c ****     gps_ubx.len |= (c<<8);
 654              		.loc 1 230 0
 655 007c 204B     		ldr	r3, .L41
 656 007e B3F80A21 		ldrh	r2, [r3, #266]
 657 0082 42EA0020 		orr	r0, r2, r0, lsl #8
 658              	.LVL7:
 231:subsystems/gps/gps_ubx.c ****     if (gps_ubx.len > GPS_UBX_MAX_PAYLOAD) {
 659              		.loc 1 231 0
 660 0086 FF28     		cmp	r0, #255
 230:subsystems/gps/gps_ubx.c ****     gps_ubx.len |= (c<<8);
 661              		.loc 1 230 0
 662 0088 A3F80A01 		strh	r0, [r3, #266]	@ movhi
 663              		.loc 1 231 0
 664 008c 01D9     		bls	.L34
 232:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_MSG_TOO_LONG;
 665              		.loc 1 232 0
 666 008e 0222     		movs	r2, #2
 667 0090 28E0     		b	.L38
 668              	.L34:
 233:subsystems/gps/gps_ubx.c ****       goto error;
 234:subsystems/gps/gps_ubx.c ****     }
 235:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_idx = 0;
 669              		.loc 1 235 0
 670 0092 0022     		movs	r2, #0
 671 0094 83F80C21 		strb	r2, [r3, #268]
 236:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 672              		.loc 1 236 0
 673 0098 0622     		movs	r2, #6
 674 009a 14E0     		b	.L39
 675              	.LVL8:
 676              	.L26:
 237:subsystems/gps/gps_ubx.c ****     break;
 238:subsystems/gps/gps_ubx.c ****   case GOT_LEN2:
 239:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_buf[gps_ubx.msg_idx] = c;
 677              		.loc 1 239 0
 678 009c 184B     		ldr	r3, .L41
 679 009e 93F80C21 		ldrb	r2, [r3, #268]	@ zero_extendqisi2
 680 00a2 9918     		adds	r1, r3, r2
 681 00a4 0872     		strb	r0, [r1, #8]
 240:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_idx++;
 682              		.loc 1 240 0
 683 00a6 0132     		adds	r2, r2, #1
 241:subsystems/gps/gps_ubx.c ****     if (gps_ubx.msg_idx >= gps_ubx.len) {
 684              		.loc 1 241 0
 685 00a8 B3F80A11 		ldrh	r1, [r3, #266]
 240:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_idx++;
 686              		.loc 1 240 0
 687 00ac D2B2     		uxtb	r2, r2
 688              		.loc 1 241 0
 689 00ae 9142     		cmp	r1, r2
 240:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_idx++;
 690              		.loc 1 240 0
 691 00b0 83F80C21 		strb	r2, [r3, #268]
 692              		.loc 1 241 0
 693 00b4 22D8     		bhi	.L17
 242:subsystems/gps/gps_ubx.c ****       gps_ubx.status++;
 694              		.loc 1 242 0
 695 00b6 0722     		movs	r2, #7
 696 00b8 05E0     		b	.L39
 697              	.L27:
 243:subsystems/gps/gps_ubx.c ****     }
 244:subsystems/gps/gps_ubx.c ****     break;
 245:subsystems/gps/gps_ubx.c ****   case GOT_PAYLOAD:
 246:subsystems/gps/gps_ubx.c ****     if (c != gps_ubx.ck_a) {
 698              		.loc 1 246 0
 699 00ba 114B     		ldr	r3, .L41
 700 00bc 93F80D21 		ldrb	r2, [r3, #269]	@ zero_extendqisi2
 701 00c0 8242     		cmp	r2, r0
 702 00c2 08D1     		bne	.L40
 703              	.L35:
 247:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 248:subsystems/gps/gps_ubx.c ****       goto error;
 249:subsystems/gps/gps_ubx.c ****     }
 250:subsystems/gps/gps_ubx.c ****     gps_ubx.status++;
 704              		.loc 1 250 0
 705 00c4 0822     		movs	r2, #8
 706              	.LVL9:
 707              	.L39:
 708 00c6 83F80921 		strb	r2, [r3, #265]
 251:subsystems/gps/gps_ubx.c ****     break;
 709              		.loc 1 251 0
 710 00ca 10BD     		pop	{r4, pc}
 711              	.LVL10:
 712              	.L28:
 252:subsystems/gps/gps_ubx.c ****   case GOT_CHECKSUM1:
 253:subsystems/gps/gps_ubx.c ****     if (c != gps_ubx.ck_b) {
 713              		.loc 1 253 0
 714 00cc 0C4B     		ldr	r3, .L41
 715 00ce 93F80E21 		ldrb	r2, [r3, #270]	@ zero_extendqisi2
 716 00d2 8242     		cmp	r2, r0
 717 00d4 01D0     		beq	.L36
 718              	.L40:
 254:subsystems/gps/gps_ubx.c ****       gps_ubx.error_last = GPS_UBX_ERR_CHECKSUM;
 719              		.loc 1 254 0
 720 00d6 0322     		movs	r2, #3
 721 00d8 04E0     		b	.L38
 722              	.L36:
 255:subsystems/gps/gps_ubx.c ****       goto error;
 256:subsystems/gps/gps_ubx.c ****     }
 257:subsystems/gps/gps_ubx.c ****     gps_ubx.msg_available = TRUE;
 723              		.loc 1 257 0
 724 00da 0122     		movs	r2, #1
 725 00dc 1A70     		strb	r2, [r3, #0]
 258:subsystems/gps/gps_ubx.c ****     goto restart;
 726              		.loc 1 258 0
 727 00de 09E0     		b	.L37
 728              	.L19:
 259:subsystems/gps/gps_ubx.c ****     break;
 260:subsystems/gps/gps_ubx.c ****   default:
 261:subsystems/gps/gps_ubx.c ****     gps_ubx.error_last = GPS_UBX_ERR_UNEXPECTED;
 729              		.loc 1 261 0
 730 00e0 074B     		ldr	r3, .L41
 731 00e2 0422     		movs	r2, #4
 732              	.LVL11:
 733              	.L38:
 734              	.L32:
 735 00e4 83F81221 		strb	r2, [r3, #274]
 262:subsystems/gps/gps_ubx.c ****     goto error;
 263:subsystems/gps/gps_ubx.c ****   }
 264:subsystems/gps/gps_ubx.c ****   return;
 265:subsystems/gps/gps_ubx.c ****  error:
 266:subsystems/gps/gps_ubx.c ****   gps_ubx.error_cnt++;
 736              		.loc 1 266 0
 737 00e8 054B     		ldr	r3, .L41
 738 00ea 93F81121 		ldrb	r2, [r3, #273]	@ zero_extendqisi2
 739 00ee 0132     		adds	r2, r2, #1
 740 00f0 83F81121 		strb	r2, [r3, #273]
 741              	.L37:
 267:subsystems/gps/gps_ubx.c ****  restart:
 268:subsystems/gps/gps_ubx.c ****   gps_ubx.status = UNINIT;
 742              		.loc 1 268 0
 743 00f4 024B     		ldr	r3, .L41
 744 00f6 0022     		movs	r2, #0
 745 00f8 83F80921 		strb	r2, [r3, #265]
 746              	.L17:
 747 00fc 10BD     		pop	{r4, pc}
 748              	.L42:
 749 00fe 00BF     		.align	2
 750              	.L41:
 751 0100 00000000 		.word	.LANCHOR0
 752              		.cfi_endproc
 753              	.LFE29:
 755              		.section	.text.ubxsend_cfg_rst,"ax",%progbits
 756              		.align	1
 757              		.global	ubxsend_cfg_rst
 758              		.thumb
 759              		.thumb_func
 761              	ubxsend_cfg_rst:
 762              	.LFB30:
 269:subsystems/gps/gps_ubx.c ****   return;
 270:subsystems/gps/gps_ubx.c **** }
 271:subsystems/gps/gps_ubx.c **** 
 272:subsystems/gps/gps_ubx.c **** #ifdef GPS_UBX_UCENTER
 273:subsystems/gps/gps_ubx.c **** #include GPS_UBX_UCENTER
 274:subsystems/gps/gps_ubx.c **** #endif
 275:subsystems/gps/gps_ubx.c **** 
 276:subsystems/gps/gps_ubx.c **** 
 277:subsystems/gps/gps_ubx.c **** void ubxsend_cfg_rst(uint16_t bbr , uint8_t reset_mode) {
 763              		.loc 1 277 0
 764              		.cfi_startproc
 765              		@ args = 0, pretend = 0, frame = 8
 766              		@ frame_needed = 0, uses_anonymous_args = 0
 767              	.LVL12:
 768 0000 2DE9F743 		push	{r0, r1, r2, r4, r5, r6, r7, r8, r9, lr}
 769              	.LCFI3:
 770              		.cfi_def_cfa_offset 40
 771              		.cfi_offset 14, -4
 772              		.cfi_offset 9, -8
 773              		.cfi_offset 8, -12
 774              		.cfi_offset 7, -16
 775              		.cfi_offset 6, -20
 776              		.cfi_offset 5, -24
 777              		.cfi_offset 4, -28
 778              		.cfi_offset 2, -32
 779              		.cfi_offset 1, -36
 780              		.cfi_offset 0, -40
 781              	.LBB4:
 278:subsystems/gps/gps_ubx.c **** #ifdef GPS_LINK
 279:subsystems/gps/gps_ubx.c ****   UbxSend_CFG_RST(bbr, reset_mode, 0x00);
 782              		.loc 1 279 0
 783 0004 494D     		ldr	r5, .L44
 784              	.LBE4:
 277:subsystems/gps/gps_ubx.c **** void ubxsend_cfg_rst(uint16_t bbr , uint8_t reset_mode) {
 785              		.loc 1 277 0
 786 0006 8146     		mov	r9, r0
 787 0008 8846     		mov	r8, r1
 788              	.LBB51:
 789              		.loc 1 279 0
 790 000a 2846     		mov	r0, r5
 791              	.LVL13:
 792 000c B521     		movs	r1, #181
 793              	.LVL14:
 794 000e 484C     		ldr	r4, .L44+4
 795 0010 FFF7FEFF 		bl	uart_transmit
 796 0014 2846     		mov	r0, r5
 797 0016 6221     		movs	r1, #98
 798 0018 FFF7FEFF 		bl	uart_transmit
 799 001c 0026     		movs	r6, #0
 800              	.LBB5:
 801 001e 2846     		mov	r0, r5
 802 0020 0621     		movs	r1, #6
 803              	.LBE5:
 804 0022 84F81061 		strb	r6, [r4, #272]
 805 0026 84F80F61 		strb	r6, [r4, #271]
 806              	.LVL15:
 807              	.LBB6:
 808 002a FFF7FEFF 		bl	uart_transmit
 809 002e 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 810 0032 94F81021 		ldrb	r2, [r4, #272]	@ zero_extendqisi2
 811 0036 0633     		adds	r3, r3, #6
 812 0038 DBB2     		uxtb	r3, r3
 813 003a 84F80F31 		strb	r3, [r4, #271]
 814              	.LBE6:
 815              	.LBB7:
 816 003e 2846     		mov	r0, r5
 817              	.LBE7:
 818              	.LBB8:
 819 0040 9B18     		adds	r3, r3, r2
 820              	.LBE8:
 821              	.LBB9:
 822 0042 0421     		movs	r1, #4
 823              	.LBE9:
 824              	.LBB10:
 825 0044 84F81031 		strb	r3, [r4, #272]
 826              	.LVL16:
 827              	.LBE10:
 828              	.LBB11:
 829 0048 FFF7FEFF 		bl	uart_transmit
 830 004c 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 831 0050 94F81021 		ldrb	r2, [r4, #272]	@ zero_extendqisi2
 832 0054 0433     		adds	r3, r3, #4
 833 0056 DBB2     		uxtb	r3, r3
 834 0058 84F80F31 		strb	r3, [r4, #271]
 835              	.LBE11:
 836              	.LBB12:
 837              	.LBB13:
 838 005c 2846     		mov	r0, r5
 839              	.LBE13:
 840              	.LBE12:
 841              	.LBB23:
 842 005e 9B18     		adds	r3, r3, r2
 843              	.LBE23:
 844              	.LBB24:
 845              	.LBB14:
 846 0060 0421     		movs	r1, #4
 847              	.LBE14:
 848              	.LBE24:
 849              	.LBB25:
 850 0062 84F81031 		strb	r3, [r4, #272]
 851              	.LVL17:
 852              	.LBE25:
 853              	.LBB26:
 854              	.LBB15:
 855 0066 FFF7FEFF 		bl	uart_transmit
 856 006a 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 857 006e 94F81021 		ldrb	r2, [r4, #272]	@ zero_extendqisi2
 858 0072 0433     		adds	r3, r3, #4
 859 0074 DBB2     		uxtb	r3, r3
 860 0076 84F80F31 		strb	r3, [r4, #271]
 861              	.LBE15:
 862              	.LBB16:
 863 007a 2846     		mov	r0, r5
 864              	.LBE16:
 865              	.LBB17:
 866 007c 9B18     		adds	r3, r3, r2
 867              	.LBE17:
 868              	.LBB18:
 869 007e 3146     		mov	r1, r6
 870              	.LBE18:
 871              	.LBB19:
 872 0080 84F81031 		strb	r3, [r4, #272]
 873              	.LVL18:
 874              	.LBE19:
 875              	.LBE26:
 876 0084 02AF     		add	r7, sp, #8
 877              	.LBB27:
 878              	.LBB20:
 879 0086 FFF7FEFF 		bl	uart_transmit
 880 008a 94F81021 		ldrb	r2, [r4, #272]	@ zero_extendqisi2
 881 008e 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 882              	.LBE20:
 883              	.LBE27:
 884 0092 27F8029D 		strh	r9, [r7, #-2]!	@ movhi
 885              	.LVL19:
 886              	.LBB28:
 887 0096 5FFA89F9 		uxtb	r9, r9
 888              	.LVL20:
 889              	.LBE28:
 890              	.LBB29:
 891              	.LBB21:
 892 009a D318     		adds	r3, r2, r3
 893              	.LBE21:
 894              	.LBE29:
 895              	.LBB30:
 896 009c 2846     		mov	r0, r5
 897 009e 4946     		mov	r1, r9
 898              	.LBE30:
 899              	.LBB31:
 900              	.LBB22:
 901 00a0 84F81031 		strb	r3, [r4, #272]
 902              	.LBE22:
 903              	.LBE31:
 904              	.LBB32:
 905 00a4 FFF7FEFF 		bl	uart_transmit
 906 00a8 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 907              	.LBE32:
 908              	.LBB33:
 909 00ac 7F78     		ldrb	r7, [r7, #1]	@ zero_extendqisi2
 910              	.LVL21:
 911              	.LBE33:
 912              	.LBB34:
 913 00ae 9944     		add	r9, r9, r3
 914              	.LVL22:
 915 00b0 94F81031 		ldrb	r3, [r4, #272]	@ zero_extendqisi2
 916 00b4 5FFA89F9 		uxtb	r9, r9
 917 00b8 84F80F91 		strb	r9, [r4, #271]
 918              	.LBE34:
 919              	.LBB35:
 920 00bc 2846     		mov	r0, r5
 921              	.LBE35:
 922              	.LBB36:
 923 00be 9944     		add	r9, r9, r3
 924              	.LBE36:
 925              	.LBB37:
 926 00c0 3946     		mov	r1, r7
 927              	.LBE37:
 928              	.LBB38:
 929 00c2 84F81091 		strb	r9, [r4, #272]
 930              	.LBE38:
 931              	.LBB39:
 932 00c6 FFF7FEFF 		bl	uart_transmit
 933 00ca 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 934              	.LBE39:
 935              	.LBB40:
 936 00ce 2846     		mov	r0, r5
 937              	.LBE40:
 938              	.LBB41:
 939 00d0 FF18     		adds	r7, r7, r3
 940              	.LVL23:
 941 00d2 94F81031 		ldrb	r3, [r4, #272]	@ zero_extendqisi2
 942 00d6 FFB2     		uxtb	r7, r7
 943 00d8 84F80F71 		strb	r7, [r4, #271]
 944              	.LBE41:
 945              	.LBB42:
 946 00dc 4146     		mov	r1, r8
 947              	.LBE42:
 948              	.LBB43:
 949 00de FF18     		adds	r7, r7, r3
 950 00e0 84F81071 		strb	r7, [r4, #272]
 951              	.LVL24:
 952              	.LBE43:
 953              	.LBB44:
 954 00e4 FFF7FEFF 		bl	uart_transmit
 955 00e8 94F80F31 		ldrb	r3, [r4, #271]	@ zero_extendqisi2
 956              	.LBE44:
 957              	.LBB45:
 958 00ec 2846     		mov	r0, r5
 959              	.LBE45:
 960              	.LBB46:
 961 00ee 9844     		add	r8, r8, r3
 962              	.LVL25:
 963 00f0 94F81031 		ldrb	r3, [r4, #272]	@ zero_extendqisi2
 964 00f4 5FFA88F8 		uxtb	r8, r8
 965 00f8 84F80F81 		strb	r8, [r4, #271]
 966              	.LBE46:
 967              	.LBB47:
 968 00fc 3146     		mov	r1, r6
 969              	.LBE47:
 970              	.LBB48:
 971 00fe 9844     		add	r8, r8, r3
 972 0100 84F81081 		strb	r8, [r4, #272]
 973              	.LVL26:
 974              	.LBE48:
 975              	.LBB49:
 976 0104 FFF7FEFF 		bl	uart_transmit
 977 0108 94F80F11 		ldrb	r1, [r4, #271]	@ zero_extendqisi2
 978 010c 94F81031 		ldrb	r3, [r4, #272]	@ zero_extendqisi2
 979              	.LBE49:
 980 0110 2846     		mov	r0, r5
 981              	.LBB50:
 982 0112 CB18     		adds	r3, r1, r3
 983 0114 84F81031 		strb	r3, [r4, #272]
 984              	.LBE50:
 985 0118 FFF7FEFF 		bl	uart_transmit
 986 011c 94F81011 		ldrb	r1, [r4, #272]	@ zero_extendqisi2
 987 0120 2846     		mov	r0, r5
 988              	.LBE51:
 280:subsystems/gps/gps_ubx.c **** #endif /* else less harmful for HITL */
 281:subsystems/gps/gps_ubx.c **** }
 989              		.loc 1 281 0
 990 0122 03B0     		add	sp, sp, #12
 991 0124 BDE8F043 		pop	{r4, r5, r6, r7, r8, r9, lr}
 992              	.LBB52:
 279:subsystems/gps/gps_ubx.c ****   UbxSend_CFG_RST(bbr, reset_mode, 0x00);
 993              		.loc 1 279 0
 994 0128 FFF7FEBF 		b	uart_transmit
 995              	.L45:
 996              		.align	2
 997              	.L44:
 998 012c 00000000 		.word	uart3
 999 0130 00000000 		.word	.LANCHOR0
 1000              	.LBE52:
 1001              		.cfi_endproc
 1002              	.LFE30:
 1004              		.global	gps_ubx
 1005              		.section	.bss.gps_ubx,"aw",%nobits
 1006              		.align	3
 1007              		.set	.LANCHOR0,. + 0
 1010              	gps_ubx:
 1011 0000 00000000 		.space	280
 1011      00000000 
 1011      00000000 
 1011      00000000 
 1011      00000000 
 1012              		.text
 1013              	.Letext0:
 1014              		.file 2 "/opt/paparazzi/arm-multilib/lib/gcc/arm-none-eabi/4.6.2/../../../../arm-none-eabi/include
 1015              		.file 3 "/home/uav/paparazzi/sw/include/std.h"
 1016              		.file 4 "./math/pprz_geodetic_int.h"
 1017              		.file 5 "./mcu_periph/uart.h"
 1018              		.file 6 "./subsystems/gps/gps_ubx.h"
 1019              		.file 7 "./subsystems/gps.h"
 1020              		.file 8 "/opt/paparazzi/arm-multilib/lib/gcc/arm-none-eabi/4.6.2/../../../../arm-none-eabi/include
 1021              		.file 9 "./math/pprz_geodetic_float.h"
 1022              		.file 10 "./subsystems/navigation/common_nav.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 gps_ubx.c
     /tmp/ccKe85DY.s:18     .text.gps_impl_init:0000000000000000 $t
     /tmp/ccKe85DY.s:23     .text.gps_impl_init:0000000000000000 gps_impl_init
     /tmp/ccKe85DY.s:48     .text.gps_impl_init:0000000000000018 $d
     /tmp/ccKe85DY.s:62     .text.gps_ubx_read_message:0000000000000000 $t
     /tmp/ccKe85DY.s:67     .text.gps_ubx_read_message:0000000000000000 gps_ubx_read_message
     /tmp/ccKe85DY.s:348    .text.gps_ubx_read_message:0000000000000228 $d
     /tmp/ccKe85DY.s:359    .text.gps_ubx_read_message:0000000000000248 $t
     /tmp/ccKe85DY.s:541    .text.gps_ubx_read_message:00000000000003a8 $d
     /tmp/ccKe85DY.s:549    .text.gps_ubx_parse:0000000000000000 $t
     /tmp/ccKe85DY.s:554    .text.gps_ubx_parse:0000000000000000 gps_ubx_parse
     /tmp/ccKe85DY.s:588    .text.gps_ubx_parse:000000000000002a $d
     /tmp/ccKe85DY.s:751    .text.gps_ubx_parse:0000000000000100 $d
     /tmp/ccKe85DY.s:756    .text.ubxsend_cfg_rst:0000000000000000 $t
     /tmp/ccKe85DY.s:761    .text.ubxsend_cfg_rst:0000000000000000 ubxsend_cfg_rst
     /tmp/ccKe85DY.s:998    .text.ubxsend_cfg_rst:000000000000012c $d
     /tmp/ccKe85DY.s:1010   .bss.gps_ubx:0000000000000000 gps_ubx
     /tmp/ccKe85DY.s:1006   .bss.gps_ubx:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccKe85DY.s:597    .text.gps_ubx_parse:0000000000000033 $d
     /tmp/ccKe85DY.s:597    .text.gps_ubx_parse:0000000000000034 $t

UNDEFINED SYMBOLS
__aeabi_i2d
__aeabi_dmul
__aeabi_d2iz
__aeabi_i2f
__aeabi_fdiv
__aeabi_fmul
__aeabi_f2iz
__aeabi_ui2d
__aeabi_d2uiz
utm_of_lla_f
gps
nav_utm_zone0
uart_transmit
uart3
