   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"guidance_v.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.v_ctl_init,"ax",%progbits
  18              		.align	1
  19              		.global	v_ctl_init
  20              		.thumb
  21              		.thumb_func
  23              	v_ctl_init:
  24              	.LFB26:
  25              		.file 1 "firmwares/fixedwing/guidance/guidance_v.c"
   1:firmwares/fixedwing/guidance/guidance_v.c **** /*
   2:firmwares/fixedwing/guidance/guidance_v.c ****  * Copyright (C) 2006  Pascal Brisset, Antoine Drouin, Michel Gorraz
   3:firmwares/fixedwing/guidance/guidance_v.c ****  *
   4:firmwares/fixedwing/guidance/guidance_v.c ****  * This file is part of paparazzi.
   5:firmwares/fixedwing/guidance/guidance_v.c ****  *
   6:firmwares/fixedwing/guidance/guidance_v.c ****  * paparazzi is free software; you can redistribute it and/or modify
   7:firmwares/fixedwing/guidance/guidance_v.c ****  * it under the terms of the GNU General Public License as published by
   8:firmwares/fixedwing/guidance/guidance_v.c ****  * the Free Software Foundation; either version 2, or (at your option)
   9:firmwares/fixedwing/guidance/guidance_v.c ****  * any later version.
  10:firmwares/fixedwing/guidance/guidance_v.c ****  *
  11:firmwares/fixedwing/guidance/guidance_v.c ****  * paparazzi is distributed in the hope that it will be useful,
  12:firmwares/fixedwing/guidance/guidance_v.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:firmwares/fixedwing/guidance/guidance_v.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:firmwares/fixedwing/guidance/guidance_v.c ****  * GNU General Public License for more details.
  15:firmwares/fixedwing/guidance/guidance_v.c ****  *
  16:firmwares/fixedwing/guidance/guidance_v.c ****  * You should have received a copy of the GNU General Public License
  17:firmwares/fixedwing/guidance/guidance_v.c ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:firmwares/fixedwing/guidance/guidance_v.c ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:firmwares/fixedwing/guidance/guidance_v.c ****  * Boston, MA 02111-1307, USA.
  20:firmwares/fixedwing/guidance/guidance_v.c ****  */
  21:firmwares/fixedwing/guidance/guidance_v.c **** 
  22:firmwares/fixedwing/guidance/guidance_v.c **** /**
  23:firmwares/fixedwing/guidance/guidance_v.c ****  *  @file firmwares/fixedwing/guidance/guidance_v.c
  24:firmwares/fixedwing/guidance/guidance_v.c ****  *  Vertical control for fixed wing vehicles.
  25:firmwares/fixedwing/guidance/guidance_v.c ****  *
  26:firmwares/fixedwing/guidance/guidance_v.c ****  */
  27:firmwares/fixedwing/guidance/guidance_v.c **** 
  28:firmwares/fixedwing/guidance/guidance_v.c **** #include "firmwares/fixedwing/guidance/guidance_v.h"
  29:firmwares/fixedwing/guidance/guidance_v.c **** #include "estimator.h"
  30:firmwares/fixedwing/guidance/guidance_v.c **** #include "subsystems/nav.h"
  31:firmwares/fixedwing/guidance/guidance_v.c **** #include "generated/airframe.h"
  32:firmwares/fixedwing/guidance/guidance_v.c **** #include "firmwares/fixedwing/autopilot.h"
  33:firmwares/fixedwing/guidance/guidance_v.c **** 
  34:firmwares/fixedwing/guidance/guidance_v.c **** /* mode */
  35:firmwares/fixedwing/guidance/guidance_v.c **** uint8_t v_ctl_mode;
  36:firmwares/fixedwing/guidance/guidance_v.c **** 
  37:firmwares/fixedwing/guidance/guidance_v.c **** /* outer loop */
  38:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_setpoint;
  39:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_pre_climb;
  40:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_pgain;
  41:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_error;
  42:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_pre_climb_correction;
  43:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_altitude_max_climb;
  44:firmwares/fixedwing/guidance/guidance_v.c **** 
  45:firmwares/fixedwing/guidance/guidance_v.c **** /* inner loop */
  46:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_climb_setpoint;
  47:firmwares/fixedwing/guidance/guidance_v.c **** uint8_t v_ctl_climb_mode;
  48:firmwares/fixedwing/guidance/guidance_v.c **** uint8_t v_ctl_auto_throttle_submode;
  49:firmwares/fixedwing/guidance/guidance_v.c **** 
  50:firmwares/fixedwing/guidance/guidance_v.c **** #ifndef V_CTL_AUTO_THROTTLE_DGAIN
  51:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_THROTTLE_DGAIN 0.
  52:firmwares/fixedwing/guidance/guidance_v.c **** #endif
  53:firmwares/fixedwing/guidance/guidance_v.c **** 
  54:firmwares/fixedwing/guidance/guidance_v.c **** /* "auto throttle" inner loop parameters */
  55:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_cruise_throttle;
  56:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_nominal_cruise_throttle;
  57:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_min_cruise_throttle;
  58:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_max_cruise_throttle;
  59:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_climb_throttle_increment;
  60:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_pgain;
  61:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_igain;
  62:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_dgain;
  63:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_sum_err;
  64:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_THROTTLE_MAX_SUM_ERR 150
  65:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_pitch_of_vz_pgain;
  66:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_throttle_pitch_of_vz_dgain;
  67:firmwares/fixedwing/guidance/guidance_v.c **** 
  68:firmwares/fixedwing/guidance/guidance_v.c **** #ifndef V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_DGAIN
  69:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_DGAIN 0.
  70:firmwares/fixedwing/guidance/guidance_v.c **** #endif
  71:firmwares/fixedwing/guidance/guidance_v.c **** 
  72:firmwares/fixedwing/guidance/guidance_v.c **** /* agressive tuning */
  73:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef TUNE_AGRESSIVE_CLIMB
  74:firmwares/fixedwing/guidance/guidance_v.c **** float agr_climb_throttle;
  75:firmwares/fixedwing/guidance/guidance_v.c **** float agr_climb_pitch;
  76:firmwares/fixedwing/guidance/guidance_v.c **** float agr_climb_nav_ratio;
  77:firmwares/fixedwing/guidance/guidance_v.c **** float agr_descent_throttle;
  78:firmwares/fixedwing/guidance/guidance_v.c **** float agr_descent_pitch;
  79:firmwares/fixedwing/guidance/guidance_v.c **** float agr_descent_nav_ratio;
  80:firmwares/fixedwing/guidance/guidance_v.c **** #endif
  81:firmwares/fixedwing/guidance/guidance_v.c **** 
  82:firmwares/fixedwing/guidance/guidance_v.c **** /* "auto pitch" inner loop parameters */
  83:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_pitch_pgain;
  84:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_pitch_igain;
  85:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_pitch_sum_err;
  86:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_PITCH_MAX_SUM_ERR 100
  87:firmwares/fixedwing/guidance/guidance_v.c **** 
  88:firmwares/fixedwing/guidance/guidance_v.c **** pprz_t v_ctl_throttle_setpoint;
  89:firmwares/fixedwing/guidance/guidance_v.c **** pprz_t v_ctl_throttle_slewed;
  90:firmwares/fixedwing/guidance/guidance_v.c **** 
  91:firmwares/fixedwing/guidance/guidance_v.c **** inline static void v_ctl_climb_auto_throttle_loop( void );
  92:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef V_CTL_AUTO_PITCH_PGAIN
  93:firmwares/fixedwing/guidance/guidance_v.c **** inline static void v_ctl_climb_auto_pitch_loop( void );
  94:firmwares/fixedwing/guidance/guidance_v.c **** #endif
  95:firmwares/fixedwing/guidance/guidance_v.c **** 
  96:firmwares/fixedwing/guidance/guidance_v.c **** #if USE_AIRSPEED
  97:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_airspeed_setpoint;
  98:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_airspeed_controlled;
  99:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_airspeed_pgain;
 100:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_airspeed_igain;
 101:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_airspeed_sum_err;
 102:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_groundspeed_setpoint;
 103:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_groundspeed_pgain;
 104:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_groundspeed_igain;
 105:firmwares/fixedwing/guidance/guidance_v.c **** float v_ctl_auto_groundspeed_sum_err;
 106:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_AIRSPEED_MAX_SUM_ERR 200
 107:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_GROUNDSPEED_MAX_SUM_ERR 100
 108:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_CLIMB_LIMIT 0.5/4.0 // m/s/s
 109:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_AUTO_AGR_CLIMB_GAIN 2.0 // altitude gain multiplier while in aggressive climb mode
 110:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 111:firmwares/fixedwing/guidance/guidance_v.c **** 
 112:firmwares/fixedwing/guidance/guidance_v.c **** #pragma message "CAUTION! ALL control gains have to be positive now!"
 113:firmwares/fixedwing/guidance/guidance_v.c **** 
 114:firmwares/fixedwing/guidance/guidance_v.c **** #ifndef V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION
 115:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION 1.0f
 116:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 117:firmwares/fixedwing/guidance/guidance_v.c **** 
 118:firmwares/fixedwing/guidance/guidance_v.c **** 
 119:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_init( void ) {
  26              		.loc 1 119 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
 120:firmwares/fixedwing/guidance/guidance_v.c ****   /* mode */
 121:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_mode = V_CTL_MODE_MANUAL;
  30              		.loc 1 121 0
  31 0000 224B     		ldr	r3, .L2
  32 0002 0022     		movs	r2, #0
 122:firmwares/fixedwing/guidance/guidance_v.c **** 
 123:firmwares/fixedwing/guidance/guidance_v.c ****   /* outer loop */
 124:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_setpoint = 0.;
  33              		.loc 1 124 0
  34 0004 2249     		ldr	r1, .L2+4
 119:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_init( void ) {
  35              		.loc 1 119 0
  36 0006 30B5     		push	{r4, r5, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 12
  39              		.cfi_offset 14, -4
  40              		.cfi_offset 5, -8
  41              		.cfi_offset 4, -12
 121:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_mode = V_CTL_MODE_MANUAL;
  42              		.loc 1 121 0
  43 0008 1A70     		strb	r2, [r3, #0]
  44              		.loc 1 124 0
  45 000a 0023     		movs	r3, #0
  46 000c 0B60     		str	r3, [r1, #0]	@ float
 125:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb = 0.;
  47              		.loc 1 125 0
  48 000e 2149     		ldr	r1, .L2+8
 126:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pgain = V_CTL_ALTITUDE_PGAIN;
  49              		.loc 1 126 0
  50 0010 2148     		ldr	r0, .L2+12
 125:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb = 0.;
  51              		.loc 1 125 0
  52 0012 0B60     		str	r3, [r1, #0]	@ float
  53              		.loc 1 126 0
  54 0014 2149     		ldr	r1, .L2+16
 127:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_error = 0.;
 128:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb_correction = V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION;
 129:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_max_climb = V_CTL_ALTITUDE_MAX_CLIMB;
  55              		.loc 1 129 0
  56 0016 4FF08144 		mov	r4, #1082130432
 126:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pgain = V_CTL_ALTITUDE_PGAIN;
  57              		.loc 1 126 0
  58 001a 0860     		str	r0, [r1, #0]	@ float
 127:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_error = 0.;
  59              		.loc 1 127 0
  60 001c 2049     		ldr	r1, .L2+20
 128:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb_correction = V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION;
  61              		.loc 1 128 0
  62 001e 4FF07E50 		mov	r0, #1065353216
 127:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_error = 0.;
  63              		.loc 1 127 0
  64 0022 0B60     		str	r3, [r1, #0]	@ float
 128:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb_correction = V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION;
  65              		.loc 1 128 0
  66 0024 1F49     		ldr	r1, .L2+24
 130:firmwares/fixedwing/guidance/guidance_v.c **** 
 131:firmwares/fixedwing/guidance/guidance_v.c ****   /* inner loops */
 132:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = 0.;
 133:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_mode = V_CTL_CLIMB_MODE_AUTO_THROTTLE;
 134:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_submode = V_CTL_AUTO_THROTTLE_STANDARD;
 135:firmwares/fixedwing/guidance/guidance_v.c **** 
 136:firmwares/fixedwing/guidance/guidance_v.c ****   /* "auto throttle" inner loop parameters */
 137:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_nominal_cruise_throttle = V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE;
 138:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_min_cruise_throttle = V_CTL_AUTO_THROTTLE_MIN_CRUISE_THROTTLE;
  67              		.loc 1 138 0
  68 0026 204D     		ldr	r5, .L2+28
 128:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_pre_climb_correction = V_CTL_ALTITUDE_PRE_CLIMB_CORRECTION;
  69              		.loc 1 128 0
  70 0028 0860     		str	r0, [r1, #0]	@ float
 129:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_max_climb = V_CTL_ALTITUDE_MAX_CLIMB;
  71              		.loc 1 129 0
  72 002a 2049     		ldr	r1, .L2+32
  73 002c 0C60     		str	r4, [r1, #0]	@ float
 132:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = 0.;
  74              		.loc 1 132 0
  75 002e 2049     		ldr	r1, .L2+36
 137:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_nominal_cruise_throttle = V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE;
  76              		.loc 1 137 0
  77 0030 204C     		ldr	r4, .L2+40
 132:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = 0.;
  78              		.loc 1 132 0
  79 0032 0B60     		str	r3, [r1, #0]	@ float
 133:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_mode = V_CTL_CLIMB_MODE_AUTO_THROTTLE;
  80              		.loc 1 133 0
  81 0034 2049     		ldr	r1, .L2+44
  82 0036 0A70     		strb	r2, [r1, #0]
 134:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_submode = V_CTL_AUTO_THROTTLE_STANDARD;
  83              		.loc 1 134 0
  84 0038 2049     		ldr	r1, .L2+48
  85 003a 0A70     		strb	r2, [r1, #0]
 137:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_nominal_cruise_throttle = V_CTL_AUTO_THROTTLE_NOMINAL_CRUISE_THROTTLE;
  86              		.loc 1 137 0
  87 003c 4FF07C51 		mov	r1, #1056964608
  88 0040 2160     		str	r1, [r4, #0]	@ float
  89              		.loc 1 138 0
  90 0042 1F4C     		ldr	r4, .L2+52
  91 0044 2560     		str	r5, [r4, #0]	@ float
 139:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_max_cruise_throttle = V_CTL_AUTO_THROTTLE_MAX_CRUISE_THROTTLE;
  92              		.loc 1 139 0
  93 0046 1F4C     		ldr	r4, .L2+56
  94 0048 2060     		str	r0, [r4, #0]	@ float
 140:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_cruise_throttle = v_ctl_auto_throttle_nominal_cruise_throttle;
  95              		.loc 1 140 0
  96 004a 1F48     		ldr	r0, .L2+60
  97 004c 0160     		str	r1, [r0, #0]	@ float
 141:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_climb_throttle_increment = V_CTL_AUTO_THROTTLE_CLIMB_THROTTLE_INCREMENT;
  98              		.loc 1 141 0
  99 004e 1F48     		ldr	r0, .L2+64
 100 0050 1F49     		ldr	r1, .L2+68
 101 0052 0860     		str	r0, [r1, #0]	@ float
 142:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_pgain = V_CTL_AUTO_THROTTLE_PGAIN;
 102              		.loc 1 142 0
 103 0054 1F48     		ldr	r0, .L2+72
 104 0056 2049     		ldr	r1, .L2+76
 105 0058 0860     		str	r0, [r1, #0]	@ float
 143:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_igain = V_CTL_AUTO_THROTTLE_IGAIN;
 106              		.loc 1 143 0
 107 005a 2048     		ldr	r0, .L2+80
 108 005c 2049     		ldr	r1, .L2+84
 109 005e 0860     		str	r0, [r1, #0]	@ float
 144:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_dgain = V_CTL_AUTO_THROTTLE_DGAIN;
 110              		.loc 1 144 0
 111 0060 2049     		ldr	r1, .L2+88
 145:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_sum_err = 0.;
 146:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_pitch_of_vz_pgain = V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_PGAIN;
 112              		.loc 1 146 0
 113 0062 2148     		ldr	r0, .L2+92
 144:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_dgain = V_CTL_AUTO_THROTTLE_DGAIN;
 114              		.loc 1 144 0
 115 0064 0B60     		str	r3, [r1, #0]	@ float
 145:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_sum_err = 0.;
 116              		.loc 1 145 0
 117 0066 2149     		ldr	r1, .L2+96
 118 0068 0B60     		str	r3, [r1, #0]	@ float
 119              		.loc 1 146 0
 120 006a 2149     		ldr	r1, .L2+100
 121 006c 0860     		str	r0, [r1, #0]	@ float
 147:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_pitch_of_vz_dgain = V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_DGAIN;
 122              		.loc 1 147 0
 123 006e 2149     		ldr	r1, .L2+104
 148:firmwares/fixedwing/guidance/guidance_v.c **** 
 149:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef V_CTL_AUTO_PITCH_PGAIN
 150:firmwares/fixedwing/guidance/guidance_v.c ****   /* "auto pitch" inner loop parameters */
 151:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_pgain = V_CTL_AUTO_PITCH_PGAIN;
 124              		.loc 1 151 0
 125 0070 4FF07850 		mov	r0, #1040187392
 147:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_throttle_pitch_of_vz_dgain = V_CTL_AUTO_THROTTLE_PITCH_OF_VZ_DGAIN;
 126              		.loc 1 147 0
 127 0074 0B60     		str	r3, [r1, #0]	@ float
 128              		.loc 1 151 0
 129 0076 2049     		ldr	r1, .L2+108
 130 0078 0860     		str	r0, [r1, #0]	@ float
 152:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_igain = V_CTL_AUTO_PITCH_IGAIN;
 131              		.loc 1 152 0
 132 007a 2049     		ldr	r1, .L2+112
 133 007c 2048     		ldr	r0, .L2+116
 134 007e 0860     		str	r0, [r1, #0]	@ float
 153:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_sum_err = 0.;
 135              		.loc 1 153 0
 136 0080 2049     		ldr	r1, .L2+120
 137 0082 0B60     		str	r3, [r1, #0]	@ float
 154:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 155:firmwares/fixedwing/guidance/guidance_v.c **** 
 156:firmwares/fixedwing/guidance/guidance_v.c **** #if USE_AIRSPEED
 157:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_setpoint = V_CTL_AUTO_AIRSPEED_SETPOINT;
 158:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_controlled = V_CTL_AUTO_AIRSPEED_SETPOINT;
 159:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_pgain = V_CTL_AUTO_AIRSPEED_PGAIN;
 160:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_igain = V_CTL_AUTO_AIRSPEED_IGAIN;
 161:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_sum_err = 0.;
 162:firmwares/fixedwing/guidance/guidance_v.c **** 
 163:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_groundspeed_setpoint = V_CTL_AUTO_GROUNDSPEED_SETPOINT;
 164:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_groundspeed_pgain = V_CTL_AUTO_GROUNDSPEED_PGAIN;
 165:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_groundspeed_igain = V_CTL_AUTO_GROUNDSPEED_IGAIN;
 166:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_groundspeed_sum_err = 0.;
 167:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 168:firmwares/fixedwing/guidance/guidance_v.c **** 
 169:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = 0;
 138              		.loc 1 169 0
 139 0084 204B     		ldr	r3, .L2+124
 140 0086 1A80     		strh	r2, [r3, #0]	@ movhi
 170:firmwares/fixedwing/guidance/guidance_v.c **** 
 171:firmwares/fixedwing/guidance/guidance_v.c **** /*agressive tuning*/
 172:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef TUNE_AGRESSIVE_CLIMB
 173:firmwares/fixedwing/guidance/guidance_v.c ****   agr_climb_throttle = AGR_CLIMB_THROTTLE;
 174:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_CLIMB_THROTTLE
 175:firmwares/fixedwing/guidance/guidance_v.c ****   #define AGR_CLIMB_THROTTLE agr_climb_throttle
 176:firmwares/fixedwing/guidance/guidance_v.c ****   agr_climb_pitch = AGR_CLIMB_PITCH;
 177:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_CLIMB_PITCH
 178:firmwares/fixedwing/guidance/guidance_v.c ****   #define   AGR_CLIMB_PITCH agr_climb_pitch
 179:firmwares/fixedwing/guidance/guidance_v.c ****   agr_climb_nav_ratio = AGR_CLIMB_NAV_RATIO;
 180:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_CLIMB_NAV_RATIO
 181:firmwares/fixedwing/guidance/guidance_v.c ****   #define   AGR_CLIMB_NAV_RATIO agr_climb_nav_ratio
 182:firmwares/fixedwing/guidance/guidance_v.c ****   agr_descent_throttle = AGR_DESCENT_THROTTLE;
 183:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_DESCENT_THROTTLE
 184:firmwares/fixedwing/guidance/guidance_v.c ****   #define   AGR_DESCENT_THROTTLE agr_descent_throttle
 185:firmwares/fixedwing/guidance/guidance_v.c ****   agr_descent_pitch = AGR_DESCENT_PITCH;
 186:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_DESCENT_PITCH
 187:firmwares/fixedwing/guidance/guidance_v.c ****   #define   AGR_DESCENT_PITCH agr_descent_pitch
 188:firmwares/fixedwing/guidance/guidance_v.c ****   agr_descent_nav_ratio = AGR_DESCENT_NAV_RATIO;
 189:firmwares/fixedwing/guidance/guidance_v.c ****   #undef   AGR_DESCENT_NAV_RATIO
 190:firmwares/fixedwing/guidance/guidance_v.c ****   #define   AGR_DESCENT_NAV_RATIO agr_descent_nav_ratio
 191:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 192:firmwares/fixedwing/guidance/guidance_v.c **** }
 141              		.loc 1 192 0
 142 0088 30BD     		pop	{r4, r5, pc}
 143              	.L3:
 144 008a 00BF     		.align	2
 145              	.L2:
 146 008c 00000000 		.word	.LANCHOR0
 147 0090 00000000 		.word	.LANCHOR1
 148 0094 00000000 		.word	.LANCHOR2
 149 0098 9A99993D 		.word	1033476506
 150 009c 00000000 		.word	.LANCHOR3
 151 00a0 00000000 		.word	.LANCHOR4
 152 00a4 00000000 		.word	.LANCHOR5
 153 00a8 CDCC4C3E 		.word	1045220557
 154 00ac 00000000 		.word	.LANCHOR6
 155 00b0 00000000 		.word	.LANCHOR7
 156 00b4 00000000 		.word	.LANCHOR10
 157 00b8 00000000 		.word	.LANCHOR8
 158 00bc 00000000 		.word	.LANCHOR9
 159 00c0 00000000 		.word	.LANCHOR11
 160 00c4 00000000 		.word	.LANCHOR12
 161 00c8 00000000 		.word	.LANCHOR13
 162 00cc CDCCCC3D 		.word	1036831949
 163 00d0 00000000 		.word	.LANCHOR14
 164 00d4 0AD7A33C 		.word	1017370378
 165 00d8 00000000 		.word	.LANCHOR15
 166 00dc 8FC2F53C 		.word	1022739087
 167 00e0 00000000 		.word	.LANCHOR16
 168 00e4 00000000 		.word	.LANCHOR17
 169 00e8 CDCC4C3D 		.word	1028443341
 170 00ec 00000000 		.word	.LANCHOR18
 171 00f0 00000000 		.word	.LANCHOR19
 172 00f4 00000000 		.word	.LANCHOR20
 173 00f8 00000000 		.word	.LANCHOR21
 174 00fc 00000000 		.word	.LANCHOR22
 175 0100 CDCCCC3C 		.word	1020054733
 176 0104 00000000 		.word	.LANCHOR23
 177 0108 00000000 		.word	.LANCHOR24
 178              		.cfi_endproc
 179              	.LFE26:
 181              		.global	__aeabi_fsub
 182              		.global	__aeabi_fmul
 183              		.global	__aeabi_fadd
 184              		.global	__aeabi_fcmpgt
 185              		.global	__aeabi_fcmplt
 186              		.section	.text.v_ctl_altitude_loop,"ax",%progbits
 187              		.align	1
 188              		.global	v_ctl_altitude_loop
 189              		.thumb
 190              		.thumb_func
 192              	v_ctl_altitude_loop:
 193              	.LFB27:
 193:firmwares/fixedwing/guidance/guidance_v.c **** 
 194:firmwares/fixedwing/guidance/guidance_v.c **** /**
 195:firmwares/fixedwing/guidance/guidance_v.c ****  * outer loop
 196:firmwares/fixedwing/guidance/guidance_v.c ****  * \brief Computes v_ctl_climb_setpoint and sets v_ctl_auto_throttle_submode
 197:firmwares/fixedwing/guidance/guidance_v.c ****  */
 198:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_altitude_loop( void ) {
 194              		.loc 1 198 0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
 198              	.LVL0:
 199:firmwares/fixedwing/guidance/guidance_v.c ****   float altitude_pgain_boost = 1.0;
 200:firmwares/fixedwing/guidance/guidance_v.c **** 
 201:firmwares/fixedwing/guidance/guidance_v.c **** #if USE_AIRSPEED && defined(AGR_CLIMB)
 202:firmwares/fixedwing/guidance/guidance_v.c ****   // Aggressive climb mode (boost gain of altitude loop)
 203:firmwares/fixedwing/guidance/guidance_v.c ****   if ( v_ctl_climb_mode == V_CTL_CLIMB_MODE_AUTO_THROTTLE) {
 204:firmwares/fixedwing/guidance/guidance_v.c ****     float dist = fabs(v_ctl_altitude_error);
 205:firmwares/fixedwing/guidance/guidance_v.c ****     altitude_pgain_boost = 1.0 + (V_CTL_AUTO_AGR_CLIMB_GAIN-1.0)*(dist-AGR_BLEND_END)/(AGR_BLEND_ST
 206:firmwares/fixedwing/guidance/guidance_v.c ****     Bound(altitude_pgain_boost, 1.0, V_CTL_AUTO_AGR_CLIMB_GAIN);
 207:firmwares/fixedwing/guidance/guidance_v.c ****   }
 208:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 209:firmwares/fixedwing/guidance/guidance_v.c **** 
 210:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_altitude_error = v_ctl_altitude_setpoint - estimator_z;
 199              		.loc 1 210 0
 200 0000 154B     		ldr	r3, .L12
 198:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_altitude_loop( void ) {
 201              		.loc 1 198 0
 202 0002 70B5     		push	{r4, r5, r6, lr}
 203              	.LCFI1:
 204              		.cfi_def_cfa_offset 16
 205              		.cfi_offset 14, -4
 206              		.cfi_offset 6, -8
 207              		.cfi_offset 5, -12
 208              		.cfi_offset 4, -16
 209              		.loc 1 210 0
 210 0004 1868     		ldr	r0, [r3, #0]	@ float
 211 0006 154B     		ldr	r3, .L12+4
 212 0008 1968     		ldr	r1, [r3, #0]	@ float
 213 000a FFF7FEFF 		bl	__aeabi_fsub
 214 000e 144B     		ldr	r3, .L12+8
 215 0010 1860     		str	r0, [r3, #0]	@ float
 211:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = altitude_pgain_boost * v_ctl_altitude_pgain * v_ctl_altitude_error
 216              		.loc 1 211 0
 217 0012 144B     		ldr	r3, .L12+12
 218 0014 1968     		ldr	r1, [r3, #0]	@ float
 219 0016 FFF7FEFF 		bl	__aeabi_fmul
 212:firmwares/fixedwing/guidance/guidance_v.c ****     + v_ctl_altitude_pre_climb * v_ctl_altitude_pre_climb_correction;
 220              		.loc 1 212 0
 221 001a 134B     		ldr	r3, .L12+16
 211:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = altitude_pgain_boost * v_ctl_altitude_pgain * v_ctl_altitude_error
 222              		.loc 1 211 0
 223 001c 0446     		mov	r4, r0
 224              		.loc 1 212 0
 225 001e 1868     		ldr	r0, [r3, #0]	@ float
 226 0020 124B     		ldr	r3, .L12+20
 227 0022 1968     		ldr	r1, [r3, #0]	@ float
 228 0024 FFF7FEFF 		bl	__aeabi_fmul
 229 0028 0146     		mov	r1, r0
 230 002a 2046     		mov	r0, r4
 231 002c FFF7FEFF 		bl	__aeabi_fadd
 213:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(v_ctl_climb_setpoint, v_ctl_altitude_max_climb);
 232              		.loc 1 213 0
 233 0030 0F4B     		ldr	r3, .L12+24
 211:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = altitude_pgain_boost * v_ctl_altitude_pgain * v_ctl_altitude_error
 234              		.loc 1 211 0
 235 0032 104C     		ldr	r4, .L12+28
 236              		.loc 1 213 0
 237 0034 1D68     		ldr	r5, [r3, #0]	@ float
 211:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = altitude_pgain_boost * v_ctl_altitude_pgain * v_ctl_altitude_error
 238              		.loc 1 211 0
 239 0036 2060     		str	r0, [r4, #0]	@ float
 240              		.loc 1 213 0
 241 0038 2946     		mov	r1, r5
 212:firmwares/fixedwing/guidance/guidance_v.c ****     + v_ctl_altitude_pre_climb * v_ctl_altitude_pre_climb_correction;
 242              		.loc 1 212 0
 243 003a 0646     		mov	r6, r0
 244              		.loc 1 213 0
 245 003c FFF7FEFF 		bl	__aeabi_fcmpgt
 246 0040 08B1     		cbz	r0, .L11
 247              		.loc 1 213 0 is_stmt 0 discriminator 1
 248 0042 2560     		str	r5, [r4, #0]	@ float
 249 0044 70BD     		pop	{r4, r5, r6, pc}
 250              	.L11:
 251              		.loc 1 213 0 discriminator 2
 252 0046 05F10045 		add	r5, r5, #-2147483648
 253 004a 3046     		mov	r0, r6
 254 004c 2946     		mov	r1, r5
 255 004e FFF7FEFF 		bl	__aeabi_fcmplt
 256 0052 00B1     		cbz	r0, .L4
 257              		.loc 1 213 0 discriminator 3
 258 0054 2560     		str	r5, [r4, #0]	@ float
 259              	.L4:
 260 0056 70BD     		pop	{r4, r5, r6, pc}
 261              	.L13:
 262              		.align	2
 263              	.L12:
 264 0058 00000000 		.word	.LANCHOR1
 265 005c 00000000 		.word	estimator_z
 266 0060 00000000 		.word	.LANCHOR4
 267 0064 00000000 		.word	.LANCHOR3
 268 0068 00000000 		.word	.LANCHOR2
 269 006c 00000000 		.word	.LANCHOR5
 270 0070 00000000 		.word	.LANCHOR6
 271 0074 00000000 		.word	.LANCHOR7
 272              		.cfi_endproc
 273              	.LFE27:
 275              		.global	__aeabi_f2iz
 276              		.global	__aeabi_f2d
 277              		.global	__aeabi_dcmpgt
 278              		.global	__aeabi_dcmplt
 279              		.section	.text.v_ctl_climb_loop,"ax",%progbits
 280              		.align	1
 281              		.global	v_ctl_climb_loop
 282              		.thumb
 283              		.thumb_func
 285              	v_ctl_climb_loop:
 286              	.LFB28:
 214:firmwares/fixedwing/guidance/guidance_v.c **** 
 215:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef AGR_CLIMB
 216:firmwares/fixedwing/guidance/guidance_v.c ****   if ( v_ctl_climb_mode == V_CTL_CLIMB_MODE_AUTO_THROTTLE) {
 217:firmwares/fixedwing/guidance/guidance_v.c ****     float dist = fabs(v_ctl_altitude_error);
 218:firmwares/fixedwing/guidance/guidance_v.c ****     if (dist < AGR_BLEND_END) {
 219:firmwares/fixedwing/guidance/guidance_v.c ****       v_ctl_auto_throttle_submode = V_CTL_AUTO_THROTTLE_STANDARD;
 220:firmwares/fixedwing/guidance/guidance_v.c ****     }
 221:firmwares/fixedwing/guidance/guidance_v.c ****     else if (dist > AGR_BLEND_START) {
 222:firmwares/fixedwing/guidance/guidance_v.c ****       v_ctl_auto_throttle_submode = V_CTL_AUTO_THROTTLE_AGRESSIVE;
 223:firmwares/fixedwing/guidance/guidance_v.c ****     }
 224:firmwares/fixedwing/guidance/guidance_v.c ****     else {
 225:firmwares/fixedwing/guidance/guidance_v.c ****       v_ctl_auto_throttle_submode = V_CTL_AUTO_THROTTLE_BLENDED;
 226:firmwares/fixedwing/guidance/guidance_v.c ****     }
 227:firmwares/fixedwing/guidance/guidance_v.c ****   }
 228:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 229:firmwares/fixedwing/guidance/guidance_v.c **** }
 230:firmwares/fixedwing/guidance/guidance_v.c **** 
 231:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_climb_loop ( void ) {
 287              		.loc 1 231 0 is_stmt 1
 288              		.cfi_startproc
 289              		@ args = 0, pretend = 0, frame = 0
 290              		@ frame_needed = 0, uses_anonymous_args = 0
 291 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, sl, lr}
 292              	.LCFI2:
 293              		.cfi_def_cfa_offset 32
 294              		.cfi_offset 14, -4
 295              		.cfi_offset 10, -8
 296              		.cfi_offset 9, -12
 297              		.cfi_offset 8, -16
 298              		.cfi_offset 7, -20
 299              		.cfi_offset 6, -24
 300              		.cfi_offset 5, -28
 301              		.cfi_offset 4, -32
 232:firmwares/fixedwing/guidance/guidance_v.c ****   switch (v_ctl_climb_mode) {
 302              		.loc 1 232 0
 303 0004 664B     		ldr	r3, .L43+16
 304 0006 674A     		ldr	r2, .L43+20
 305 0008 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 306 000a 012B     		cmp	r3, #1
 307 000c 664B     		ldr	r3, .L43+24
 308 000e 75D0     		beq	.L16
 309              	.LVL1:
 310              	.LBB6:
 311              	.LBB7:
 233:firmwares/fixedwing/guidance/guidance_v.c ****   case V_CTL_CLIMB_MODE_AUTO_THROTTLE:
 234:firmwares/fixedwing/guidance/guidance_v.c ****   default:
 235:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_climb_auto_throttle_loop();
 236:firmwares/fixedwing/guidance/guidance_v.c ****     break;
 237:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef V_CTL_AUTO_PITCH_PGAIN
 238:firmwares/fixedwing/guidance/guidance_v.c ****   case V_CTL_CLIMB_MODE_AUTO_PITCH:
 239:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_climb_auto_pitch_loop();
 240:firmwares/fixedwing/guidance/guidance_v.c ****     break;
 241:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 242:firmwares/fixedwing/guidance/guidance_v.c ****   }
 243:firmwares/fixedwing/guidance/guidance_v.c **** }
 244:firmwares/fixedwing/guidance/guidance_v.c **** 
 245:firmwares/fixedwing/guidance/guidance_v.c **** /**
 246:firmwares/fixedwing/guidance/guidance_v.c ****  * auto throttle inner loop
 247:firmwares/fixedwing/guidance/guidance_v.c ****  * \brief
 248:firmwares/fixedwing/guidance/guidance_v.c ****  */
 249:firmwares/fixedwing/guidance/guidance_v.c **** 
 250:firmwares/fixedwing/guidance/guidance_v.c **** #if !USE_AIRSPEED
 251:firmwares/fixedwing/guidance/guidance_v.c **** 
 252:firmwares/fixedwing/guidance/guidance_v.c **** inline static void v_ctl_climb_auto_throttle_loop(void) {
 253:firmwares/fixedwing/guidance/guidance_v.c ****   static float last_err;
 254:firmwares/fixedwing/guidance/guidance_v.c **** 
 255:firmwares/fixedwing/guidance/guidance_v.c ****   float f_throttle = 0;
 256:firmwares/fixedwing/guidance/guidance_v.c ****   float err  = estimator_z_dot - v_ctl_climb_setpoint;
 312              		.loc 1 256 0
 313 0010 1E68     		ldr	r6, [r3, #0]	@ float
 314 0012 1068     		ldr	r0, [r2, #0]	@ float
 315 0014 3146     		mov	r1, r6
 316 0016 FFF7FEFF 		bl	__aeabi_fsub
 257:firmwares/fixedwing/guidance/guidance_v.c ****   float d_err = err - last_err;
 317              		.loc 1 257 0
 318 001a 644C     		ldr	r4, .L43+28
 256:firmwares/fixedwing/guidance/guidance_v.c ****   float err  = estimator_z_dot - v_ctl_climb_setpoint;
 319              		.loc 1 256 0
 320 001c 0546     		mov	r5, r0
 321              	.LVL2:
 322              		.loc 1 257 0
 323 001e 2168     		ldr	r1, [r4, #0]	@ float
 324 0020 FFF7FEFF 		bl	__aeabi_fsub
 325              	.LVL3:
 258:firmwares/fixedwing/guidance/guidance_v.c ****   last_err = err;
 259:firmwares/fixedwing/guidance/guidance_v.c ****   float controlled_throttle = v_ctl_auto_throttle_cruise_throttle
 260:firmwares/fixedwing/guidance/guidance_v.c ****     + v_ctl_auto_throttle_climb_throttle_increment * v_ctl_climb_setpoint
 326              		.loc 1 260 0
 327 0024 624B     		ldr	r3, .L43+32
 257:firmwares/fixedwing/guidance/guidance_v.c ****   float d_err = err - last_err;
 328              		.loc 1 257 0
 329 0026 8046     		mov	r8, r0
 330              	.LVL4:
 258:firmwares/fixedwing/guidance/guidance_v.c ****   last_err = err;
 331              		.loc 1 258 0
 332 0028 2560     		str	r5, [r4, #0]	@ float
 333              		.loc 1 260 0
 334 002a 1968     		ldr	r1, [r3, #0]	@ float
 335 002c 3046     		mov	r0, r6
 336              	.LVL5:
 337 002e FFF7FEFF 		bl	__aeabi_fmul
 338 0032 604B     		ldr	r3, .L43+36
 261:firmwares/fixedwing/guidance/guidance_v.c ****     - v_ctl_auto_throttle_pgain *
 262:firmwares/fixedwing/guidance/guidance_v.c ****     (err + v_ctl_auto_throttle_igain * v_ctl_auto_throttle_sum_err
 339              		.loc 1 262 0
 340 0034 604C     		ldr	r4, .L43+40
 260:firmwares/fixedwing/guidance/guidance_v.c ****     + v_ctl_auto_throttle_climb_throttle_increment * v_ctl_climb_setpoint
 341              		.loc 1 260 0
 342 0036 1968     		ldr	r1, [r3, #0]	@ float
 343 0038 FFF7FEFF 		bl	__aeabi_fadd
 344              		.loc 1 262 0
 345 003c D4F80090 		ldr	r9, [r4, #0]	@ float
 346 0040 5E4B     		ldr	r3, .L43+44
 260:firmwares/fixedwing/guidance/guidance_v.c ****     + v_ctl_auto_throttle_climb_throttle_increment * v_ctl_climb_setpoint
 347              		.loc 1 260 0
 348 0042 0746     		mov	r7, r0
 349              		.loc 1 262 0
 350 0044 1968     		ldr	r1, [r3, #0]	@ float
 351 0046 4846     		mov	r0, r9
 352 0048 FFF7FEFF 		bl	__aeabi_fmul
 353 004c 0146     		mov	r1, r0
 354 004e 2846     		mov	r0, r5
 355 0050 FFF7FEFF 		bl	__aeabi_fadd
 263:firmwares/fixedwing/guidance/guidance_v.c ****      + v_ctl_auto_throttle_dgain * d_err);
 356              		.loc 1 263 0
 357 0054 5A4B     		ldr	r3, .L43+48
 262:firmwares/fixedwing/guidance/guidance_v.c ****     (err + v_ctl_auto_throttle_igain * v_ctl_auto_throttle_sum_err
 358              		.loc 1 262 0
 359 0056 8246     		mov	sl, r0
 360              		.loc 1 263 0
 361 0058 1968     		ldr	r1, [r3, #0]	@ float
 362 005a 4046     		mov	r0, r8
 363 005c FFF7FEFF 		bl	__aeabi_fmul
 364 0060 0146     		mov	r1, r0
 365 0062 5046     		mov	r0, sl
 366 0064 FFF7FEFF 		bl	__aeabi_fadd
 261:firmwares/fixedwing/guidance/guidance_v.c ****     - v_ctl_auto_throttle_pgain *
 367              		.loc 1 261 0
 368 0068 564B     		ldr	r3, .L43+52
 369 006a 1968     		ldr	r1, [r3, #0]	@ float
 370 006c FFF7FEFF 		bl	__aeabi_fmul
 371 0070 0146     		mov	r1, r0
 259:firmwares/fixedwing/guidance/guidance_v.c ****   float controlled_throttle = v_ctl_auto_throttle_cruise_throttle
 372              		.loc 1 259 0
 373 0072 3846     		mov	r0, r7
 374 0074 FFF7FEFF 		bl	__aeabi_fsub
 264:firmwares/fixedwing/guidance/guidance_v.c **** 
 265:firmwares/fixedwing/guidance/guidance_v.c ****   /* pitch pre-command */
 266:firmwares/fixedwing/guidance/guidance_v.c ****   float v_ctl_pitch_of_vz = (v_ctl_climb_setpoint + d_err * v_ctl_auto_throttle_pitch_of_vz_dgain) 
 375              		.loc 1 266 0
 376 0078 534B     		ldr	r3, .L43+56
 259:firmwares/fixedwing/guidance/guidance_v.c ****   float controlled_throttle = v_ctl_auto_throttle_cruise_throttle
 377              		.loc 1 259 0
 378 007a 0746     		mov	r7, r0
 379              	.LVL6:
 380              		.loc 1 266 0
 381 007c 1968     		ldr	r1, [r3, #0]	@ float
 382 007e 4046     		mov	r0, r8
 383              	.LVL7:
 384 0080 FFF7FEFF 		bl	__aeabi_fmul
 385 0084 0146     		mov	r1, r0
 386 0086 3046     		mov	r0, r6
 387 0088 FFF7FEFF 		bl	__aeabi_fadd
 388 008c 4F4B     		ldr	r3, .L43+60
 389 008e 1968     		ldr	r1, [r3, #0]	@ float
 390 0090 FFF7FEFF 		bl	__aeabi_fmul
 267:firmwares/fixedwing/guidance/guidance_v.c **** 
 268:firmwares/fixedwing/guidance/guidance_v.c **** #if defined AGR_CLIMB
 269:firmwares/fixedwing/guidance/guidance_v.c ****   switch (v_ctl_auto_throttle_submode) {
 270:firmwares/fixedwing/guidance/guidance_v.c ****   case V_CTL_AUTO_THROTTLE_AGRESSIVE:
 271:firmwares/fixedwing/guidance/guidance_v.c ****     if (v_ctl_climb_setpoint > 0) { /* Climbing */
 272:firmwares/fixedwing/guidance/guidance_v.c ****       f_throttle =  AGR_CLIMB_THROTTLE;
 273:firmwares/fixedwing/guidance/guidance_v.c ****       nav_pitch = AGR_CLIMB_PITCH;
 274:firmwares/fixedwing/guidance/guidance_v.c ****     }
 275:firmwares/fixedwing/guidance/guidance_v.c ****     else { /* Going down */
 276:firmwares/fixedwing/guidance/guidance_v.c ****       f_throttle =  AGR_DESCENT_THROTTLE;
 277:firmwares/fixedwing/guidance/guidance_v.c ****       nav_pitch = AGR_DESCENT_PITCH;
 278:firmwares/fixedwing/guidance/guidance_v.c ****     }
 279:firmwares/fixedwing/guidance/guidance_v.c ****     break;
 280:firmwares/fixedwing/guidance/guidance_v.c **** 
 281:firmwares/fixedwing/guidance/guidance_v.c ****   case V_CTL_AUTO_THROTTLE_BLENDED: {
 282:firmwares/fixedwing/guidance/guidance_v.c ****     float ratio = (fabs(v_ctl_altitude_error) - AGR_BLEND_END)
 283:firmwares/fixedwing/guidance/guidance_v.c ****       / (AGR_BLEND_START - AGR_BLEND_END);
 284:firmwares/fixedwing/guidance/guidance_v.c ****     f_throttle = (1-ratio) * controlled_throttle;
 285:firmwares/fixedwing/guidance/guidance_v.c ****     nav_pitch = (1-ratio) * v_ctl_pitch_of_vz;
 286:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_throttle_sum_err += (1-ratio) * err;
 287:firmwares/fixedwing/guidance/guidance_v.c ****     BoundAbs(v_ctl_auto_throttle_sum_err, V_CTL_AUTO_THROTTLE_MAX_SUM_ERR);
 288:firmwares/fixedwing/guidance/guidance_v.c ****     /* positive error -> too low */
 289:firmwares/fixedwing/guidance/guidance_v.c ****     if (v_ctl_altitude_error > 0) {
 290:firmwares/fixedwing/guidance/guidance_v.c ****       f_throttle +=  ratio * AGR_CLIMB_THROTTLE;
 291:firmwares/fixedwing/guidance/guidance_v.c ****       nav_pitch += ratio * AGR_CLIMB_PITCH;
 292:firmwares/fixedwing/guidance/guidance_v.c ****     } else {
 293:firmwares/fixedwing/guidance/guidance_v.c ****       f_throttle += ratio * AGR_DESCENT_THROTTLE;
 294:firmwares/fixedwing/guidance/guidance_v.c ****       nav_pitch += ratio * AGR_DESCENT_PITCH;
 295:firmwares/fixedwing/guidance/guidance_v.c ****     }
 296:firmwares/fixedwing/guidance/guidance_v.c ****     break;
 297:firmwares/fixedwing/guidance/guidance_v.c ****   }
 298:firmwares/fixedwing/guidance/guidance_v.c **** 
 299:firmwares/fixedwing/guidance/guidance_v.c ****   case V_CTL_AUTO_THROTTLE_STANDARD:
 300:firmwares/fixedwing/guidance/guidance_v.c ****   default:
 301:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 302:firmwares/fixedwing/guidance/guidance_v.c ****     f_throttle = controlled_throttle;
 303:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_throttle_sum_err += err;
 391              		.loc 1 303 0
 392 0094 2946     		mov	r1, r5
 266:firmwares/fixedwing/guidance/guidance_v.c ****   float v_ctl_pitch_of_vz = (v_ctl_climb_setpoint + d_err * v_ctl_auto_throttle_pitch_of_vz_dgain) 
 393              		.loc 1 266 0
 394 0096 8046     		mov	r8, r0
 395              	.LVL8:
 396              		.loc 1 303 0
 397 0098 4846     		mov	r0, r9
 398              	.LVL9:
 399 009a FFF7FEFF 		bl	__aeabi_fadd
 304:firmwares/fixedwing/guidance/guidance_v.c ****     BoundAbs(v_ctl_auto_throttle_sum_err, V_CTL_AUTO_THROTTLE_MAX_SUM_ERR);
 400              		.loc 1 304 0
 401 009e 4C4D     		ldr	r5, .L43+64
 402              	.LVL10:
 303:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_throttle_sum_err += err;
 403              		.loc 1 303 0
 404 00a0 2060     		str	r0, [r4, #0]	@ float
 405              		.loc 1 304 0
 406 00a2 2946     		mov	r1, r5
 303:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_throttle_sum_err += err;
 407              		.loc 1 303 0
 408 00a4 0646     		mov	r6, r0
 409              		.loc 1 304 0
 410 00a6 FFF7FEFF 		bl	__aeabi_fcmpgt
 411 00aa 28B9     		cbnz	r0, .L41
 412              	.L38:
 413 00ac 494D     		ldr	r5, .L43+68
 414 00ae 3046     		mov	r0, r6
 415 00b0 2946     		mov	r1, r5
 416 00b2 FFF7FEFF 		bl	__aeabi_fcmplt
 417 00b6 00B1     		cbz	r0, .L19
 418              	.L41:
 419 00b8 2560     		str	r5, [r4, #0]	@ float
 420              	.L19:
 305:firmwares/fixedwing/guidance/guidance_v.c ****     nav_pitch += v_ctl_pitch_of_vz;
 421              		.loc 1 305 0
 422 00ba 474C     		ldr	r4, .L43+72
 423 00bc 4146     		mov	r1, r8
 424 00be 2068     		ldr	r0, [r4, #0]	@ float
 425 00c0 FFF7FEFF 		bl	__aeabi_fadd
 306:firmwares/fixedwing/guidance/guidance_v.c **** #if defined AGR_CLIMB
 307:firmwares/fixedwing/guidance/guidance_v.c ****     break;
 308:firmwares/fixedwing/guidance/guidance_v.c ****   } /* switch submode */
 309:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 310:firmwares/fixedwing/guidance/guidance_v.c **** 
 311:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = TRIM_UPPRZ(f_throttle * MAX_PPRZ);
 426              		.loc 1 311 0
 427 00c4 4549     		ldr	r1, .L43+76
 305:firmwares/fixedwing/guidance/guidance_v.c ****     nav_pitch += v_ctl_pitch_of_vz;
 428              		.loc 1 305 0
 429 00c6 2060     		str	r0, [r4, #0]	@ float
 430              		.loc 1 311 0
 431 00c8 3846     		mov	r0, r7
 432 00ca FFF7FEFF 		bl	__aeabi_fmul
 433 00ce 0021     		movs	r1, #0
 434 00d0 0446     		mov	r4, r0
 435 00d2 FFF7FEFF 		bl	__aeabi_fcmplt
 436 00d6 48B9     		cbnz	r0, .L30
 437 00d8 2046     		mov	r0, r4
 438 00da 4049     		ldr	r1, .L43+76
 439 00dc FFF7FEFF 		bl	__aeabi_fcmpgt
 440 00e0 30B9     		cbnz	r0, .L31
 441 00e2 2046     		mov	r0, r4
 442 00e4 FFF7FEFF 		bl	__aeabi_f2iz
 443 00e8 80B2     		uxth	r0, r0
 444 00ea 03E0     		b	.L21
 445              	.L30:
 446 00ec 0020     		movs	r0, #0
 447 00ee 01E0     		b	.L21
 448              	.L31:
 449 00f0 4FF41650 		mov	r0, #9600
 450              	.L21:
 451 00f4 3A4B     		ldr	r3, .L43+80
 452 00f6 1880     		strh	r0, [r3, #0]	@ movhi
 453 00f8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, sl, pc}
 454              	.LVL11:
 455              	.L16:
 456              	.LBE7:
 457              	.LBE6:
 458              	.LBB8:
 459              	.LBB9:
 312:firmwares/fixedwing/guidance/guidance_v.c **** }
 313:firmwares/fixedwing/guidance/guidance_v.c **** 
 314:firmwares/fixedwing/guidance/guidance_v.c **** #else // USE_AIRSPEED
 315:firmwares/fixedwing/guidance/guidance_v.c **** 
 316:firmwares/fixedwing/guidance/guidance_v.c **** inline static void v_ctl_climb_auto_throttle_loop(void) {
 317:firmwares/fixedwing/guidance/guidance_v.c ****   float f_throttle = 0;
 318:firmwares/fixedwing/guidance/guidance_v.c ****   float controlled_throttle;
 319:firmwares/fixedwing/guidance/guidance_v.c ****   float v_ctl_pitch_of_vz;
 320:firmwares/fixedwing/guidance/guidance_v.c **** 
 321:firmwares/fixedwing/guidance/guidance_v.c ****   // Limit rate of change of climb setpoint (to ensure that airspeed loop can catch-up)
 322:firmwares/fixedwing/guidance/guidance_v.c ****   static float v_ctl_climb_setpoint_last = 0;
 323:firmwares/fixedwing/guidance/guidance_v.c ****   float diff_climb = v_ctl_climb_setpoint - v_ctl_climb_setpoint_last;
 324:firmwares/fixedwing/guidance/guidance_v.c ****   Bound(diff_climb, -V_CTL_AUTO_CLIMB_LIMIT, V_CTL_AUTO_CLIMB_LIMIT);
 325:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint = v_ctl_climb_setpoint_last + diff_climb;
 326:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_climb_setpoint_last = v_ctl_climb_setpoint;
 327:firmwares/fixedwing/guidance/guidance_v.c **** 
 328:firmwares/fixedwing/guidance/guidance_v.c ****   // Pitch control (input: rate of climb error, output: pitch setpoint)
 329:firmwares/fixedwing/guidance/guidance_v.c ****   float err  = estimator_z_dot - v_ctl_climb_setpoint;
 330:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_sum_err += err;
 331:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(v_ctl_auto_pitch_sum_err, V_CTL_AUTO_PITCH_MAX_SUM_ERR);
 332:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_pitch_of_vz = -v_ctl_auto_pitch_pgain *
 333:firmwares/fixedwing/guidance/guidance_v.c ****     (err + v_ctl_auto_pitch_igain * v_ctl_auto_pitch_sum_err);
 334:firmwares/fixedwing/guidance/guidance_v.c **** 
 335:firmwares/fixedwing/guidance/guidance_v.c ****   // Ground speed control loop (input: groundspeed error, output: airspeed controlled)
 336:firmwares/fixedwing/guidance/guidance_v.c ****   float err_groundspeed = (v_ctl_auto_groundspeed_setpoint - estimator_hspeed_mod);
 337:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_groundspeed_sum_err += err_groundspeed;
 338:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(v_ctl_auto_groundspeed_sum_err, V_CTL_AUTO_GROUNDSPEED_MAX_SUM_ERR);
 339:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_controlled = (err_groundspeed + v_ctl_auto_groundspeed_sum_err * v_ctl_auto_g
 340:firmwares/fixedwing/guidance/guidance_v.c **** 
 341:firmwares/fixedwing/guidance/guidance_v.c ****   // Do not allow controlled airspeed below the setpoint
 342:firmwares/fixedwing/guidance/guidance_v.c ****   if (v_ctl_auto_airspeed_controlled < v_ctl_auto_airspeed_setpoint) {
 343:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_airspeed_controlled = v_ctl_auto_airspeed_setpoint;
 344:firmwares/fixedwing/guidance/guidance_v.c ****     v_ctl_auto_groundspeed_sum_err = v_ctl_auto_airspeed_controlled/(v_ctl_auto_groundspeed_pgain*v
 345:firmwares/fixedwing/guidance/guidance_v.c ****   }
 346:firmwares/fixedwing/guidance/guidance_v.c **** 
 347:firmwares/fixedwing/guidance/guidance_v.c ****   // Airspeed control loop (input: airspeed controlled, output: throttle controlled)
 348:firmwares/fixedwing/guidance/guidance_v.c ****   float err_airspeed = (v_ctl_auto_airspeed_controlled - estimator_airspeed);
 349:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_airspeed_sum_err += err_airspeed;
 350:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(v_ctl_auto_airspeed_sum_err, V_CTL_AUTO_AIRSPEED_MAX_SUM_ERR);
 351:firmwares/fixedwing/guidance/guidance_v.c ****   controlled_throttle = (err_airspeed + v_ctl_auto_airspeed_sum_err * v_ctl_auto_airspeed_igain) * 
 352:firmwares/fixedwing/guidance/guidance_v.c **** 
 353:firmwares/fixedwing/guidance/guidance_v.c ****   // Done, set outputs
 354:firmwares/fixedwing/guidance/guidance_v.c ****   Bound(controlled_throttle, 0, v_ctl_auto_throttle_max_cruise_throttle);
 355:firmwares/fixedwing/guidance/guidance_v.c ****   f_throttle = controlled_throttle;
 356:firmwares/fixedwing/guidance/guidance_v.c ****   nav_pitch = v_ctl_pitch_of_vz;
 357:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = TRIM_UPPRZ(f_throttle * MAX_PPRZ);
 358:firmwares/fixedwing/guidance/guidance_v.c ****   Bound(nav_pitch, V_CTL_AUTO_PITCH_MIN_PITCH, V_CTL_AUTO_PITCH_MAX_PITCH);
 359:firmwares/fixedwing/guidance/guidance_v.c **** }
 360:firmwares/fixedwing/guidance/guidance_v.c **** 
 361:firmwares/fixedwing/guidance/guidance_v.c **** #endif // USE_AIRSPEED
 362:firmwares/fixedwing/guidance/guidance_v.c **** 
 363:firmwares/fixedwing/guidance/guidance_v.c **** 
 364:firmwares/fixedwing/guidance/guidance_v.c **** /**
 365:firmwares/fixedwing/guidance/guidance_v.c ****  * auto pitch inner loop
 366:firmwares/fixedwing/guidance/guidance_v.c ****  * \brief computes a nav_pitch from a climb_setpoint given a fixed throttle
 367:firmwares/fixedwing/guidance/guidance_v.c ****  */
 368:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef V_CTL_AUTO_PITCH_PGAIN
 369:firmwares/fixedwing/guidance/guidance_v.c **** inline static void v_ctl_climb_auto_pitch_loop(void) {
 370:firmwares/fixedwing/guidance/guidance_v.c ****   float err  = estimator_z_dot - v_ctl_climb_setpoint;
 460              		.loc 1 370 0
 461 00fc 1968     		ldr	r1, [r3, #0]	@ float
 462 00fe 1068     		ldr	r0, [r2, #0]	@ float
 463 0100 FFF7FEFF 		bl	__aeabi_fsub
 371:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = nav_throttle_setpoint;
 464              		.loc 1 371 0
 465 0104 374B     		ldr	r3, .L43+84
 372:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_sum_err += err;
 466              		.loc 1 372 0
 467 0106 384C     		ldr	r4, .L43+88
 371:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = nav_throttle_setpoint;
 468              		.loc 1 371 0
 469 0108 1A88     		ldrh	r2, [r3, #0]
 470 010a 354B     		ldr	r3, .L43+80
 471              		.loc 1 372 0
 472 010c 2168     		ldr	r1, [r4, #0]	@ float
 371:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_setpoint = nav_throttle_setpoint;
 473              		.loc 1 371 0
 474 010e 1A80     		strh	r2, [r3, #0]	@ movhi
 370:firmwares/fixedwing/guidance/guidance_v.c ****   float err  = estimator_z_dot - v_ctl_climb_setpoint;
 475              		.loc 1 370 0
 476 0110 0746     		mov	r7, r0
 477              	.LVL12:
 478              		.loc 1 372 0
 479 0112 FFF7FEFF 		bl	__aeabi_fadd
 480              	.LVL13:
 373:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(v_ctl_auto_pitch_sum_err, V_CTL_AUTO_PITCH_MAX_SUM_ERR);
 481              		.loc 1 373 0
 482 0116 354D     		ldr	r5, .L43+92
 372:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_sum_err += err;
 483              		.loc 1 372 0
 484 0118 2060     		str	r0, [r4, #0]	@ float
 485              		.loc 1 373 0
 486 011a 2946     		mov	r1, r5
 372:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_auto_pitch_sum_err += err;
 487              		.loc 1 372 0
 488 011c 0646     		mov	r6, r0
 489              		.loc 1 373 0
 490 011e FFF7FEFF 		bl	__aeabi_fcmpgt
 491 0122 28B9     		cbnz	r0, .L42
 492              	.L39:
 493 0124 324D     		ldr	r5, .L43+96
 494 0126 3046     		mov	r0, r6
 495 0128 2946     		mov	r1, r5
 496 012a FFF7FEFF 		bl	__aeabi_fcmplt
 497 012e 00B1     		cbz	r0, .L25
 498              	.L42:
 499 0130 2560     		str	r5, [r4, #0]	@ float
 500              	.L25:
 374:firmwares/fixedwing/guidance/guidance_v.c ****   nav_pitch = -v_ctl_auto_pitch_pgain *
 501              		.loc 1 374 0
 502 0132 304B     		ldr	r3, .L43+100
 503 0134 1C68     		ldr	r4, [r3, #0]
 375:firmwares/fixedwing/guidance/guidance_v.c ****     (err + v_ctl_auto_pitch_igain * v_ctl_auto_pitch_sum_err);
 504              		.loc 1 375 0
 505 0136 304B     		ldr	r3, .L43+104
 374:firmwares/fixedwing/guidance/guidance_v.c ****   nav_pitch = -v_ctl_auto_pitch_pgain *
 506              		.loc 1 374 0
 507 0138 04F10044 		add	r4, r4, #-2147483648
 508              		.loc 1 375 0
 509 013c 1868     		ldr	r0, [r3, #0]	@ float
 510 013e 2A4B     		ldr	r3, .L43+88
 511 0140 1968     		ldr	r1, [r3, #0]	@ float
 512 0142 FFF7FEFF 		bl	__aeabi_fmul
 513 0146 0146     		mov	r1, r0
 514 0148 3846     		mov	r0, r7
 515 014a FFF7FEFF 		bl	__aeabi_fadd
 516 014e 0146     		mov	r1, r0
 374:firmwares/fixedwing/guidance/guidance_v.c ****   nav_pitch = -v_ctl_auto_pitch_pgain *
 517              		.loc 1 374 0
 518 0150 2046     		mov	r0, r4
 519 0152 FFF7FEFF 		bl	__aeabi_fmul
 520 0156 204C     		ldr	r4, .L43+72
 521 0158 2060     		str	r0, [r4, #0]	@ float
 376:firmwares/fixedwing/guidance/guidance_v.c ****   Bound(nav_pitch, V_CTL_AUTO_PITCH_MIN_PITCH, V_CTL_AUTO_PITCH_MAX_PITCH);
 522              		.loc 1 376 0
 523 015a FFF7FEFF 		bl	__aeabi_f2d
 524 015e 0CA3     		adr	r3, .L43
 525 0160 D3E90023 		ldrd	r2, [r3]
 526 0164 0646     		mov	r6, r0
 527 0166 0F46     		mov	r7, r1
 528              	.LVL14:
 529 0168 FFF7FEFF 		bl	__aeabi_dcmpgt
 530 016c 18B1     		cbz	r0, .L40
 531 016e 234B     		ldr	r3, .L43+108
 532 0170 2360     		str	r3, [r4, #0]	@ float
 533 0172 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, sl, pc}
 534              	.L40:
 535 0176 3046     		mov	r0, r6
 536 0178 3946     		mov	r1, r7
 537 017a 07A3     		adr	r3, .L43+8
 538 017c D3E90023 		ldrd	r2, [r3]
 539 0180 FFF7FEFF 		bl	__aeabi_dcmplt
 540 0184 08B1     		cbz	r0, .L14
 541 0186 1E4B     		ldr	r3, .L43+112
 542 0188 2360     		str	r3, [r4, #0]	@ float
 543              	.L14:
 544 018a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, sl, pc}
 545              	.L44:
 546 018e 00BF     		.align	3
 547              	.L43:
 548 0190 0B09185D 		.word	1561856267
 549 0194 DEECDB3F 		.word	1071377630
 550 0198 0B09185D 		.word	1561856267
 551 019c DEECDBBF 		.word	-1076106018
 552 01a0 00000000 		.word	.LANCHOR8
 553 01a4 00000000 		.word	estimator_z_dot
 554 01a8 00000000 		.word	.LANCHOR7
 555 01ac 00000000 		.word	.LANCHOR25
 556 01b0 00000000 		.word	.LANCHOR14
 557 01b4 00000000 		.word	.LANCHOR13
 558 01b8 00000000 		.word	.LANCHOR18
 559 01bc 00000000 		.word	.LANCHOR16
 560 01c0 00000000 		.word	.LANCHOR17
 561 01c4 00000000 		.word	.LANCHOR15
 562 01c8 00000000 		.word	.LANCHOR20
 563 01cc 00000000 		.word	.LANCHOR19
 564 01d0 00001643 		.word	1125515264
 565 01d4 000016C3 		.word	-1021968384
 566 01d8 00000000 		.word	nav_pitch
 567 01dc 00001646 		.word	1175846912
 568 01e0 00000000 		.word	.LANCHOR24
 569 01e4 00000000 		.word	nav_throttle_setpoint
 570 01e8 00000000 		.word	.LANCHOR23
 571 01ec 0000C842 		.word	1120403456
 572 01f0 0000C8C2 		.word	-1027080192
 573 01f4 00000000 		.word	.LANCHOR21
 574 01f8 00000000 		.word	.LANCHOR22
 575 01fc F366DF3E 		.word	1054828275
 576 0200 F366DFBE 		.word	-1092655373
 577              	.LBE9:
 578              	.LBE8:
 579              		.cfi_endproc
 580              	.LFE28:
 582              		.global	__aeabi_i2d
 583 0204 AFF30080 		.section	.text.v_ctl_throttle_slew,"ax",%progbits
 584              		.align	1
 585              		.global	v_ctl_throttle_slew
 586              		.thumb
 587              		.thumb_func
 589              	v_ctl_throttle_slew:
 590              	.LFB31:
 377:firmwares/fixedwing/guidance/guidance_v.c **** }
 378:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 379:firmwares/fixedwing/guidance/guidance_v.c **** 
 380:firmwares/fixedwing/guidance/guidance_v.c **** #ifdef V_CTL_THROTTLE_SLEW_LIMITER
 381:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_THROTTLE_SLEW (1./CONTROL_RATE/(V_CTL_THROTTLE_SLEW_LIMITER))
 382:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 383:firmwares/fixedwing/guidance/guidance_v.c **** 
 384:firmwares/fixedwing/guidance/guidance_v.c **** #ifndef V_CTL_THROTTLE_SLEW
 385:firmwares/fixedwing/guidance/guidance_v.c **** #define V_CTL_THROTTLE_SLEW 1.
 386:firmwares/fixedwing/guidance/guidance_v.c **** #endif
 387:firmwares/fixedwing/guidance/guidance_v.c **** /** \brief Computes slewed throttle from throttle setpoint
 388:firmwares/fixedwing/guidance/guidance_v.c ****     called at 20Hz
 389:firmwares/fixedwing/guidance/guidance_v.c ****  */
 390:firmwares/fixedwing/guidance/guidance_v.c **** void v_ctl_throttle_slew( void ) {
 591              		.loc 1 390 0
 592              		.cfi_startproc
 593              		@ args = 0, pretend = 0, frame = 0
 594              		@ frame_needed = 0, uses_anonymous_args = 0
 595 0000 2DE97043 		push	{r4, r5, r6, r8, r9, lr}
 596              	.LCFI3:
 597              		.cfi_def_cfa_offset 24
 598              		.cfi_offset 14, -4
 599              		.cfi_offset 9, -8
 600              		.cfi_offset 8, -12
 601              		.cfi_offset 6, -16
 602              		.cfi_offset 5, -20
 603              		.cfi_offset 4, -24
 391:firmwares/fixedwing/guidance/guidance_v.c ****   pprz_t diff_throttle = v_ctl_throttle_setpoint - v_ctl_throttle_slewed;
 604              		.loc 1 391 0
 605 0004 104B     		ldr	r3, .L49
 606 0006 114D     		ldr	r5, .L49+4
 607 0008 1C88     		ldrh	r4, [r3, #0]
 608 000a 2E88     		ldrh	r6, [r5, #0]
 609 000c A41B     		subs	r4, r4, r6
 610 000e A4B2     		uxth	r4, r4
 611              	.LVL15:
 392:firmwares/fixedwing/guidance/guidance_v.c ****   BoundAbs(diff_throttle, TRIM_PPRZ(V_CTL_THROTTLE_SLEW*MAX_PPRZ));
 612              		.loc 1 392 0
 613 0010 20B2     		sxth	r0, r4
 614 0012 FFF7FEFF 		bl	__aeabi_i2d
 615 0016 0022     		movs	r2, #0
 616 0018 0D4B     		ldr	r3, .L49+8
 617 001a 8046     		mov	r8, r0
 618 001c 8946     		mov	r9, r1
 619 001e FFF7FEFF 		bl	__aeabi_dcmpgt
 620 0022 58B9     		cbnz	r0, .L47
 621              		.loc 1 392 0 is_stmt 0 discriminator 2
 622 0024 0B4B     		ldr	r3, .L49+12
 623 0026 4046     		mov	r0, r8
 624 0028 4946     		mov	r1, r9
 625 002a 0022     		movs	r2, #0
 626 002c FFF7FEFF 		bl	__aeabi_dcmplt
 627 0030 4DF68023 		movw	r3, #55936
 628 0034 0028     		cmp	r0, #0
 629 0036 18BF     		it	ne
 630 0038 1C46     		movne	r4, r3
 631              	.LVL16:
 632 003a 01E0     		b	.L46
 633              	.LVL17:
 634              	.L47:
 635              		.loc 1 392 0
 636 003c 4FF41654 		mov	r4, #9600
 637              	.LVL18:
 638              	.L46:
 393:firmwares/fixedwing/guidance/guidance_v.c ****   v_ctl_throttle_slewed += diff_throttle;
 639              		.loc 1 393 0 is_stmt 1
 640 0040 3419     		adds	r4, r6, r4
 641              	.LVL19:
 642 0042 2C80     		strh	r4, [r5, #0]	@ movhi
 394:firmwares/fixedwing/guidance/guidance_v.c **** }
 643              		.loc 1 394 0
 644 0044 BDE87083 		pop	{r4, r5, r6, r8, r9, pc}
 645              	.L50:
 646              		.align	2
 647              	.L49:
 648 0048 00000000 		.word	.LANCHOR24
 649 004c 00000000 		.word	.LANCHOR26
 650 0050 00C0C240 		.word	1086504960
 651 0054 00C0C2C0 		.word	-1060978688
 652              		.cfi_endproc
 653              	.LFE31:
 655              		.global	v_ctl_throttle_slewed
 656              		.global	v_ctl_throttle_setpoint
 657              		.global	v_ctl_auto_pitch_sum_err
 658              		.global	v_ctl_auto_pitch_igain
 659              		.global	v_ctl_auto_pitch_pgain
 660              		.global	v_ctl_auto_throttle_pitch_of_vz_dgain
 661              		.global	v_ctl_auto_throttle_pitch_of_vz_pgain
 662              		.global	v_ctl_auto_throttle_sum_err
 663              		.global	v_ctl_auto_throttle_dgain
 664              		.global	v_ctl_auto_throttle_igain
 665              		.global	v_ctl_auto_throttle_pgain
 666              		.global	v_ctl_auto_throttle_climb_throttle_increment
 667              		.global	v_ctl_auto_throttle_max_cruise_throttle
 668              		.global	v_ctl_auto_throttle_min_cruise_throttle
 669              		.global	v_ctl_auto_throttle_nominal_cruise_throttle
 670              		.global	v_ctl_auto_throttle_cruise_throttle
 671              		.global	v_ctl_auto_throttle_submode
 672              		.global	v_ctl_climb_mode
 673              		.global	v_ctl_climb_setpoint
 674              		.global	v_ctl_altitude_max_climb
 675              		.global	v_ctl_altitude_pre_climb_correction
 676              		.global	v_ctl_altitude_error
 677              		.global	v_ctl_altitude_pgain
 678              		.global	v_ctl_altitude_pre_climb
 679              		.global	v_ctl_altitude_setpoint
 680              		.global	v_ctl_mode
 681              		.section	.bss.v_ctl_auto_throttle_nominal_cruise_throttle,"aw",%nobits
 682              		.align	2
 683              		.set	.LANCHOR10,. + 0
 686              	v_ctl_auto_throttle_nominal_cruise_throttle:
 687 0000 00000000 		.space	4
 688              		.section	.bss.v_ctl_auto_throttle_igain,"aw",%nobits
 689              		.align	2
 690              		.set	.LANCHOR16,. + 0
 693              	v_ctl_auto_throttle_igain:
 694 0000 00000000 		.space	4
 695              		.section	.bss.v_ctl_auto_throttle_max_cruise_throttle,"aw",%nobits
 696              		.align	2
 697              		.set	.LANCHOR12,. + 0
 700              	v_ctl_auto_throttle_max_cruise_throttle:
 701 0000 00000000 		.space	4
 702              		.section	.bss.v_ctl_throttle_setpoint,"aw",%nobits
 703              		.align	1
 704              		.set	.LANCHOR24,. + 0
 707              	v_ctl_throttle_setpoint:
 708 0000 0000     		.space	2
 709              		.section	.bss.v_ctl_altitude_pre_climb_correction,"aw",%nobits
 710              		.align	2
 711              		.set	.LANCHOR5,. + 0
 714              	v_ctl_altitude_pre_climb_correction:
 715 0000 00000000 		.space	4
 716              		.section	.bss.v_ctl_altitude_setpoint,"aw",%nobits
 717              		.align	2
 718              		.set	.LANCHOR1,. + 0
 721              	v_ctl_altitude_setpoint:
 722 0000 00000000 		.space	4
 723              		.section	.bss.v_ctl_auto_throttle_dgain,"aw",%nobits
 724              		.align	2
 725              		.set	.LANCHOR17,. + 0
 728              	v_ctl_auto_throttle_dgain:
 729 0000 00000000 		.space	4
 730              		.section	.bss.v_ctl_mode,"aw",%nobits
 731              		.set	.LANCHOR0,. + 0
 734              	v_ctl_mode:
 735 0000 00       		.space	1
 736              		.section	.bss.v_ctl_auto_throttle_pitch_of_vz_pgain,"aw",%nobits
 737              		.align	2
 738              		.set	.LANCHOR19,. + 0
 741              	v_ctl_auto_throttle_pitch_of_vz_pgain:
 742 0000 00000000 		.space	4
 743              		.section	.bss.v_ctl_auto_throttle_pitch_of_vz_dgain,"aw",%nobits
 744              		.align	2
 745              		.set	.LANCHOR20,. + 0
 748              	v_ctl_auto_throttle_pitch_of_vz_dgain:
 749 0000 00000000 		.space	4
 750              		.section	.bss.last_err.3561,"aw",%nobits
 751              		.align	2
 752              		.set	.LANCHOR25,. + 0
 755              	last_err.3561:
 756 0000 00000000 		.space	4
 757              		.section	.bss.v_ctl_auto_pitch_pgain,"aw",%nobits
 758              		.align	2
 759              		.set	.LANCHOR21,. + 0
 762              	v_ctl_auto_pitch_pgain:
 763 0000 00000000 		.space	4
 764              		.section	.bss.v_ctl_auto_throttle_climb_throttle_increment,"aw",%nobits
 765              		.align	2
 766              		.set	.LANCHOR14,. + 0
 769              	v_ctl_auto_throttle_climb_throttle_increment:
 770 0000 00000000 		.space	4
 771              		.section	.bss.v_ctl_altitude_pre_climb,"aw",%nobits
 772              		.align	2
 773              		.set	.LANCHOR2,. + 0
 776              	v_ctl_altitude_pre_climb:
 777 0000 00000000 		.space	4
 778              		.section	.bss.v_ctl_auto_throttle_sum_err,"aw",%nobits
 779              		.align	2
 780              		.set	.LANCHOR18,. + 0
 783              	v_ctl_auto_throttle_sum_err:
 784 0000 00000000 		.space	4
 785              		.section	.bss.v_ctl_climb_setpoint,"aw",%nobits
 786              		.align	2
 787              		.set	.LANCHOR7,. + 0
 790              	v_ctl_climb_setpoint:
 791 0000 00000000 		.space	4
 792              		.section	.bss.v_ctl_auto_pitch_sum_err,"aw",%nobits
 793              		.align	2
 794              		.set	.LANCHOR23,. + 0
 797              	v_ctl_auto_pitch_sum_err:
 798 0000 00000000 		.space	4
 799              		.section	.bss.v_ctl_throttle_slewed,"aw",%nobits
 800              		.align	1
 801              		.set	.LANCHOR26,. + 0
 804              	v_ctl_throttle_slewed:
 805 0000 0000     		.space	2
 806              		.section	.bss.v_ctl_auto_throttle_submode,"aw",%nobits
 807              		.set	.LANCHOR9,. + 0
 810              	v_ctl_auto_throttle_submode:
 811 0000 00       		.space	1
 812              		.section	.bss.v_ctl_auto_throttle_pgain,"aw",%nobits
 813              		.align	2
 814              		.set	.LANCHOR15,. + 0
 817              	v_ctl_auto_throttle_pgain:
 818 0000 00000000 		.space	4
 819              		.section	.bss.v_ctl_auto_pitch_igain,"aw",%nobits
 820              		.align	2
 821              		.set	.LANCHOR22,. + 0
 824              	v_ctl_auto_pitch_igain:
 825 0000 00000000 		.space	4
 826              		.section	.bss.v_ctl_climb_mode,"aw",%nobits
 827              		.set	.LANCHOR8,. + 0
 830              	v_ctl_climb_mode:
 831 0000 00       		.space	1
 832              		.section	.bss.v_ctl_altitude_error,"aw",%nobits
 833              		.align	2
 834              		.set	.LANCHOR4,. + 0
 837              	v_ctl_altitude_error:
 838 0000 00000000 		.space	4
 839              		.section	.bss.v_ctl_auto_throttle_cruise_throttle,"aw",%nobits
 840              		.align	2
 841              		.set	.LANCHOR13,. + 0
 844              	v_ctl_auto_throttle_cruise_throttle:
 845 0000 00000000 		.space	4
 846              		.section	.bss.v_ctl_auto_throttle_min_cruise_throttle,"aw",%nobits
 847              		.align	2
 848              		.set	.LANCHOR11,. + 0
 851              	v_ctl_auto_throttle_min_cruise_throttle:
 852 0000 00000000 		.space	4
 853              		.section	.bss.v_ctl_altitude_pgain,"aw",%nobits
 854              		.align	2
 855              		.set	.LANCHOR3,. + 0
 858              	v_ctl_altitude_pgain:
 859 0000 00000000 		.space	4
 860              		.section	.bss.v_ctl_altitude_max_climb,"aw",%nobits
 861              		.align	2
 862              		.set	.LANCHOR6,. + 0
 865              	v_ctl_altitude_max_climb:
 866 0000 00000000 		.space	4
 867              		.text
 868              	.Letext0:
 869              		.file 2 "/opt/paparazzi/arm-multilib/lib/gcc/arm-none-eabi/4.6.2/../../../../arm-none-eabi/include
 870              		.file 3 "./paparazzi.h"
 871              		.file 4 "/home/uav/USTUAV/paparazzi/sw/include/std.h"
 872              		.file 5 "./mcu_periph/sys_time.h"
 873              		.file 6 "./firmwares/fixedwing/guidance/guidance_v.h"
 874              		.file 7 "./estimator.h"
 875              		.file 8 "./subsystems/nav.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 guidance_v.c
     /tmp/cc7ltbM0.s:18     .text.v_ctl_init:0000000000000000 $t
     /tmp/cc7ltbM0.s:23     .text.v_ctl_init:0000000000000000 v_ctl_init
     /tmp/cc7ltbM0.s:146    .text.v_ctl_init:000000000000008c $d
     /tmp/cc7ltbM0.s:187    .text.v_ctl_altitude_loop:0000000000000000 $t
     /tmp/cc7ltbM0.s:192    .text.v_ctl_altitude_loop:0000000000000000 v_ctl_altitude_loop
     /tmp/cc7ltbM0.s:264    .text.v_ctl_altitude_loop:0000000000000058 $d
     /tmp/cc7ltbM0.s:280    .text.v_ctl_climb_loop:0000000000000000 $t
     /tmp/cc7ltbM0.s:285    .text.v_ctl_climb_loop:0000000000000000 v_ctl_climb_loop
     /tmp/cc7ltbM0.s:548    .text.v_ctl_climb_loop:0000000000000190 $d
     /tmp/cc7ltbM0.s:584    .text.v_ctl_throttle_slew:0000000000000000 $t
     /tmp/cc7ltbM0.s:589    .text.v_ctl_throttle_slew:0000000000000000 v_ctl_throttle_slew
     /tmp/cc7ltbM0.s:648    .text.v_ctl_throttle_slew:0000000000000048 $d
     /tmp/cc7ltbM0.s:804    .bss.v_ctl_throttle_slewed:0000000000000000 v_ctl_throttle_slewed
     /tmp/cc7ltbM0.s:707    .bss.v_ctl_throttle_setpoint:0000000000000000 v_ctl_throttle_setpoint
     /tmp/cc7ltbM0.s:797    .bss.v_ctl_auto_pitch_sum_err:0000000000000000 v_ctl_auto_pitch_sum_err
     /tmp/cc7ltbM0.s:824    .bss.v_ctl_auto_pitch_igain:0000000000000000 v_ctl_auto_pitch_igain
     /tmp/cc7ltbM0.s:762    .bss.v_ctl_auto_pitch_pgain:0000000000000000 v_ctl_auto_pitch_pgain
     /tmp/cc7ltbM0.s:748    .bss.v_ctl_auto_throttle_pitch_of_vz_dgain:0000000000000000 v_ctl_auto_throttle_pitch_of_vz_dgain
     /tmp/cc7ltbM0.s:741    .bss.v_ctl_auto_throttle_pitch_of_vz_pgain:0000000000000000 v_ctl_auto_throttle_pitch_of_vz_pgain
     /tmp/cc7ltbM0.s:783    .bss.v_ctl_auto_throttle_sum_err:0000000000000000 v_ctl_auto_throttle_sum_err
     /tmp/cc7ltbM0.s:728    .bss.v_ctl_auto_throttle_dgain:0000000000000000 v_ctl_auto_throttle_dgain
     /tmp/cc7ltbM0.s:693    .bss.v_ctl_auto_throttle_igain:0000000000000000 v_ctl_auto_throttle_igain
     /tmp/cc7ltbM0.s:817    .bss.v_ctl_auto_throttle_pgain:0000000000000000 v_ctl_auto_throttle_pgain
     /tmp/cc7ltbM0.s:769    .bss.v_ctl_auto_throttle_climb_throttle_increment:0000000000000000 v_ctl_auto_throttle_climb_throttle_increment
     /tmp/cc7ltbM0.s:700    .bss.v_ctl_auto_throttle_max_cruise_throttle:0000000000000000 v_ctl_auto_throttle_max_cruise_throttle
     /tmp/cc7ltbM0.s:851    .bss.v_ctl_auto_throttle_min_cruise_throttle:0000000000000000 v_ctl_auto_throttle_min_cruise_throttle
     /tmp/cc7ltbM0.s:686    .bss.v_ctl_auto_throttle_nominal_cruise_throttle:0000000000000000 v_ctl_auto_throttle_nominal_cruise_throttle
     /tmp/cc7ltbM0.s:844    .bss.v_ctl_auto_throttle_cruise_throttle:0000000000000000 v_ctl_auto_throttle_cruise_throttle
     /tmp/cc7ltbM0.s:810    .bss.v_ctl_auto_throttle_submode:0000000000000000 v_ctl_auto_throttle_submode
     /tmp/cc7ltbM0.s:830    .bss.v_ctl_climb_mode:0000000000000000 v_ctl_climb_mode
     /tmp/cc7ltbM0.s:790    .bss.v_ctl_climb_setpoint:0000000000000000 v_ctl_climb_setpoint
     /tmp/cc7ltbM0.s:865    .bss.v_ctl_altitude_max_climb:0000000000000000 v_ctl_altitude_max_climb
     /tmp/cc7ltbM0.s:714    .bss.v_ctl_altitude_pre_climb_correction:0000000000000000 v_ctl_altitude_pre_climb_correction
     /tmp/cc7ltbM0.s:837    .bss.v_ctl_altitude_error:0000000000000000 v_ctl_altitude_error
     /tmp/cc7ltbM0.s:858    .bss.v_ctl_altitude_pgain:0000000000000000 v_ctl_altitude_pgain
     /tmp/cc7ltbM0.s:776    .bss.v_ctl_altitude_pre_climb:0000000000000000 v_ctl_altitude_pre_climb
     /tmp/cc7ltbM0.s:721    .bss.v_ctl_altitude_setpoint:0000000000000000 v_ctl_altitude_setpoint
     /tmp/cc7ltbM0.s:734    .bss.v_ctl_mode:0000000000000000 v_ctl_mode
     /tmp/cc7ltbM0.s:682    .bss.v_ctl_auto_throttle_nominal_cruise_throttle:0000000000000000 $d
     /tmp/cc7ltbM0.s:689    .bss.v_ctl_auto_throttle_igain:0000000000000000 $d
     /tmp/cc7ltbM0.s:696    .bss.v_ctl_auto_throttle_max_cruise_throttle:0000000000000000 $d
     /tmp/cc7ltbM0.s:703    .bss.v_ctl_throttle_setpoint:0000000000000000 $d
     /tmp/cc7ltbM0.s:710    .bss.v_ctl_altitude_pre_climb_correction:0000000000000000 $d
     /tmp/cc7ltbM0.s:717    .bss.v_ctl_altitude_setpoint:0000000000000000 $d
     /tmp/cc7ltbM0.s:724    .bss.v_ctl_auto_throttle_dgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:735    .bss.v_ctl_mode:0000000000000000 $d
     /tmp/cc7ltbM0.s:737    .bss.v_ctl_auto_throttle_pitch_of_vz_pgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:744    .bss.v_ctl_auto_throttle_pitch_of_vz_dgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:751    .bss.last_err.3561:0000000000000000 $d
     /tmp/cc7ltbM0.s:755    .bss.last_err.3561:0000000000000000 last_err.3561
     /tmp/cc7ltbM0.s:758    .bss.v_ctl_auto_pitch_pgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:765    .bss.v_ctl_auto_throttle_climb_throttle_increment:0000000000000000 $d
     /tmp/cc7ltbM0.s:772    .bss.v_ctl_altitude_pre_climb:0000000000000000 $d
     /tmp/cc7ltbM0.s:779    .bss.v_ctl_auto_throttle_sum_err:0000000000000000 $d
     /tmp/cc7ltbM0.s:786    .bss.v_ctl_climb_setpoint:0000000000000000 $d
     /tmp/cc7ltbM0.s:793    .bss.v_ctl_auto_pitch_sum_err:0000000000000000 $d
     /tmp/cc7ltbM0.s:800    .bss.v_ctl_throttle_slewed:0000000000000000 $d
     /tmp/cc7ltbM0.s:811    .bss.v_ctl_auto_throttle_submode:0000000000000000 $d
     /tmp/cc7ltbM0.s:813    .bss.v_ctl_auto_throttle_pgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:820    .bss.v_ctl_auto_pitch_igain:0000000000000000 $d
     /tmp/cc7ltbM0.s:831    .bss.v_ctl_climb_mode:0000000000000000 $d
     /tmp/cc7ltbM0.s:833    .bss.v_ctl_altitude_error:0000000000000000 $d
     /tmp/cc7ltbM0.s:840    .bss.v_ctl_auto_throttle_cruise_throttle:0000000000000000 $d
     /tmp/cc7ltbM0.s:847    .bss.v_ctl_auto_throttle_min_cruise_throttle:0000000000000000 $d
     /tmp/cc7ltbM0.s:854    .bss.v_ctl_altitude_pgain:0000000000000000 $d
     /tmp/cc7ltbM0.s:861    .bss.v_ctl_altitude_max_climb:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/cc7ltbM0.s:583    .text.v_ctl_climb_loop:0000000000000204 $t

UNDEFINED SYMBOLS
__aeabi_fsub
__aeabi_fmul
__aeabi_fadd
__aeabi_fcmpgt
__aeabi_fcmplt
estimator_z
__aeabi_f2iz
__aeabi_f2d
__aeabi_dcmpgt
__aeabi_dcmplt
estimator_z_dot
nav_pitch
nav_throttle_setpoint
__aeabi_i2d
