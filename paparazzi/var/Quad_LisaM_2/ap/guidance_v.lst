   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"guidance_v.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.guidance_v_init,"ax",%progbits
  18              		.align	1
  19              		.global	guidance_v_init
  20              		.thumb
  21              		.thumb_func
  23              	guidance_v_init:
  24              	.LFB35:
  25              		.file 1 "firmwares/rotorcraft/guidance/guidance_v.c"
   1:firmwares/rotorcraft/guidance/guidance_v.c **** /*
   2:firmwares/rotorcraft/guidance/guidance_v.c ****  * Copyright (C) 2008-2009 Antoine Drouin <poinix@gmail.com>
   3:firmwares/rotorcraft/guidance/guidance_v.c ****  *
   4:firmwares/rotorcraft/guidance/guidance_v.c ****  * This file is part of paparazzi.
   5:firmwares/rotorcraft/guidance/guidance_v.c ****  *
   6:firmwares/rotorcraft/guidance/guidance_v.c ****  * paparazzi is free software; you can redistribute it and/or modify
   7:firmwares/rotorcraft/guidance/guidance_v.c ****  * it under the terms of the GNU General Public License as published by
   8:firmwares/rotorcraft/guidance/guidance_v.c ****  * the Free Software Foundation; either version 2, or (at your option)
   9:firmwares/rotorcraft/guidance/guidance_v.c ****  * any later version.
  10:firmwares/rotorcraft/guidance/guidance_v.c ****  *
  11:firmwares/rotorcraft/guidance/guidance_v.c ****  * paparazzi is distributed in the hope that it will be useful,
  12:firmwares/rotorcraft/guidance/guidance_v.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:firmwares/rotorcraft/guidance/guidance_v.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:firmwares/rotorcraft/guidance/guidance_v.c ****  * GNU General Public License for more details.
  15:firmwares/rotorcraft/guidance/guidance_v.c ****  *
  16:firmwares/rotorcraft/guidance/guidance_v.c ****  * You should have received a copy of the GNU General Public License
  17:firmwares/rotorcraft/guidance/guidance_v.c ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:firmwares/rotorcraft/guidance/guidance_v.c ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:firmwares/rotorcraft/guidance/guidance_v.c ****  * Boston, MA 02111-1307, USA.
  20:firmwares/rotorcraft/guidance/guidance_v.c ****  */
  21:firmwares/rotorcraft/guidance/guidance_v.c **** 
  22:firmwares/rotorcraft/guidance/guidance_v.c **** /** @file firmwares/rotorcraft/guidance/guidance_v.c
  23:firmwares/rotorcraft/guidance/guidance_v.c ****  *  Vertical guidance for rotorcrafts.
  24:firmwares/rotorcraft/guidance/guidance_v.c ****  *
  25:firmwares/rotorcraft/guidance/guidance_v.c ****  */
  26:firmwares/rotorcraft/guidance/guidance_v.c **** 
  27:firmwares/rotorcraft/guidance/guidance_v.c **** #define GUIDANCE_V_C
  28:firmwares/rotorcraft/guidance/guidance_v.c **** #define GUIDANCE_V_USE_REF 1
  29:firmwares/rotorcraft/guidance/guidance_v.c **** #include "firmwares/rotorcraft/guidance/guidance_v.h"
  30:firmwares/rotorcraft/guidance/guidance_v.c **** 
  31:firmwares/rotorcraft/guidance/guidance_v.c **** 
  32:firmwares/rotorcraft/guidance/guidance_v.c **** #include "subsystems/radio_control.h"
  33:firmwares/rotorcraft/guidance/guidance_v.c **** #include "firmwares/rotorcraft/stabilization.h"
  34:firmwares/rotorcraft/guidance/guidance_v.c **** #include "subsystems/ahrs.h"
  35:firmwares/rotorcraft/guidance/guidance_v.c **** // #include "booz_fms.h" FIXME
  36:firmwares/rotorcraft/guidance/guidance_v.c **** #include "firmwares/rotorcraft/navigation.h"
  37:firmwares/rotorcraft/guidance/guidance_v.c **** 
  38:firmwares/rotorcraft/guidance/guidance_v.c **** #include "subsystems/ins.h"
  39:firmwares/rotorcraft/guidance/guidance_v.c **** #include "math/pprz_algebra_int.h"
  40:firmwares/rotorcraft/guidance/guidance_v.c **** 
  41:firmwares/rotorcraft/guidance/guidance_v.c **** #include "generated/airframe.h"
  42:firmwares/rotorcraft/guidance/guidance_v.c **** 
  43:firmwares/rotorcraft/guidance/guidance_v.c **** 
  44:firmwares/rotorcraft/guidance/guidance_v.c **** /* warn if some gains are still negative */
  45:firmwares/rotorcraft/guidance/guidance_v.c **** #if (GUIDANCE_V_HOVER_KP < 0) ||                   \
  46:firmwares/rotorcraft/guidance/guidance_v.c ****   (GUIDANCE_V_HOVER_KD < 0)   ||                   \
  47:firmwares/rotorcraft/guidance/guidance_v.c ****   (GUIDANCE_V_HOVER_KI < 0)
  48:firmwares/rotorcraft/guidance/guidance_v.c **** #warning "ALL control gains are now positive!!!"
  49:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
  50:firmwares/rotorcraft/guidance/guidance_v.c **** 
  51:firmwares/rotorcraft/guidance/guidance_v.c **** #if defined GUIDANCE_V_INV_M
  52:firmwares/rotorcraft/guidance/guidance_v.c **** #warning "GUIDANCE_V_INV_M has been removed. If you don't want to use adaptive hover, please define
  53:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
  54:firmwares/rotorcraft/guidance/guidance_v.c **** 
  55:firmwares/rotorcraft/guidance/guidance_v.c **** #define GUIDANCE_V_GAIN_SCALER 48
  56:firmwares/rotorcraft/guidance/guidance_v.c **** 
  57:firmwares/rotorcraft/guidance/guidance_v.c **** uint8_t guidance_v_mode;
  58:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_ff_cmd;
  59:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_fb_cmd;
  60:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_delta_t;
  61:firmwares/rotorcraft/guidance/guidance_v.c **** 
  62:firmwares/rotorcraft/guidance/guidance_v.c **** float guidance_v_nominal_throttle;
  63:firmwares/rotorcraft/guidance/guidance_v.c **** 
  64:firmwares/rotorcraft/guidance/guidance_v.c **** 
  65:firmwares/rotorcraft/guidance/guidance_v.c **** /** Direct throttle from radio control.
  66:firmwares/rotorcraft/guidance/guidance_v.c ****  *  range 0:#MAX_PPRZ
  67:firmwares/rotorcraft/guidance/guidance_v.c ****  */
  68:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_rc_delta_t;
  69:firmwares/rotorcraft/guidance/guidance_v.c **** 
  70:firmwares/rotorcraft/guidance/guidance_v.c **** /** Vertical speed setpoint from radio control.
  71:firmwares/rotorcraft/guidance/guidance_v.c ****  *  fixed point representation: Q12.19
  72:firmwares/rotorcraft/guidance/guidance_v.c ****  *  accuracy 0.0000019, range +/-4096
  73:firmwares/rotorcraft/guidance/guidance_v.c ****  */
  74:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_rc_zd_sp;
  75:firmwares/rotorcraft/guidance/guidance_v.c **** 
  76:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_z_sp;
  77:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_zd_sp;
  78:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_z_ref;
  79:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_zd_ref;
  80:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_zdd_ref;
  81:firmwares/rotorcraft/guidance/guidance_v.c **** 
  82:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_kp;
  83:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_kd;
  84:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_ki;
  85:firmwares/rotorcraft/guidance/guidance_v.c **** 
  86:firmwares/rotorcraft/guidance/guidance_v.c **** int32_t guidance_v_z_sum_err;
  87:firmwares/rotorcraft/guidance/guidance_v.c **** 
  88:firmwares/rotorcraft/guidance/guidance_v.c **** 
  89:firmwares/rotorcraft/guidance/guidance_v.c **** #define GuidanceVSetRef(_pos, _speed, _accel) { \
  90:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_set_ref(_pos, _speed, _accel);	     \
  91:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_ref = _pos;		     \
  92:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_zd_ref = _speed;		     \
  93:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_zdd_ref = _accel;		     \
  94:firmwares/rotorcraft/guidance/guidance_v.c ****   }
  95:firmwares/rotorcraft/guidance/guidance_v.c **** 
  96:firmwares/rotorcraft/guidance/guidance_v.c **** 
  97:firmwares/rotorcraft/guidance/guidance_v.c **** __attribute__ ((always_inline)) static inline void run_hover_loop(bool_t in_flight);
  98:firmwares/rotorcraft/guidance/guidance_v.c **** 
  99:firmwares/rotorcraft/guidance/guidance_v.c **** 
 100:firmwares/rotorcraft/guidance/guidance_v.c **** void guidance_v_init(void) {
  26              		.loc 1 100 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30              		@ link register save eliminated.
 101:firmwares/rotorcraft/guidance/guidance_v.c **** 
 102:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_mode = GUIDANCE_V_MODE_KILL;
  31              		.loc 1 102 0
  32 0000 0B4A     		ldr	r2, .L2
  33 0002 0023     		movs	r3, #0
  34 0004 1370     		strb	r3, [r2, #0]
 103:firmwares/rotorcraft/guidance/guidance_v.c **** 
 104:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_kp = GUIDANCE_V_HOVER_KP;
  35              		.loc 1 104 0
  36 0006 0B4A     		ldr	r2, .L2+4
  37 0008 9621     		movs	r1, #150
  38 000a 1160     		str	r1, [r2, #0]
 105:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_kd = GUIDANCE_V_HOVER_KD;
  39              		.loc 1 105 0
  40 000c 0A4A     		ldr	r2, .L2+8
  41 000e 5021     		movs	r1, #80
  42 0010 1160     		str	r1, [r2, #0]
 106:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ki = GUIDANCE_V_HOVER_KI;
  43              		.loc 1 106 0
  44 0012 0A4A     		ldr	r2, .L2+12
  45 0014 1421     		movs	r1, #20
  46 0016 1160     		str	r1, [r2, #0]
 107:firmwares/rotorcraft/guidance/guidance_v.c **** 
 108:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_sum_err = 0;
  47              		.loc 1 108 0
  48 0018 094A     		ldr	r2, .L2+16
  49 001a 1360     		str	r3, [r2, #0]
  50              	.LBB42:
  51              	.LBB43:
  52              		.file 2 "./firmwares/rotorcraft/guidance/guidance_v_adpt.h"
   1:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /*
   2:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * Copyright (C) 2009-2010 The Paparazzi Team
   3:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *
   4:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * This file is part of paparazzi.
   5:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *
   6:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * paparazzi is free software; you can redistribute it and/or modify
   7:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * it under the terms of the GNU General Public License as published by
   8:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * the Free Software Foundation; either version 2, or (at your option)
   9:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * any later version.
  10:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *
  11:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * paparazzi is distributed in the hope that it will be useful,
  12:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * GNU General Public License for more details.
  15:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *
  16:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * You should have received a copy of the GNU General Public License
  17:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * Boston, MA 02111-1307, USA.
  20:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  21:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  22:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** @file guidance_v_adapt.h
  23:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Adaptation bloc of the vertical guidance.
  24:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *
  25:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  This is a dimension one kalman filter estimating
  26:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  the ratio of vertical acceleration over thrust command ( ~ invert of the mass )
  27:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  needed by the invert dynamic model to produce a nominal command
  28:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  29:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  30:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifndef GUIDANCE_V_ADPT
  31:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GUIDANCE_V_ADPT
  32:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  33:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #include "paparazzi.h"
  34:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  35:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Adapt noise factor.
  36:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Smaller values will make the filter to adapter faster
  37:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Bigger values (slower adaptation) make the filter more robust to external perturbations
  38:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Factor should always be >0
  39:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  40:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifndef GUIDANCE_V_ADAPT_NOISE_FACTOR
  41:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GUIDANCE_V_ADAPT_NOISE_FACTOR 1.0
  42:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #endif
  43:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  44:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Filter is not fed if accel values are more than +/- MAX_ACCEL
  45:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  MAX_ACCEL is a positive value in m/s^2
  46:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  47:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifndef GUIDANCE_V_ADAPT_MAX_ACCEL
  48:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GUIDANCE_V_ADAPT_MAX_ACCEL 4.0
  49:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #endif
  50:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  51:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Filter is not fed if command values are out of a % of 0/MAX_PPRZ
  52:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  MAX_CMD and MIN_CMD must be between 0 and 1 with MIN_CMD < MAX_CMD
  53:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  54:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifndef GUIDANCE_V_ADAPT_MAX_CMD
  55:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GUIDANCE_V_ADAPT_MAX_CMD 0.9
  56:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #endif
  57:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifndef GUIDANCE_V_ADAPT_MIN_CMD
  58:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GUIDANCE_V_ADAPT_MIN_CMD 0.1
  59:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #endif
  60:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  61:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** State of the estimator.
  62:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  fixed point representation with #GV_ADAPT_X_FRAC
  63:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Q13.18
  64:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  65:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** extern int32_t gv_adapt_X;
  66:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_X_FRAC 24
  67:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  68:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Covariance.
  69:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  fixed point representation with #GV_ADAPT_P_FRAC
  70:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *  Q13.18
  71:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
  72:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** extern int32_t gv_adapt_P;
  73:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_P_FRAC 18
  74:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  75:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Measurement */
  76:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** extern int32_t gv_adapt_Xmeas;
  77:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  78:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  79:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #ifdef GUIDANCE_V_C
  80:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  81:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** int32_t gv_adapt_X;
  82:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** int32_t gv_adapt_P;
  83:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** int32_t gv_adapt_Xmeas;
  84:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  85:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  86:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* Initial State and Covariance    */
  87:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_X0_F 0.0015
  88:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_X0 BFP_OF_REAL(GV_ADAPT_X0_F, GV_ADAPT_X_FRAC)
  89:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_P0_F 0.1
  90:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_P0 BFP_OF_REAL(GV_ADAPT_P0_F, GV_ADAPT_P_FRAC)
  91:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  92:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* System  noises */
  93:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_SYS_NOISE_F 0.00005
  94:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_SYS_NOISE  BFP_OF_REAL(GV_ADAPT_SYS_NOISE_F, GV_ADAPT_P_FRAC)
  95:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
  96:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* Measuremement noises */
  97:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MEAS_NOISE_HOVER_F (50.0*GUIDANCE_V_ADAPT_NOISE_FACTOR)
  98:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MEAS_NOISE_HOVER BFP_OF_REAL(GV_ADAPT_MEAS_NOISE_HOVER_F, GV_ADAPT_P_FRAC)
  99:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MEAS_NOISE_OF_ZD (100.0*GUIDANCE_V_ADAPT_NOISE_FACTOR)
 100:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 101:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* Max accel */
 102:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MAX_ACCEL ACCEL_BFP_OF_REAL(GUIDANCE_V_ADAPT_MAX_ACCEL)
 103:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 104:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* Command bounds */
 105:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MAX_CMD ((int32_t)(GUIDANCE_V_ADAPT_MAX_CMD*MAX_PPRZ))
 106:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MIN_CMD ((int32_t)(GUIDANCE_V_ADAPT_MIN_CMD*MAX_PPRZ))
 107:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 108:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /* Output bounds.
 109:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * Don't let it climb over a value that would
 110:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * give less than zero throttle and don't let it down to zero.
 111:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * Worst cases:
 112:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *   MIN_ACCEL / MAX_THROTTLE
 113:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *   MAX_ACCEL / MIN_THROTTLE
 114:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * ex:
 115:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *   9.81*2^18/255 = 10084
 116:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  *   9.81*2^18/1 = 2571632
 117:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
 118:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** // TODO Check this properly
 119:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MAX_OUT (BFP_OF_REAL(9.81, GV_ADAPT_X_FRAC))
 120:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define GV_ADAPT_MIN_OUT (BFP_OF_REAL(9.81, GV_ADAPT_X_FRAC) / MAX_PPRZ)
 121:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 122:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 123:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** static inline void gv_adapt_init(void) {
 124:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_X = GV_ADAPT_X0;
  53              		.loc 2 124 0
  54 001c 094B     		ldr	r3, .L2+20
  55 001e 46F24D22 		movw	r2, #25165
  56 0022 1A60     		str	r2, [r3, #0]
 125:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_P = GV_ADAPT_P0;
  57              		.loc 2 125 0
  58 0024 084B     		ldr	r3, .L2+24
  59 0026 46F26662 		movw	r2, #26214
  60 002a 1A60     		str	r2, [r3, #0]
  61              	.LBE43:
  62              	.LBE42:
 109:firmwares/rotorcraft/guidance/guidance_v.c **** 
 110:firmwares/rotorcraft/guidance/guidance_v.c **** #ifdef GUIDANCE_V_NOMINAL_HOVER_THROTTLE
 111:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_nominal_throttle = GUIDANCE_V_NOMINAL_HOVER_THROTTLE;
 112:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 113:firmwares/rotorcraft/guidance/guidance_v.c **** 
 114:firmwares/rotorcraft/guidance/guidance_v.c ****   gv_adapt_init();
 115:firmwares/rotorcraft/guidance/guidance_v.c **** }
  63              		.loc 1 115 0
  64 002c 7047     		bx	lr
  65              	.L3:
  66 002e 00BF     		.align	2
  67              	.L2:
  68 0030 00000000 		.word	.LANCHOR0
  69 0034 00000000 		.word	.LANCHOR1
  70 0038 00000000 		.word	.LANCHOR2
  71 003c 00000000 		.word	.LANCHOR3
  72 0040 00000000 		.word	.LANCHOR4
  73 0044 00000000 		.word	.LANCHOR5
  74 0048 00000000 		.word	.LANCHOR6
  75              		.cfi_endproc
  76              	.LFE35:
  78              		.section	.text.guidance_v_read_rc,"ax",%progbits
  79              		.align	1
  80              		.global	guidance_v_read_rc
  81              		.thumb
  82              		.thumb_func
  84              	guidance_v_read_rc:
  85              	.LFB36:
 116:firmwares/rotorcraft/guidance/guidance_v.c **** 
 117:firmwares/rotorcraft/guidance/guidance_v.c **** 
 118:firmwares/rotorcraft/guidance/guidance_v.c **** void guidance_v_read_rc(void) {
  86              		.loc 1 118 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 0
  89              		@ frame_needed = 0, uses_anonymous_args = 0
  90              		@ link register save eliminated.
 119:firmwares/rotorcraft/guidance/guidance_v.c **** 
 120:firmwares/rotorcraft/guidance/guidance_v.c ****   /* used in RC_DIRECT directly and as saturation in CLIMB and HOVER */
 121:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_rc_delta_t = (int32_t)radio_control.values[RADIO_THROTTLE];
  91              		.loc 1 121 0
  92 0000 0E4B     		ldr	r3, .L9
  93 0002 0F4A     		ldr	r2, .L9+4
  94 0004 B3F90630 		ldrsh	r3, [r3, #6]
 122:firmwares/rotorcraft/guidance/guidance_v.c **** 
 123:firmwares/rotorcraft/guidance/guidance_v.c ****   /* used in RC_CLIMB */
 124:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_rc_zd_sp = ((MAX_PPRZ/2) - (int32_t)radio_control.values[RADIO_THROTTLE]) * GUIDANCE_V
 125:firmwares/rotorcraft/guidance/guidance_v.c ****   DeadBand(guidance_v_rc_zd_sp, GUIDANCE_V_RC_CLIMB_DEAD_BAND);
  95              		.loc 1 125 0
  96 0008 0E48     		ldr	r0, .L9+8
 121:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_rc_delta_t = (int32_t)radio_control.values[RADIO_THROTTLE];
  97              		.loc 1 121 0
  98 000a 1360     		str	r3, [r2, #0]
 124:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_rc_zd_sp = ((MAX_PPRZ/2) - (int32_t)radio_control.values[RADIO_THROTTLE]) * GUIDANCE_V
  99              		.loc 1 124 0
 100 000c 6FF0A202 		mvn	r2, #162
 101 0010 5A43     		muls	r2, r3, r2
 102 0012 02F53F21 		add	r1, r2, #782336
 103 0016 4031     		adds	r1, r1, #64
 104              		.loc 1 125 0
 105 0018 8142     		cmp	r1, r0
 124:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_rc_zd_sp = ((MAX_PPRZ/2) - (int32_t)radio_control.values[RADIO_THROTTLE]) * GUIDANCE_V
 106              		.loc 1 124 0
 107 001a 0B4B     		ldr	r3, .L9+12
 108              		.loc 1 125 0
 109 001c 04DD     		ble	.L5
 110              		.loc 1 125 0 is_stmt 0 discriminator 1
 111 001e 02F51722 		add	r2, r2, #618496
 112 0022 02F57462 		add	r2, r2, #3904
 113 0026 07E0     		b	.L8
 114              	.L5:
 115              		.loc 1 125 0 discriminator 2
 116 0028 0848     		ldr	r0, .L9+16
 117 002a 8142     		cmp	r1, r0
 118 002c BABF     		itte	lt
 119 002e 02F56622 		addlt	r2, r2, #942080
 120 0032 02F5A072 		addlt	r2, r2, #320
 121 0036 0022     		movge	r2, #0
 122              	.L8:
 123              		.loc 1 125 0 discriminator 4
 124 0038 1A60     		str	r2, [r3, #0]
 125 003a 7047     		bx	lr
 126              	.L10:
 127              		.align	2
 128              	.L9:
 129 003c 00000000 		.word	radio_control
 130 0040 00000000 		.word	.LANCHOR7
 131 0044 00710200 		.word	160000
 132 0048 00000000 		.word	.LANCHOR8
 133 004c 008FFDFF 		.word	-160000
 134              		.cfi_endproc
 135              	.LFE36:
 137              		.section	.text.guidance_v_mode_changed,"ax",%progbits
 138              		.align	1
 139              		.global	guidance_v_mode_changed
 140              		.thumb
 141              		.thumb_func
 143              	guidance_v_mode_changed:
 144              	.LFB37:
 126:firmwares/rotorcraft/guidance/guidance_v.c **** 
 127:firmwares/rotorcraft/guidance/guidance_v.c **** }
 128:firmwares/rotorcraft/guidance/guidance_v.c **** 
 129:firmwares/rotorcraft/guidance/guidance_v.c **** void guidance_v_mode_changed(uint8_t new_mode) {
 145              		.loc 1 129 0 is_stmt 1
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              	.LVL0:
 150 0000 30B5     		push	{r4, r5, lr}
 151              	.LCFI0:
 152              		.cfi_def_cfa_offset 12
 153              		.cfi_offset 14, -4
 154              		.cfi_offset 5, -8
 155              		.cfi_offset 4, -12
 130:firmwares/rotorcraft/guidance/guidance_v.c **** 
 131:firmwares/rotorcraft/guidance/guidance_v.c ****   if (new_mode == guidance_v_mode)
 156              		.loc 1 131 0
 157 0002 224B     		ldr	r3, .L18
 158 0004 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 159 0006 8342     		cmp	r3, r0
 160 0008 3FD0     		beq	.L11
 132:firmwares/rotorcraft/guidance/guidance_v.c ****     return;
 133:firmwares/rotorcraft/guidance/guidance_v.c **** 
 134:firmwares/rotorcraft/guidance/guidance_v.c ****   switch (new_mode) {
 161              		.loc 1 134 0
 162 000a 831E     		subs	r3, r0, #2
 163 000c 032B     		cmp	r3, #3
 164 000e 3AD8     		bhi	.L13
 165 0010 DFE803F0 		tbb	[pc, r3]
 166              	.L17:
 167 0014 1C       		.byte	(.L14-.L17)/2
 168 0015 1C       		.byte	(.L14-.L17)/2
 169 0016 02       		.byte	(.L15-.L17)/2
 170 0017 1F       		.byte	(.L16-.L17)/2
 171              		.align	1
 172              	.L15:
 135:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_HOVER:
 136:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sp = ins_ltp_pos.z; // set current altitude as setpoint
 173              		.loc 1 136 0
 174 0018 1D4B     		ldr	r3, .L18+4
 137:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 175              		.loc 1 137 0
 176 001a 1E49     		ldr	r1, .L18+8
 136:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sp = ins_ltp_pos.z; // set current altitude as setpoint
 177              		.loc 1 136 0
 178 001c 9A68     		ldr	r2, [r3, #8]
 179 001e 1E4B     		ldr	r3, .L18+12
 180              	.LBB44:
 181              	.LBB45:
 182              		.file 3 "./firmwares/rotorcraft/guidance/guidance_v_ref.h"
   1:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /*
   2:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * Copyright (C) 2008-2009 Antoine Drouin <poinix@gmail.com>
   3:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *
   4:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * This file is part of paparazzi.
   5:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *
   6:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * paparazzi is free software; you can redistribute it and/or modify
   7:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * it under the terms of the GNU General Public License as published by
   8:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * the Free Software Foundation; either version 2, or (at your option)
   9:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * any later version.
  10:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *
  11:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * paparazzi is distributed in the hope that it will be useful,
  12:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * GNU General Public License for more details.
  15:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *
  16:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * You should have received a copy of the GNU General Public License
  17:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * along with paparazzi; see the file COPYING.  If not, write to
  18:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  19:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  * Boston, MA 02111-1307, USA.
  20:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  */
  21:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  22:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** @file firwmares/rotorcraft/guidance/guidance_v_ref.h
  23:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  Reference generation for vertical guidance.
  24:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *
  25:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  */
  26:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  27:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_H
  28:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_H
  29:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  30:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #include "generated/airframe.h"
  31:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #include "inttypes.h"
  32:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #include "math/pprz_algebra.h"
  33:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #include "math/pprz_algebra_int.h"
  34:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  35:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /* update frequency  */
  36:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_FREQ_FRAC 9
  37:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_FREQ (1<<GV_FREQ_FRAC)
  38:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  39:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** reference model vertical accel in meters/s^2 (output)
  40:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  fixed point representation with #GV_ZDD_REF_FRAC
  41:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  Q23.8 : accuracy 0.0039 , range 8388km/s^2
  42:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  */
  43:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** extern int32_t gv_zdd_ref;
  44:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  45:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** number of bits for the fractional part of #gv_zdd_ref */
  46:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_ZDD_REF_FRAC 8
  47:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  48:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** reference model vertical speed in meters/sec (output)
  49:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  fixed point representation with #GV_ZD_REF_FRAC
  50:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  Q14.17 : accuracy 0.0000076 , range 16384m/s2
  51:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  */
  52:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** extern int32_t gv_zd_ref;
  53:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  54:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** number of bits for the fractional part of #gv_zd_ref */
  55:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_ZD_REF_FRAC (GV_ZDD_REF_FRAC + GV_FREQ_FRAC)
  56:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  57:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** reference model altitude in meters (output)
  58:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  fixed point representation with #GV_Z_REF_FRAC
  59:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  *  Q37.26 :
  60:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****  */
  61:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** extern int64_t gv_z_ref;
  62:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  63:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /** number of bits for the fractional part of #gv_z_ref */
  64:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_Z_REF_FRAC (GV_ZD_REF_FRAC + GV_FREQ_FRAC)
  65:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  66:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /* Saturations definition */
  67:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_MIN_ZDD
  68:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_MIN_ZDD (-2.0*9.81)
  69:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  70:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_MIN_ZDD BFP_OF_REAL(GUIDANCE_V_REF_MIN_ZDD, GV_ZDD_REF_FRAC)
  71:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  72:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_MAX_ZDD
  73:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_MAX_ZDD ( 0.8*9.81)
  74:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  75:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_MAX_ZDD BFP_OF_REAL(GUIDANCE_V_REF_MAX_ZDD, GV_ZDD_REF_FRAC)
  76:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  77:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_MIN_ZD
  78:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_MIN_ZD (-3.)
  79:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  80:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_MIN_ZD  BFP_OF_REAL(GUIDANCE_V_REF_MIN_ZD , GV_ZD_REF_FRAC)
  81:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  82:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_MAX_ZD
  83:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_MAX_ZD ( 3.)
  84:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  85:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_MAX_ZD  BFP_OF_REAL(GUIDANCE_V_REF_MAX_ZD , GV_ZD_REF_FRAC)
  86:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  87:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /* second order model natural frequency and damping */
  88:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_OMEGA
  89:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_OMEGA RadOfDeg(100.)
  90:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  91:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifndef GUIDANCE_V_REF_ZETA
  92:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GUIDANCE_V_REF_ZETA  0.85
  93:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #endif
  94:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_ZETA_OMEGA_FRAC 10
  95:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_ZETA_OMEGA BFP_OF_REAL((GUIDANCE_V_REF_ZETA*GUIDANCE_V_REF_OMEGA), GV_ZETA_OMEGA_FRAC)
  96:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_OMEGA_2_FRAC 7
  97:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_OMEGA_2    BFP_OF_REAL((GUIDANCE_V_REF_OMEGA*GUIDANCE_V_REF_OMEGA), GV_OMEGA_2_FRAC)
  98:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
  99:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** /* first order time constant */
 100:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_REF_THAU_F  0.25
 101:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_REF_INV_THAU_FRAC 16
 102:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #define GV_REF_INV_THAU  BFP_OF_REAL((1./0.25), GV_REF_INV_THAU_FRAC)
 103:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 104:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** #ifdef GUIDANCE_V_C
 105:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** static inline void gv_set_ref(int32_t alt, int32_t speed, int32_t accel);
 106:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** static inline void gv_update_ref_from_z_sp(int32_t z_sp);
 107:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** static inline void gv_update_ref_from_zd_sp(int32_t zd_sp);
 108:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 109:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** int64_t gv_z_ref;
 110:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** int32_t gv_zd_ref;
 111:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** int32_t gv_zdd_ref;
 112:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 113:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** __attribute__ ((always_inline)) static inline void gv_set_ref(int32_t alt, int32_t speed, int32_t a
 114:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int64_t new_z = ((int64_t)alt)<<(GV_Z_REF_FRAC - INT32_POS_FRAC);
 183              		.loc 3 114 0
 184 0020 D417     		asrs	r4, r2, #31
 185              	.LBE45:
 186              	.LBE44:
 136:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sp = ins_ltp_pos.z; // set current altitude as setpoint
 187              		.loc 1 136 0
 188 0022 1A60     		str	r2, [r3, #0]
 189              		.loc 1 137 0
 190 0024 0023     		movs	r3, #0
 191 0026 0B60     		str	r3, [r1, #0]
 192              	.LVL1:
 193              	.LBB47:
 194              	.LBB46:
 195              		.loc 3 114 0
 196 0028 A404     		lsls	r4, r4, #18
 115:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref   = new_z;
 197              		.loc 3 115 0
 198 002a 1C49     		ldr	r1, .L18+16
 114:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int64_t new_z = ((int64_t)alt)<<(GV_Z_REF_FRAC - INT32_POS_FRAC);
 199              		.loc 3 114 0
 200 002c 44EA9234 		orr	r4, r4, r2, lsr #14
 201 0030 4C60     		str	r4, [r1, #4]
 202 0032 9404     		lsls	r4, r2, #18
 203 0034 0C60     		str	r4, [r1, #0]
 116:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref  = speed>>(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 204              		.loc 3 116 0
 205 0036 1A49     		ldr	r1, .L18+20
 206 0038 0B60     		str	r3, [r1, #0]
 117:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = accel>>(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 207              		.loc 3 117 0
 208 003a 1A49     		ldr	r1, .L18+24
 209 003c 0B60     		str	r3, [r1, #0]
 210              	.LBE46:
 211              	.LBE47:
 138:firmwares/rotorcraft/guidance/guidance_v.c ****     GuidanceVSetRef(ins_ltp_pos.z, 0, 0);
 212              		.loc 1 138 0
 213 003e 1A49     		ldr	r1, .L18+28
 214 0040 0A60     		str	r2, [r1, #0]
 215 0042 1A4A     		ldr	r2, .L18+32
 216 0044 1360     		str	r3, [r2, #0]
 217 0046 1A4A     		ldr	r2, .L18+36
 218 0048 1360     		str	r3, [r2, #0]
 139:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 219              		.loc 1 139 0
 220 004a 1CE0     		b	.L13
 221              	.LVL2:
 222              	.L14:
 140:firmwares/rotorcraft/guidance/guidance_v.c **** 
 141:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_RC_CLIMB:
 142:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_CLIMB:
 143:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_zd_sp = 0;
 223              		.loc 1 143 0
 224 004c 194B     		ldr	r3, .L18+40
 225 004e 0022     		movs	r2, #0
 226 0050 1A60     		str	r2, [r3, #0]
 227              	.L16:
 144:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_NAV:
 145:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 228              		.loc 1 145 0
 229 0052 104B     		ldr	r3, .L18+8
 230 0054 0022     		movs	r2, #0
 231 0056 1A60     		str	r2, [r3, #0]
 146:firmwares/rotorcraft/guidance/guidance_v.c ****     GuidanceVSetRef(ins_ltp_pos.z, ins_ltp_speed.z, 0);
 232              		.loc 1 146 0
 233 0058 0D4B     		ldr	r3, .L18+4
 234              	.LBB48:
 235              	.LBB49:
 115:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref   = new_z;
 236              		.loc 3 115 0
 237 005a 104C     		ldr	r4, .L18+16
 238              	.LBE49:
 239              	.LBE48:
 240              		.loc 1 146 0
 241 005c 9B68     		ldr	r3, [r3, #8]
 242 005e 1649     		ldr	r1, .L18+44
 243              	.LBB52:
 244              	.LBB50:
 114:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int64_t new_z = ((int64_t)alt)<<(GV_Z_REF_FRAC - INT32_POS_FRAC);
 245              		.loc 3 114 0
 246 0060 DD17     		asrs	r5, r3, #31
 247 0062 AD04     		lsls	r5, r5, #18
 248 0064 45EA9335 		orr	r5, r5, r3, lsr #14
 249              	.LBE50:
 250              	.LBE52:
 251              		.loc 1 146 0
 252 0068 8968     		ldr	r1, [r1, #8]
 253              	.LVL3:
 254              	.LBB53:
 255              	.LBB51:
 114:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int64_t new_z = ((int64_t)alt)<<(GV_Z_REF_FRAC - INT32_POS_FRAC);
 256              		.loc 3 114 0
 257 006a 6560     		str	r5, [r4, #4]
 258 006c 9D04     		lsls	r5, r3, #18
 259 006e 2560     		str	r5, [r4, #0]
 116:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref  = speed>>(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 260              		.loc 3 116 0
 261 0070 0B4C     		ldr	r4, .L18+20
 262 0072 8D10     		asrs	r5, r1, #2
 263 0074 2560     		str	r5, [r4, #0]
 264              		.loc 3 117 0
 265 0076 0B4C     		ldr	r4, .L18+24
 266 0078 2260     		str	r2, [r4, #0]
 267              	.LBE51:
 268              	.LBE53:
 269              		.loc 1 146 0
 270 007a 0B4C     		ldr	r4, .L18+28
 271 007c 2360     		str	r3, [r4, #0]
 272 007e 0B4B     		ldr	r3, .L18+32
 273 0080 1960     		str	r1, [r3, #0]
 274 0082 0B4B     		ldr	r3, .L18+36
 275 0084 1A60     		str	r2, [r3, #0]
 276              	.LVL4:
 277              	.L13:
 147:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 148:firmwares/rotorcraft/guidance/guidance_v.c **** 
 149:firmwares/rotorcraft/guidance/guidance_v.c ****   default:
 150:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 151:firmwares/rotorcraft/guidance/guidance_v.c **** 
 152:firmwares/rotorcraft/guidance/guidance_v.c ****   }
 153:firmwares/rotorcraft/guidance/guidance_v.c **** 
 154:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_mode = new_mode;
 278              		.loc 1 154 0
 279 0086 014B     		ldr	r3, .L18
 280 0088 1870     		strb	r0, [r3, #0]
 281              	.L11:
 282 008a 30BD     		pop	{r4, r5, pc}
 283              	.L19:
 284              		.align	2
 285              	.L18:
 286 008c 00000000 		.word	.LANCHOR0
 287 0090 00000000 		.word	ins_ltp_pos
 288 0094 00000000 		.word	.LANCHOR4
 289 0098 00000000 		.word	.LANCHOR9
 290 009c 00000000 		.word	.LANCHOR10
 291 00a0 00000000 		.word	.LANCHOR11
 292 00a4 00000000 		.word	.LANCHOR12
 293 00a8 00000000 		.word	.LANCHOR13
 294 00ac 00000000 		.word	.LANCHOR14
 295 00b0 00000000 		.word	.LANCHOR15
 296 00b4 00000000 		.word	.LANCHOR16
 297 00b8 00000000 		.word	ins_ltp_speed
 298              		.cfi_endproc
 299              	.LFE37:
 301              		.section	.text.guidance_v_notify_in_flight,"ax",%progbits
 302              		.align	1
 303              		.global	guidance_v_notify_in_flight
 304              		.thumb
 305              		.thumb_func
 307              	guidance_v_notify_in_flight:
 308              	.LFB38:
 155:firmwares/rotorcraft/guidance/guidance_v.c **** 
 156:firmwares/rotorcraft/guidance/guidance_v.c **** }
 157:firmwares/rotorcraft/guidance/guidance_v.c **** 
 158:firmwares/rotorcraft/guidance/guidance_v.c **** void guidance_v_notify_in_flight( bool_t in_flight) {
 309              		.loc 1 158 0
 310              		.cfi_startproc
 311              		@ args = 0, pretend = 0, frame = 0
 312              		@ frame_needed = 0, uses_anonymous_args = 0
 313              		@ link register save eliminated.
 314              	.LVL5:
 159:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 315              		.loc 1 159 0
 316 0000 38B1     		cbz	r0, .L20
 317              	.LBB54:
 318              	.LBB55:
 124:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_X = GV_ADAPT_X0;
 319              		.loc 2 124 0
 320 0002 044B     		ldr	r3, .L22
 321 0004 46F24D22 		movw	r2, #25165
 322 0008 1A60     		str	r2, [r3, #0]
 323              		.loc 2 125 0
 324 000a 034B     		ldr	r3, .L22+4
 325 000c 46F26662 		movw	r2, #26214
 326 0010 1A60     		str	r2, [r3, #0]
 327              	.L20:
 328 0012 7047     		bx	lr
 329              	.L23:
 330              		.align	2
 331              	.L22:
 332 0014 00000000 		.word	.LANCHOR5
 333 0018 00000000 		.word	.LANCHOR6
 334              	.LBE55:
 335              	.LBE54:
 336              		.cfi_endproc
 337              	.LFE38:
 339              		.global	__aeabi_i2d
 340              		.global	__aeabi_dcmplt
 341              		.global	__aeabi_dcmpgt
 342              		.global	__aeabi_dadd
 343              		.global	__aeabi_d2iz
 344              		.global	__aeabi_dmul
 345              		.global	__aeabi_dcmple
 346              		.global	__aeabi_dcmpge
 347              		.section	.text.guidance_v_run,"ax",%progbits
 348              		.align	1
 349              		.global	guidance_v_run
 350              		.thumb
 351              		.thumb_func
 353              	guidance_v_run:
 354              	.LFB39:
 160:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_adapt_init();
 161:firmwares/rotorcraft/guidance/guidance_v.c ****   }
 162:firmwares/rotorcraft/guidance/guidance_v.c **** }
 163:firmwares/rotorcraft/guidance/guidance_v.c **** 
 164:firmwares/rotorcraft/guidance/guidance_v.c **** 
 165:firmwares/rotorcraft/guidance/guidance_v.c **** void guidance_v_run(bool_t in_flight) {
 355              		.loc 1 165 0
 356              		.cfi_startproc
 357              		@ args = 0, pretend = 0, frame = 8
 358              		@ frame_needed = 0, uses_anonymous_args = 0
 359              	.LVL6:
 360 0000 2DE9F347 		push	{r0, r1, r4, r5, r6, r7, r8, r9, sl, lr}
 361              	.LCFI1:
 362              		.cfi_def_cfa_offset 40
 363              		.cfi_offset 14, -4
 364              		.cfi_offset 10, -8
 365              		.cfi_offset 9, -12
 366              		.cfi_offset 8, -16
 367              		.cfi_offset 7, -20
 368              		.cfi_offset 6, -24
 369              		.cfi_offset 5, -28
 370              		.cfi_offset 4, -32
 371              		.cfi_offset 1, -36
 372              		.cfi_offset 0, -40
 166:firmwares/rotorcraft/guidance/guidance_v.c **** 
 167:firmwares/rotorcraft/guidance/guidance_v.c ****   // FIXME... SATURATIONS NOT TAKEN INTO ACCOUNT
 168:firmwares/rotorcraft/guidance/guidance_v.c ****   // AKA SUPERVISION and co
 169:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 373              		.loc 1 169 0
 374 0004 8246     		mov	sl, r0
 375 0006 0028     		cmp	r0, #0
 376 0008 00F08A80 		beq	.L25
 170:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_adapt_run(ins_ltp_accel.z, stabilization_cmd[COMMAND_THRUST], guidance_v_zd_ref);
 377              		.loc 1 170 0
 378 000c 984B     		ldr	r3, .L368+48
 379 000e 9E68     		ldr	r6, [r3, #8]
 380 0010 984B     		ldr	r3, .L368+52
 381 0012 DD68     		ldr	r5, [r3, #12]
 382 0014 984B     		ldr	r3, .L368+56
 383 0016 1F68     		ldr	r7, [r3, #0]
 384              	.LVL7:
 385              	.LBB56:
 386              	.LBB57:
 126:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** }
 127:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 128:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** #define K_FRAC 12
 129:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 130:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** /** Adaptation function.
 131:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * @param zdd_meas        vert accel measurement in m/s^2 with #INT32_ACCEL_FRAC
 132:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * @param thrust_applied  controller input [0 : MAX_PPRZ]
 133:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  * @param zd_ref          vertical speed reference in m/s with #INT32_SPEED_FRAC
 134:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****  */
 135:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** static inline void gv_adapt_run(int32_t zdd_meas, int32_t thrust_applied, int32_t zd_ref) {
 136:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 137:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Update only if accel and commands are in a valid range */
 138:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* This also ensures we don't divide by zero */
 139:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   if (thrust_applied < GV_ADAPT_MIN_CMD || thrust_applied > GV_ADAPT_MAX_CMD
 387              		.loc 2 139 0
 388 0018 A5F57073 		sub	r3, r5, #960
 389 001c B3F5F05F 		cmp	r3, #7680
 390 0020 7ED8     		bhi	.L25
 140:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****       || zdd_meas < -GV_ADAPT_MAX_ACCEL || zdd_meas > GV_ADAPT_MAX_ACCEL) {
 391              		.loc 2 140 0
 392 0022 3046     		mov	r0, r6
 393              	.LVL8:
 394 0024 FFF7FEFF 		bl	__aeabi_i2d
 395              	.LVL9:
 396 0028 0022     		movs	r2, #0
 397 002a 944B     		ldr	r3, .L368+60
 398 002c 8046     		mov	r8, r0
 399 002e 8946     		mov	r9, r1
 400 0030 FFF7FEFF 		bl	__aeabi_dcmplt
 401 0034 0028     		cmp	r0, #0
 402 0036 73D1     		bne	.L25
 403 0038 4046     		mov	r0, r8
 404 003a 4946     		mov	r1, r9
 405 003c 0022     		movs	r2, #0
 406 003e 904B     		ldr	r3, .L368+64
 407 0040 FFF7FEFF 		bl	__aeabi_dcmpgt
 408 0044 0028     		cmp	r0, #0
 409 0046 6BD1     		bne	.L25
 141:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****     return;
 142:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   }
 143:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 144:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* We don't propagate state, it's constant !       */
 145:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* We propagate our covariance                     */
 146:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_P =  gv_adapt_P + GV_ADAPT_SYS_NOISE;
 410              		.loc 2 146 0
 411 0048 8E4B     		ldr	r3, .L368+68
 147:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 148:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Compute our measurement. If zdd_meas is in the range +/-5g, meas is less than 30 bits */
 149:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   const int32_t g_m_zdd = ((int32_t)BFP_OF_REAL(9.81, INT32_ACCEL_FRAC) - zdd_meas)<<(GV_ADAPT_X_FR
 412              		.loc 2 149 0
 413 004a C6F51C56 		rsb	r6, r6, #9984
 414              	.LVL10:
 146:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_P =  gv_adapt_P + GV_ADAPT_SYS_NOISE;
 415              		.loc 2 146 0
 416 004e 1868     		ldr	r0, [r3, #0]
 417 0050 FFF7FEFF 		bl	__aeabi_i2d
 418 0054 7AA3     		adr	r3, .L368
 419 0056 D3E90023 		ldrd	r2, [r3]
 420 005a FFF7FEFF 		bl	__aeabi_dadd
 421 005e FFF7FEFF 		bl	__aeabi_d2iz
 422              		.loc 2 149 0
 423 0062 3D36     		adds	r6, r6, #61
 424 0064 B603     		lsls	r6, r6, #14
 425              	.LVL11:
 150:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   if ( g_m_zdd > 0) {
 426              		.loc 2 150 0
 427 0066 002E     		cmp	r6, #0
 428 0068 4FEA6502 		asr	r2, r5, #1
 151:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****     gv_adapt_Xmeas = (g_m_zdd + (thrust_applied>>1)) / thrust_applied;
 429              		.loc 2 151 0
 430 006c CCBF     		ite	gt
 431 006e B618     		addgt	r6, r6, r2
 432              	.LVL12:
 152:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   } else {
 153:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****     gv_adapt_Xmeas = (g_m_zdd - (thrust_applied>>1)) / thrust_applied;
 433              		.loc 2 153 0
 434 0070 C2EB0606 		rsble	r6, r2, r6
 435 0074 844B     		ldr	r3, .L368+72
 436 0076 96FBF5F5 		sdiv	r5, r6, r5
 437              	.LVL13:
 154:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   }
 155:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 156:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Compute a residual */
 157:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t residual = gv_adapt_Xmeas - gv_adapt_X;
 438              		.loc 2 157 0
 439 007a 844A     		ldr	r2, .L368+76
 153:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****     gv_adapt_Xmeas = (g_m_zdd - (thrust_applied>>1)) / thrust_applied;
 440              		.loc 2 153 0
 441 007c 1D60     		str	r5, [r3, #0]
 442              		.loc 2 157 0
 443 007e 1668     		ldr	r6, [r2, #0]
 444 0080 1B68     		ldr	r3, [r3, #0]
 158:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 159:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Covariance Error  E = P + R  */
 160:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t ref = zd_ref >> (INT32_SPEED_FRAC - GV_ADAPT_P_FRAC);
 445              		.loc 2 160 0
 446 0082 7D10     		asrs	r5, r7, #1
 161:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   if (zd_ref < 0) ref = -ref;
 447              		.loc 2 161 0
 448 0084 002F     		cmp	r7, #0
 449 0086 B8BF     		it	lt
 450 0088 6D42     		neglt	r5, r5
 146:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_P =  gv_adapt_P + GV_ADAPT_SYS_NOISE;
 451              		.loc 2 146 0
 452 008a 0446     		mov	r4, r0
 157:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t residual = gv_adapt_Xmeas - gv_adapt_X;
 453              		.loc 2 157 0
 454 008c C6EB0308 		rsb	r8, r6, r3
 455              	.LVL14:
 162:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t E = gv_adapt_P + GV_ADAPT_MEAS_NOISE_HOVER + ref * GV_ADAPT_MEAS_NOISE_OF_ZD;
 163:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 164:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Kalman gain  K = P / (P + R) = P / E  */
 165:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t K = (gv_adapt_P<<K_FRAC) / E;
 456              		.loc 2 165 0
 457 0090 0703     		lsls	r7, r0, #12
 458              	.LVL15:
 162:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   int32_t E = gv_adapt_P + GV_ADAPT_MEAS_NOISE_HOVER + ref * GV_ADAPT_MEAS_NOISE_OF_ZD;
 459              		.loc 2 162 0
 460 0092 FFF7FEFF 		bl	__aeabi_i2d
 461              	.LVL16:
 462 0096 0022     		movs	r2, #0
 463 0098 7D4B     		ldr	r3, .L368+80
 464 009a FFF7FEFF 		bl	__aeabi_dadd
 465 009e CDE90001 		strd	r0, [sp]
 466 00a2 2846     		mov	r0, r5
 467 00a4 FFF7FEFF 		bl	__aeabi_i2d
 468 00a8 0022     		movs	r2, #0
 469 00aa 7A4B     		ldr	r3, .L368+84
 470 00ac FFF7FEFF 		bl	__aeabi_dmul
 471 00b0 0246     		mov	r2, r0
 472 00b2 0B46     		mov	r3, r1
 473 00b4 DDE90001 		ldrd	r0, [sp]
 474 00b8 FFF7FEFF 		bl	__aeabi_dadd
 475 00bc FFF7FEFF 		bl	__aeabi_d2iz
 476              		.loc 2 165 0
 477 00c0 97FBF0F7 		sdiv	r7, r7, r0
 478              	.LVL17:
 166:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 167:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Update Covariance  Pnew = P - K * P   */
 168:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_P = gv_adapt_P - ((K * gv_adapt_P)>>K_FRAC);
 479              		.loc 2 168 0
 480 00c4 04FB07F0 		mul	r0, r4, r7
 481 00c8 6E4D     		ldr	r5, .L368+68
 482              	.LVL18:
 483 00ca A4EB2030 		sub	r0, r4, r0, asr #12
 484 00ce 2860     		str	r0, [r5, #0]
 169:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Don't let covariance climb over initial value */
 170:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   if (gv_adapt_P > GV_ADAPT_P0) gv_adapt_P = GV_ADAPT_P0;
 485              		.loc 2 170 0
 486 00d0 FFF7FEFF 		bl	__aeabi_i2d
 487 00d4 5CA3     		adr	r3, .L368+8
 488 00d6 D3E90023 		ldrd	r2, [r3]
 489 00da FFF7FEFF 		bl	__aeabi_dcmpgt
 490 00de 10B1     		cbz	r0, .L29
 491 00e0 46F26663 		movw	r3, #26214
 492 00e4 2B60     		str	r3, [r5, #0]
 493              	.L29:
 171:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 172:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Update State */
 173:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   gv_adapt_X = gv_adapt_X + (((int64_t)(K * residual))>>K_FRAC);
 494              		.loc 2 173 0
 495 00e6 08FB07F7 		mul	r7, r8, r7
 496              	.LVL19:
 497 00ea 684C     		ldr	r4, .L368+76
 498 00ec 06EB2730 		add	r0, r6, r7, asr #12
 499 00f0 2060     		str	r0, [r4, #0]
 174:./firmwares/rotorcraft/guidance/guidance_v_adpt.h **** 
 175:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   /* Again don't let it climb over a value that would
 176:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****    * give less than zero throttle and don't let it down to zero.
 177:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****    */
 178:./firmwares/rotorcraft/guidance/guidance_v_adpt.h ****   Bound(gv_adapt_X, GV_ADAPT_MIN_OUT, GV_ADAPT_MAX_OUT);
 500              		.loc 2 178 0
 501 00f2 FFF7FEFF 		bl	__aeabi_i2d
 502 00f6 56A3     		adr	r3, .L368+16
 503 00f8 D3E90023 		ldrd	r2, [r3]
 504 00fc 0646     		mov	r6, r0
 505 00fe 0F46     		mov	r7, r1
 506 0100 FFF7FEFF 		bl	__aeabi_dcmpgt
 507 0104 08B1     		cbz	r0, .L271
 508 0106 644B     		ldr	r3, .L368+88
 509 0108 09E0     		b	.L303
 510              	.L271:
 511 010a 3046     		mov	r0, r6
 512 010c 3946     		mov	r1, r7
 513 010e 52A3     		adr	r3, .L368+24
 514 0110 D3E90023 		ldrd	r2, [r3]
 515 0114 FFF7FEFF 		bl	__aeabi_dcmplt
 516 0118 10B1     		cbz	r0, .L25
 517 011a 44F2F823 		movw	r3, #17144
 518              	.L303:
 519 011e 2360     		str	r3, [r4, #0]
 520              	.LVL20:
 521              	.L25:
 522              	.LBE57:
 523              	.LBE56:
 171:firmwares/rotorcraft/guidance/guidance_v.c ****   }
 172:firmwares/rotorcraft/guidance/guidance_v.c **** 
 173:firmwares/rotorcraft/guidance/guidance_v.c ****   switch (guidance_v_mode) {
 524              		.loc 1 173 0
 525 0120 5E4B     		ldr	r3, .L368+92
 526 0122 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 527 0124 013B     		subs	r3, r3, #1
 528 0126 042B     		cmp	r3, #4
 529 0128 00F2B687 		bhi	.L24
 530 012c DFE813F0 		tbh	[pc, r3, lsl #1]
 531              	.L40:
 532 0130 0500     		.2byte	(.L35-.L40)/2
 533 0132 0B00     		.2byte	(.L36-.L40)/2
 534 0134 BD01     		.2byte	(.L37-.L40)/2
 535 0136 F902     		.2byte	(.L38-.L40)/2
 536 0138 9E04     		.2byte	(.L39-.L40)/2
 537              	.L35:
 174:firmwares/rotorcraft/guidance/guidance_v.c **** 
 175:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_RC_DIRECT:
 176:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sp = ins_ltp_pos.z; // for display only
 538              		.loc 1 176 0
 539 013a 594B     		ldr	r3, .L368+96
 540 013c 9A68     		ldr	r2, [r3, #8]
 541 013e 594B     		ldr	r3, .L368+100
 542 0140 1A60     		str	r2, [r3, #0]
 177:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = guidance_v_rc_delta_t;
 543              		.loc 1 177 0
 544 0142 594B     		ldr	r3, .L368+104
 545 0144 ADE1     		b	.L76
 546              	.L36:
 547              	.LBB58:
 548              	.LBB59:
 118:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** }
 119:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 120:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** __attribute__ ((always_inline)) static inline void gv_update_ref_from_z_sp(int32_t z_sp) {
 121:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 124:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 125:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   // compute the "speed part" of zdd = -2*zeta*omega*zd -omega^2(z_sp - z)
 126:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_zdd_res = gv_zd_ref>>(GV_ZD_REF_FRAC - GV_ZDD_REF_FRAC);
 127:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_speed = ((int32_t)(-2*GV_ZETA_OMEGA)*zd_zdd_res)>>(GV_ZETA_OMEGA_FRAC);
 128:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   // compute z error in z_sp resolution
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 130:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   // convert to accel resolution
 131:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_accel = z_err_sp>>(INT32_POS_FRAC-GV_ZDD_REF_FRAC);
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 133:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = zdd_speed + zdd_pos;
 134:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 135:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   /* Saturate accelerations */
 136:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 137:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 138:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   /* Saturate speed and adjust acceleration accordingly */
 139:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 140:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 141:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 142:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 143:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   }
 144:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 145:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 146:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 147:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 148:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   }
 149:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** }
 150:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 151:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 152:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** __attribute__ ((always_inline)) static inline void gv_update_ref_from_zd_sp(int32_t zd_sp) {
 153:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 549              		.loc 3 154 0
 550 0146 5949     		ldr	r1, .L368+108
 551              	.LBE59:
 552              	.LBE58:
 178:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 179:firmwares/rotorcraft/guidance/guidance_v.c **** 
 180:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_RC_CLIMB:
 181:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_zd_sp = guidance_v_rc_zd_sp;
 553              		.loc 1 181 0
 554 0148 594B     		ldr	r3, .L368+112
 555              	.LBB63:
 556              	.LBB60:
 557              		.loc 3 154 0
 558 014a 0D68     		ldr	r5, [r1, #0]
 559              	.LBE60:
 560              	.LBE63:
 561              		.loc 1 181 0
 562 014c 1868     		ldr	r0, [r3, #0]
 563              	.LBB64:
 564              	.LBB61:
 565              		.loc 3 154 0
 566 014e 594C     		ldr	r4, .L368+116
 567              	.LBE61:
 568              	.LBE64:
 569              		.loc 1 181 0
 570 0150 594B     		ldr	r3, .L368+120
 571 0152 1860     		str	r0, [r3, #0]
 572              	.LVL21:
 573              	.LBB65:
 574              	.LBB62:
 575              		.loc 3 154 0
 576 0154 D4E90023 		ldrd	r2, [r4]
 577 0158 5219     		adds	r2, r2, r5
 578 015a 43EBE573 		adc	r3, r3, r5, asr #31
 579 015e C4E90023 		strd	r2, [r4]
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 580              		.loc 3 155 0
 581 0162 564C     		ldr	r4, .L368+124
 582 0164 2368     		ldr	r3, [r4, #0]
 583 0166 ED18     		adds	r5, r5, r3
 156:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 157:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err = gv_zd_ref - (zd_sp>>(INT32_SPEED_FRAC - GV_ZD_REF_FRAC));
 584              		.loc 3 157 0
 585 0168 A5EBA000 		sub	r0, r5, r0, asr #2
 158:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err_zdd_res = zd_err>>(GV_ZD_REF_FRAC-GV_ZDD_REF_FRAC);
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 586              		.loc 3 159 0
 587 016c 544B     		ldr	r3, .L368+128
 158:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err_zdd_res = zd_err>>(GV_ZD_REF_FRAC-GV_ZDD_REF_FRAC);
 588              		.loc 3 158 0
 589 016e 4012     		asrs	r0, r0, #9
 590              		.loc 3 159 0
 591 0170 5843     		muls	r0, r3, r0
 592 0172 0014     		asrs	r0, r0, #16
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 593              		.loc 3 155 0
 594 0174 0D60     		str	r5, [r1, #0]
 595              		.loc 3 159 0
 596 0176 2060     		str	r0, [r4, #0]
 160:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 161:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   /* Saturate accelerations */
 162:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 597              		.loc 3 162 0
 598 0178 FFF7FEFF 		bl	__aeabi_i2d
 599              	.LVL22:
 600 017c 38A3     		adr	r3, .L368+32
 601 017e D3E90023 		ldrd	r2, [r3]
 602 0182 0646     		mov	r6, r0
 603 0184 0F46     		mov	r7, r1
 604 0186 FFF7FEFF 		bl	__aeabi_dcmpgt
 605 018a 10B1     		cbz	r0, .L272
 606 018c 40F2D973 		movw	r3, #2009
 607 0190 08E0     		b	.L304
 608              	.L272:
 609 0192 3046     		mov	r0, r6
 610 0194 3946     		mov	r1, r7
 611 0196 34A3     		adr	r3, .L368+40
 612 0198 D3E90023 		ldrd	r2, [r3]
 613 019c FFF7FEFF 		bl	__aeabi_dcmplt
 614 01a0 08B1     		cbz	r0, .L43
 615 01a2 484B     		ldr	r3, .L368+132
 616              	.L304:
 617 01a4 2360     		str	r3, [r4, #0]
 618              	.L43:
 163:./firmwares/rotorcraft/guidance/guidance_v_ref.h **** 
 164:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   /* Saturate speed and adjust acceleration accordingly */
 165:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 619              		.loc 3 165 0
 620 01a6 2846     		mov	r0, r5
 621 01a8 FFF7FEFF 		bl	__aeabi_i2d
 622 01ac 0022     		movs	r2, #0
 623 01ae 464B     		ldr	r3, .L368+136
 624 01b0 0646     		mov	r6, r0
 625 01b2 0F46     		mov	r7, r1
 626 01b4 FFF7FEFF 		bl	__aeabi_dcmple
 627 01b8 3C4C     		ldr	r4, .L368+108
 628 01ba 30B1     		cbz	r0, .L273
 166:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 629              		.loc 3 166 0
 630 01bc 434B     		ldr	r3, .L368+140
 631 01be 2360     		str	r3, [r4, #0]
 167:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 632              		.loc 3 167 0
 633 01c0 3E4B     		ldr	r3, .L368+124
 634 01c2 1A68     		ldr	r2, [r3, #0]
 635 01c4 002A     		cmp	r2, #0
 636 01c6 10DA     		bge	.L47
 637 01c8 0DE0     		b	.L305
 638              	.L273:
 168:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 169:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   }
 170:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 639              		.loc 3 170 0
 640 01ca 3046     		mov	r0, r6
 641 01cc 3946     		mov	r1, r7
 642 01ce 0022     		movs	r2, #0
 643 01d0 3F4B     		ldr	r3, .L368+144
 644 01d2 FFF7FEFF 		bl	__aeabi_dcmpge
 645 01d6 40B1     		cbz	r0, .L47
 171:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 646              		.loc 3 171 0
 647 01d8 4FF4C023 		mov	r3, #393216
 648 01dc 2360     		str	r3, [r4, #0]
 172:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 649              		.loc 3 172 0
 650 01de 374B     		ldr	r3, .L368+124
 651 01e0 1A68     		ldr	r2, [r3, #0]
 652 01e2 002A     		cmp	r2, #0
 653 01e4 01DD     		ble	.L47
 654              	.L305:
 173:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 655              		.loc 3 173 0
 656 01e6 0022     		movs	r2, #0
 657 01e8 1A60     		str	r2, [r3, #0]
 658              	.L47:
 659              	.LVL23:
 660              	.LBE62:
 661              	.LBE65:
 662              	.LBB66:
 663              	.LBB67:
 182:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_update_ref_from_zd_sp(guidance_v_zd_sp);
 183:firmwares/rotorcraft/guidance/guidance_v.c ****     run_hover_loop(in_flight);
 184:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 185:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 186:firmwares/rotorcraft/guidance/guidance_v.c **** 
 187:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_CLIMB:
 188:firmwares/rotorcraft/guidance/guidance_v.c **** #if USE_FMS
 189:firmwares/rotorcraft/guidance/guidance_v.c ****     if (fms.enabled && fms.input.v_mode == GUIDANCE_V_MODE_CLIMB) {
 190:firmwares/rotorcraft/guidance/guidance_v.c ****       guidance_v_zd_sp = fms.input.v_sp.climb;
 191:firmwares/rotorcraft/guidance/guidance_v.c ****     }
 192:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 193:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_update_ref_from_zd_sp(guidance_v_zd_sp);
 194:firmwares/rotorcraft/guidance/guidance_v.c ****     run_hover_loop(in_flight);
 195:firmwares/rotorcraft/guidance/guidance_v.c **** #if NO_RC_THRUST_LIMIT
 196:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 197:firmwares/rotorcraft/guidance/guidance_v.c **** #else
 198:firmwares/rotorcraft/guidance/guidance_v.c ****     // saturate max authority with RC stick
 199:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = Min(guidance_v_rc_delta_t, guidance_v_delta_t);
 200:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 201:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 202:firmwares/rotorcraft/guidance/guidance_v.c **** 
 203:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_HOVER:
 204:firmwares/rotorcraft/guidance/guidance_v.c **** #if USE_FMS
 205:firmwares/rotorcraft/guidance/guidance_v.c ****     if (fms.enabled && fms.input.v_mode == GUIDANCE_V_MODE_HOVER)
 206:firmwares/rotorcraft/guidance/guidance_v.c ****       guidance_v_z_sp = fms.input.v_sp.height;
 207:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 208:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_update_ref_from_z_sp(guidance_v_z_sp);
 209:firmwares/rotorcraft/guidance/guidance_v.c ****     run_hover_loop(in_flight);
 210:firmwares/rotorcraft/guidance/guidance_v.c **** #if NO_RC_THRUST_LIMIT
 211:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 212:firmwares/rotorcraft/guidance/guidance_v.c **** #else
 213:firmwares/rotorcraft/guidance/guidance_v.c ****     // saturate max authority with RC stick
 214:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = Min(guidance_v_rc_delta_t, guidance_v_delta_t);
 215:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 216:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 217:firmwares/rotorcraft/guidance/guidance_v.c **** 
 218:firmwares/rotorcraft/guidance/guidance_v.c ****   case GUIDANCE_V_MODE_NAV:
 219:firmwares/rotorcraft/guidance/guidance_v.c ****     {
 220:firmwares/rotorcraft/guidance/guidance_v.c ****       if (vertical_mode == VERTICAL_MODE_ALT) {
 221:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude;
 222:firmwares/rotorcraft/guidance/guidance_v.c ****         gv_update_ref_from_z_sp(guidance_v_z_sp);
 223:firmwares/rotorcraft/guidance/guidance_v.c ****         run_hover_loop(in_flight);
 224:firmwares/rotorcraft/guidance/guidance_v.c ****       }
 225:firmwares/rotorcraft/guidance/guidance_v.c ****       else if (vertical_mode == VERTICAL_MODE_CLIMB) {
 226:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_zd_sp = -nav_climb;
 227:firmwares/rotorcraft/guidance/guidance_v.c ****         gv_update_ref_from_zd_sp(guidance_v_zd_sp);
 228:firmwares/rotorcraft/guidance/guidance_v.c ****         nav_flight_altitude = -guidance_v_z_sp;
 229:firmwares/rotorcraft/guidance/guidance_v.c ****         run_hover_loop(in_flight);
 230:firmwares/rotorcraft/guidance/guidance_v.c ****       }
 231:firmwares/rotorcraft/guidance/guidance_v.c ****       else if (vertical_mode == VERTICAL_MODE_MANUAL) {
 232:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude; // For display only
 233:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_delta_t = nav_throttle;
 234:firmwares/rotorcraft/guidance/guidance_v.c ****       }
 235:firmwares/rotorcraft/guidance/guidance_v.c **** #if NO_RC_THRUST_LIMIT
 236:firmwares/rotorcraft/guidance/guidance_v.c ****       stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 237:firmwares/rotorcraft/guidance/guidance_v.c **** #else
 238:firmwares/rotorcraft/guidance/guidance_v.c ****       /* use rc limitation if available */
 239:firmwares/rotorcraft/guidance/guidance_v.c ****       if (radio_control.status == RC_OK)
 240:firmwares/rotorcraft/guidance/guidance_v.c ****         stabilization_cmd[COMMAND_THRUST] = Min(guidance_v_rc_delta_t, guidance_v_delta_t);
 241:firmwares/rotorcraft/guidance/guidance_v.c ****       else
 242:firmwares/rotorcraft/guidance/guidance_v.c ****         stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 243:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 244:firmwares/rotorcraft/guidance/guidance_v.c ****       break;
 245:firmwares/rotorcraft/guidance/guidance_v.c ****     }
 246:firmwares/rotorcraft/guidance/guidance_v.c ****   default:
 247:firmwares/rotorcraft/guidance/guidance_v.c ****     break;
 248:firmwares/rotorcraft/guidance/guidance_v.c ****   }
 249:firmwares/rotorcraft/guidance/guidance_v.c **** }
 250:firmwares/rotorcraft/guidance/guidance_v.c **** 
 251:firmwares/rotorcraft/guidance/guidance_v.c **** 
 252:firmwares/rotorcraft/guidance/guidance_v.c **** #define FF_CMD_FRAC 18
 253:firmwares/rotorcraft/guidance/guidance_v.c **** 
 254:firmwares/rotorcraft/guidance/guidance_v.c **** #define MAX_BANK_COEF (BFP_OF_REAL(RadOfDeg(30.),INT32_TRIG_FRAC))
 255:firmwares/rotorcraft/guidance/guidance_v.c **** 
 256:firmwares/rotorcraft/guidance/guidance_v.c **** __attribute__ ((always_inline)) static inline void run_hover_loop(bool_t in_flight) {
 257:firmwares/rotorcraft/guidance/guidance_v.c **** 
 258:firmwares/rotorcraft/guidance/guidance_v.c ****   /* convert our reference to generic representation */
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 664              		.loc 1 259 0
 665 01ea 324B     		ldr	r3, .L368+116
 666 01ec 1C68     		ldr	r4, [r3, #0]
 667 01ee 5A68     		ldr	r2, [r3, #4]
 668 01f0 A40C     		lsrs	r4, r4, #18
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 669              		.loc 1 260 0
 670 01f2 384B     		ldr	r3, .L368+148
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 671              		.loc 1 259 0
 672 01f4 44EA8234 		orr	r4, r4, r2, lsl #14
 673              		.loc 1 260 0
 674 01f8 1C60     		str	r4, [r3, #0]
 261:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zd_ref = gv_zd_ref<<(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 675              		.loc 1 261 0
 676 01fa 2C4B     		ldr	r3, .L368+108
 677 01fc 1D68     		ldr	r5, [r3, #0]
 678 01fe 1E4B     		ldr	r3, .L368+56
 679 0200 AD00     		lsls	r5, r5, #2
 680 0202 1D60     		str	r5, [r3, #0]
 262:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zdd_ref = gv_zdd_ref<<(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 681              		.loc 1 262 0
 682 0204 2D4B     		ldr	r3, .L368+124
 683 0206 1E68     		ldr	r6, [r3, #0]
 684 0208 334B     		ldr	r3, .L368+152
 685 020a B600     		lsls	r6, r6, #2
 686 020c 1E60     		str	r6, [r3, #0]
 263:firmwares/rotorcraft/guidance/guidance_v.c ****   /* compute the error to our reference */
 264:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_z  = guidance_v_z_ref - ins_ltp_pos.z;
 687              		.loc 1 264 0
 688 020e 244B     		ldr	r3, .L368+96
 689 0210 9B68     		ldr	r3, [r3, #8]
 690 0212 E41A     		subs	r4, r4, r3
 691              	.LVL24:
 265:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_z, GUIDANCE_V_MIN_ERR_Z, GUIDANCE_V_MAX_ERR_Z);
 692              		.loc 1 265 0
 693 0214 2046     		mov	r0, r4
 694 0216 FFF7FEFF 		bl	__aeabi_i2d
 695              	.LVL25:
 696 021a 0022     		movs	r2, #0
 697 021c 2F4B     		ldr	r3, .L368+156
 698 021e 8046     		mov	r8, r0
 699 0220 8946     		mov	r9, r1
 700 0222 FFF7FEFF 		bl	__aeabi_dcmpgt
 701 0226 0028     		cmp	r0, #0
 702 0228 5ED1     		bne	.L223
 703 022a 2D4B     		ldr	r3, .L368+160
 704 022c 4046     		mov	r0, r8
 705 022e 4946     		mov	r1, r9
 706 0230 0022     		movs	r2, #0
 707 0232 FFF7FEFF 		bl	__aeabi_dcmplt
 708 0236 2B4B     		ldr	r3, .L368+164
 709 0238 0028     		cmp	r0, #0
 710 023a 18BF     		it	ne
 711 023c 1C46     		movne	r4, r3
 712              	.LVL26:
 713 023e 55E0     		b	.L49
 714              	.L369:
 715              		.align	3
 716              	.L368:
 717 0240 2D431CEB 		.word	3944497965
 718 0244 E2362A40 		.word	1076508386
 719 0248 9A999999 		.word	2576980378
 720 024c 9999D940 		.word	1088002457
 721 0250 1F85EB51 		.word	1374389535
 722 0254 B89EA341 		.word	1101242040
 723 0258 E78C28ED 		.word	3978857703
 724 025c 0DBED040 		.word	1087421965
 725 0260 3208AC1C 		.word	481036338
 726 0264 5A649F40 		.word	1084187738
 727 0268 1F85EB51 		.word	1374389535
 728 026c B89EB3C0 		.word	-1061970248
 729 0270 00000000 		.word	ins_ltp_accel
 730 0274 00000000 		.word	stabilization_cmd
 731 0278 00000000 		.word	.LANCHOR14
 732 027c 0000B0C0 		.word	-1062207488
 733 0280 0000B040 		.word	1085276160
 734 0284 00000000 		.word	.LANCHOR6
 735 0288 00000000 		.word	.LANCHOR17
 736 028c 00000000 		.word	.LANCHOR5
 737 0290 00006941 		.word	1097400320
 738 0294 00005940 		.word	1079574528
 739 0298 285CCF09 		.word	164584488
 740 029c 00000000 		.word	.LANCHOR0
 741 02a0 00000000 		.word	ins_ltp_pos
 742 02a4 00000000 		.word	.LANCHOR9
 743 02a8 00000000 		.word	.LANCHOR7
 744 02ac 00000000 		.word	.LANCHOR11
 745 02b0 00000000 		.word	.LANCHOR8
 746 02b4 00000000 		.word	.LANCHOR10
 747 02b8 00000000 		.word	.LANCHOR16
 748 02bc 00000000 		.word	.LANCHOR12
 749 02c0 0000FCFF 		.word	-262144
 750 02c4 62ECFFFF 		.word	-5022
 751 02c8 000018C1 		.word	-1055391744
 752 02cc 0000FAFF 		.word	-393216
 753 02d0 00001841 		.word	1092091904
 754 02d4 00000000 		.word	.LANCHOR13
 755 02d8 00000000 		.word	.LANCHOR15
 756 02dc 0000A440 		.word	1084489728
 757 02e0 0000A4C0 		.word	-1062993920
 758 02e4 00F6FFFF 		.word	-2560
 759              	.LVL27:
 760              	.L223:
 761 02e8 4FF42064 		mov	r4, #2560
 762              	.LVL28:
 763              	.L49:
 266:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_zd = guidance_v_zd_ref - ins_ltp_speed.z;
 764              		.loc 1 266 0
 765 02ec 964B     		ldr	r3, .L370+24
 766 02ee 9B68     		ldr	r3, [r3, #8]
 767 02f0 ED1A     		subs	r5, r5, r3
 768              	.LVL29:
 267:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_zd, GUIDANCE_V_MIN_ERR_ZD, GUIDANCE_V_MAX_ERR_ZD);
 769              		.loc 1 267 0
 770 02f2 2846     		mov	r0, r5
 771 02f4 FFF7FEFF 		bl	__aeabi_i2d
 772 02f8 0022     		movs	r2, #0
 773 02fa 944B     		ldr	r3, .L370+28
 774 02fc 8046     		mov	r8, r0
 775 02fe 8946     		mov	r9, r1
 776 0300 FFF7FEFF 		bl	__aeabi_dcmpgt
 777 0304 50B9     		cbnz	r0, .L225
 778 0306 924B     		ldr	r3, .L370+32
 779 0308 4046     		mov	r0, r8
 780 030a 4946     		mov	r1, r9
 781 030c 0022     		movs	r2, #0
 782 030e FFF7FEFF 		bl	__aeabi_dcmplt
 783 0312 904B     		ldr	r3, .L370+36
 784 0314 0028     		cmp	r0, #0
 785 0316 18BF     		it	ne
 786 0318 1D46     		movne	r5, r3
 787              	.LVL30:
 788 031a 01E0     		b	.L50
 789              	.LVL31:
 790              	.L225:
 791 031c 4FF4A005 		mov	r5, #5242880
 792              	.LVL32:
 793              	.L50:
 794 0320 8D4B     		ldr	r3, .L370+40
 268:firmwares/rotorcraft/guidance/guidance_v.c **** 
 269:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 795              		.loc 1 269 0
 796 0322 BAF1000F 		cmp	sl, #0
 797 0326 0AD0     		beq	.L51
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 798              		.loc 1 270 0
 799 0328 1A68     		ldr	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 800              		.loc 1 271 0
 801 032a 8C49     		ldr	r1, .L370+44
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 802              		.loc 1 270 0
 803 032c A218     		adds	r2, r4, r2
 804              		.loc 1 271 0
 805 032e 8A42     		cmp	r2, r1
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 806              		.loc 1 270 0
 807 0330 1A60     		str	r2, [r3, #0]
 808              		.loc 1 271 0
 809 0332 02DC     		bgt	.L306
 810              	.L52:
 811 0334 8A49     		ldr	r1, .L370+48
 812 0336 8A42     		cmp	r2, r1
 813 0338 03DA     		bge	.L53
 814              	.L306:
 815 033a 1960     		str	r1, [r3, #0]
 816 033c 01E0     		b	.L53
 817              	.L51:
 272:firmwares/rotorcraft/guidance/guidance_v.c ****   }
 273:firmwares/rotorcraft/guidance/guidance_v.c ****   else
 274:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 818              		.loc 1 274 0
 819 033e C3F800A0 		str	sl, [r3, #0]
 820              	.L53:
 821              	.LVL33:
 275:firmwares/rotorcraft/guidance/guidance_v.c **** 
 276:firmwares/rotorcraft/guidance/guidance_v.c ****   /* our nominal command : (g + zdd)*m   */
 277:firmwares/rotorcraft/guidance/guidance_v.c **** #ifdef GUIDANCE_V_NOMINAL_HOVER_THROTTLE
 278:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m = BFP_OF_REAL(9.81/(guidance_v_nominal_throttle*MAX_PPRZ), FF_CMD_FRAC);
 279:firmwares/rotorcraft/guidance/guidance_v.c **** #else
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 822              		.loc 1 280 0
 823 0342 884A     		ldr	r2, .L370+52
 281:firmwares/rotorcraft/guidance/guidance_v.c **** #endif
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 824              		.loc 1 282 0
 825 0344 884B     		ldr	r3, .L370+56
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 826              		.loc 1 280 0
 827 0346 1768     		ldr	r7, [r2, #0]
 283:firmwares/rotorcraft/guidance/guidance_v.c ****                           (guidance_v_zdd_ref<<(FF_CMD_FRAC - INT32_ACCEL_FRAC));
 828              		.loc 1 283 0
 829 0348 3602     		lsls	r6, r6, #8
 830              	.LVL34:
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 831              		.loc 1 282 0
 832 034a 9B1B     		subs	r3, r3, r6
 833              	.LVL35:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 834              		.loc 1 280 0
 835 034c BF11     		asrs	r7, r7, #6
 284:firmwares/rotorcraft/guidance/guidance_v.c **** 
 285:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = g_m_zdd / inv_m;
 836              		.loc 1 285 0
 837 034e 93FBF7F7 		sdiv	r7, r3, r7
 838              	.LBB68:
 286:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t cphi,ctheta,cphitheta;
 287:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(cphi, ahrs.ltp_to_body_euler.phi);
 839              		.loc 1 287 0
 840 0352 864B     		ldr	r3, .L370+60
 841              	.LVL36:
 842 0354 43F24322 		movw	r2, #12867
 843 0358 DB6D     		ldr	r3, [r3, #92]
 844 035a 03F5C953 		add	r3, r3, #6432
 845 035e 0133     		adds	r3, r3, #1
 846              	.LVL37:
 847 0360 02E0     		b	.L54
 848              	.L55:
 849 0362 A3F5C943 		sub	r3, r3, #25728
 850              	.LVL38:
 851 0366 073B     		subs	r3, r3, #7
 852              	.LVL39:
 853              	.L54:
 854 0368 9342     		cmp	r3, r2
 855 036a FADC     		bgt	.L55
 856 036c 03E0     		b	.L358
 857              	.L57:
 858 036e 03F5C943 		add	r3, r3, #25728
 859              	.LVL40:
 860 0372 0733     		adds	r3, r3, #7
 861              	.LVL41:
 862 0374 00E0     		b	.L275
 863              	.L358:
 864 0376 7E4A     		ldr	r2, .L370+64
 865              	.L275:
 866 0378 9342     		cmp	r3, r2
 867 037a F8DB     		blt	.L57
 868 037c 41F62112 		movw	r2, #6433
 869 0380 9342     		cmp	r3, r2
 870 0382 7C4A     		ldr	r2, .L370+68
 871 0384 03DD     		ble	.L58
 872 0386 C3F54953 		rsb	r3, r3, #12864
 873              	.LVL42:
 874 038a 0333     		adds	r3, r3, #3
 875              	.LVL43:
 876 038c 0CE0     		b	.L59
 877              	.L58:
 878 038e 6FF4C951 		mvn	r1, #6432
 879 0392 8B42     		cmp	r3, r1
 880 0394 06DA     		bge	.L60
 881 0396 C3F17F43 		rsb	r3, r3, #-16777216
 882              	.LVL44:
 883 039a 03F57F03 		add	r3, r3, #16711680
 884 039e 03F54D43 		add	r3, r3, #52480
 885 03a2 BD33     		adds	r3, r3, #189
 886              	.LVL45:
 887              	.L60:
 888 03a4 002B     		cmp	r3, #0
 889 03a6 02DB     		blt	.L61
 890              	.L59:
 891 03a8 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 892              	.LVL46:
 893 03ac 03E0     		b	.L62
 894              	.LVL47:
 895              	.L61:
 896 03ae 5B42     		negs	r3, r3
 897              	.LVL48:
 898 03b0 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 899 03b4 5242     		negs	r2, r2
 900              	.LVL49:
 901              	.L62:
 902              	.LBE68:
 903              	.LBB69:
 288:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(ctheta, ahrs.ltp_to_body_euler.theta);
 904              		.loc 1 288 0
 905 03b6 6D4B     		ldr	r3, .L370+60
 906 03b8 43F24321 		movw	r1, #12867
 907 03bc 1B6E     		ldr	r3, [r3, #96]
 908 03be 03F5C953 		add	r3, r3, #6432
 909 03c2 0133     		adds	r3, r3, #1
 910              	.LVL50:
 911 03c4 02E0     		b	.L63
 912              	.L64:
 913 03c6 A3F5C943 		sub	r3, r3, #25728
 914              	.LVL51:
 915 03ca 073B     		subs	r3, r3, #7
 916              	.LVL52:
 917              	.L63:
 918 03cc 8B42     		cmp	r3, r1
 919 03ce FADC     		bgt	.L64
 920 03d0 03E0     		b	.L359
 921              	.L66:
 922 03d2 03F5C943 		add	r3, r3, #25728
 923              	.LVL53:
 924 03d6 0733     		adds	r3, r3, #7
 925              	.LVL54:
 926 03d8 00E0     		b	.L277
 927              	.L359:
 928 03da 6549     		ldr	r1, .L370+64
 929              	.L277:
 930 03dc 8B42     		cmp	r3, r1
 931 03de F8DB     		blt	.L66
 932 03e0 41F62111 		movw	r1, #6433
 933 03e4 8B42     		cmp	r3, r1
 934 03e6 6349     		ldr	r1, .L370+68
 935 03e8 03DD     		ble	.L67
 936 03ea C3F54953 		rsb	r3, r3, #12864
 937              	.LVL55:
 938 03ee 0333     		adds	r3, r3, #3
 939              	.LVL56:
 940 03f0 0CE0     		b	.L68
 941              	.L67:
 942 03f2 6FF4C950 		mvn	r0, #6432
 943 03f6 8342     		cmp	r3, r0
 944 03f8 06DA     		bge	.L69
 945 03fa C3F17F43 		rsb	r3, r3, #-16777216
 946              	.LVL57:
 947 03fe 03F57F03 		add	r3, r3, #16711680
 948 0402 03F54D43 		add	r3, r3, #52480
 949 0406 BD33     		adds	r3, r3, #189
 950              	.LVL58:
 951              	.L69:
 952 0408 002B     		cmp	r3, #0
 953 040a 02DB     		blt	.L70
 954              	.L68:
 955 040c 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 956              	.LVL59:
 957 0410 03E0     		b	.L71
 958              	.LVL60:
 959              	.L70:
 960 0412 5B42     		negs	r3, r3
 961              	.LVL61:
 962 0414 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 963 0418 7642     		negs	r6, r6
 964              	.LVL62:
 965              	.L71:
 966              	.LBE69:
 289:firmwares/rotorcraft/guidance/guidance_v.c ****   cphitheta = (cphi * ctheta) >> INT32_TRIG_FRAC;
 967              		.loc 1 289 0
 968 041a 5643     		muls	r6, r2, r6
 969              	.LVL63:
 970 041c B613     		asrs	r6, r6, #14
 971              	.LVL64:
 290:firmwares/rotorcraft/guidance/guidance_v.c ****   if (cphitheta < MAX_BANK_COEF) cphitheta = MAX_BANK_COEF;
 972              		.loc 1 290 0
 973 041e 3046     		mov	r0, r6
 974 0420 FFF7FEFF 		bl	__aeabi_i2d
 975              	.LVL65:
 976 0424 42A3     		adr	r3, .L370
 977 0426 D3E90023 		ldrd	r2, [r3]
 978 042a FFF7FEFF 		bl	__aeabi_dcmplt
 979 042e 42F28213 		movw	r3, #8578
 980 0432 0028     		cmp	r0, #0
 981 0434 18BF     		it	ne
 982 0436 1E46     		movne	r6, r3
 983              	.LVL66:
 291:firmwares/rotorcraft/guidance/guidance_v.c ****   /* feed forward command */
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 984              		.loc 1 292 0
 985 0438 BF03     		lsls	r7, r7, #14
 986 043a 97FBF6F6 		sdiv	r6, r7, r6
 987              	.LVL67:
 988 043e 4E4B     		ldr	r3, .L370+72
 293:firmwares/rotorcraft/guidance/guidance_v.c **** 
 294:firmwares/rotorcraft/guidance/guidance_v.c ****   /* bound the nominal command to 0.9*MAX_PPRZ */
 295:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_ff_cmd, 0, 8640);
 989              		.loc 1 295 0
 990 0440 B6F5075F 		cmp	r6, #8640
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 991              		.loc 1 292 0
 992 0444 1E60     		str	r6, [r3, #0]
 993              		.loc 1 295 0
 994 0446 02DD     		ble	.L73
 995 0448 4FF40752 		mov	r2, #8640
 996 044c 02E0     		b	.L307
 997              	.L73:
 998 044e 002E     		cmp	r6, #0
 999 0450 01DA     		bge	.L74
 1000 0452 0022     		movs	r2, #0
 1001              	.L307:
 1002 0454 1A60     		str	r2, [r3, #0]
 1003              	.L74:
 296:firmwares/rotorcraft/guidance/guidance_v.c **** 
 297:firmwares/rotorcraft/guidance/guidance_v.c **** 
 298:firmwares/rotorcraft/guidance/guidance_v.c ****   /* our error feed back command                   */
 299:firmwares/rotorcraft/guidance/guidance_v.c ****   /* z-axis pointing down -> positive error means we need less thrust */
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1004              		.loc 1 300 0
 1005 0456 494B     		ldr	r3, .L370+76
 1006 0458 1B68     		ldr	r3, [r3, #0]
 1007 045a 5B42     		negs	r3, r3
 1008 045c 5C43     		muls	r4, r3, r4
 1009              	.LVL68:
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1010              		.loc 1 301 0
 1011 045e 484B     		ldr	r3, .L370+80
 1012 0460 1B68     		ldr	r3, [r3, #0]
 1013 0462 5B42     		negs	r3, r3
 1014 0464 5D43     		muls	r5, r3, r5
 1015              	.LVL69:
 302:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_ki * guidance_v_z_sum_err) >> 21);
 1016              		.loc 1 302 0
 1017 0466 474B     		ldr	r3, .L370+84
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1018              		.loc 1 301 0
 1019 0468 6D15     		asrs	r5, r5, #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1020              		.loc 1 300 0
 1021 046a 05EB2434 		add	r4, r5, r4, asr #12
 1022              		.loc 1 302 0
 1023 046e 1D68     		ldr	r5, [r3, #0]
 1024 0470 394B     		ldr	r3, .L370+40
 1025 0472 6D42     		negs	r5, r5
 1026 0474 1B68     		ldr	r3, [r3, #0]
 1027 0476 5D43     		muls	r5, r3, r5
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1028              		.loc 1 300 0
 1029 0478 434B     		ldr	r3, .L370+88
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1030              		.loc 1 301 0
 1031 047a 04EB6555 		add	r5, r4, r5, asr #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1032              		.loc 1 300 0
 1033 047e 1D60     		str	r5, [r3, #0]
 303:firmwares/rotorcraft/guidance/guidance_v.c **** 
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 1034              		.loc 1 304 0
 1035 0480 3D4B     		ldr	r3, .L370+72
 1036 0482 3024     		movs	r4, #48
 1037 0484 1B68     		ldr	r3, [r3, #0]
 1038 0486 04FB0534 		mla	r4, r4, r5, r3
 1039 048a 404B     		ldr	r3, .L370+92
 305:firmwares/rotorcraft/guidance/guidance_v.c **** 
 306:firmwares/rotorcraft/guidance/guidance_v.c ****   /* bound the result */
 307:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_delta_t, 0, MAX_PPRZ);
 1040              		.loc 1 307 0
 1041 048c B4F5165F 		cmp	r4, #9600
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 1042              		.loc 1 304 0
 1043 0490 1C60     		str	r4, [r3, #0]
 1044              		.loc 1 307 0
 1045 0492 02DD     		ble	.L75
 1046 0494 4FF41652 		mov	r2, #9600
 1047 0498 02E0     		b	.L308
 1048              	.L75:
 1049 049a 002C     		cmp	r4, #0
 1050 049c 01DA     		bge	.L76
 1051 049e 0022     		movs	r2, #0
 1052              	.L308:
 1053 04a0 1A60     		str	r2, [r3, #0]
 1054              	.LVL70:
 1055              	.L76:
 1056              	.LBE67:
 1057              	.LBE66:
 184:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 1058              		.loc 1 184 0
 1059 04a2 1A68     		ldr	r2, [r3, #0]
 1060 04a4 3A4B     		ldr	r3, .L370+96
 1061 04a6 00F0F6BD 		b	.L329
 1062              	.L37:
 1063              	.LBB70:
 1064              	.LBB71:
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1065              		.loc 3 154 0
 1066 04aa 3A49     		ldr	r1, .L370+100
 1067 04ac 3A4C     		ldr	r4, .L370+104
 1068 04ae 0D68     		ldr	r5, [r1, #0]
 1069              	.LBE71:
 1070              	.LBE70:
 193:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_update_ref_from_zd_sp(guidance_v_zd_sp);
 1071              		.loc 1 193 0
 1072 04b0 3A4B     		ldr	r3, .L370+108
 1073 04b2 1868     		ldr	r0, [r3, #0]
 1074              	.LVL71:
 1075              	.LBB73:
 1076              	.LBB72:
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1077              		.loc 3 154 0
 1078 04b4 D4E90023 		ldrd	r2, [r4]
 1079 04b8 5219     		adds	r2, r2, r5
 1080 04ba 43EBE573 		adc	r3, r3, r5, asr #31
 1081 04be C4E90023 		strd	r2, [r4]
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1082              		.loc 3 155 0
 1083 04c2 374C     		ldr	r4, .L370+112
 1084 04c4 2368     		ldr	r3, [r4, #0]
 1085 04c6 ED18     		adds	r5, r5, r3
 157:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err = gv_zd_ref - (zd_sp>>(INT32_SPEED_FRAC - GV_ZD_REF_FRAC));
 1086              		.loc 3 157 0
 1087 04c8 A5EBA000 		sub	r0, r5, r0, asr #2
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 1088              		.loc 3 159 0
 1089 04cc 354B     		ldr	r3, .L370+116
 158:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err_zdd_res = zd_err>>(GV_ZD_REF_FRAC-GV_ZDD_REF_FRAC);
 1090              		.loc 3 158 0
 1091 04ce 4012     		asrs	r0, r0, #9
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 1092              		.loc 3 159 0
 1093 04d0 5843     		muls	r0, r3, r0
 1094 04d2 0014     		asrs	r0, r0, #16
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1095              		.loc 3 155 0
 1096 04d4 0D60     		str	r5, [r1, #0]
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 1097              		.loc 3 159 0
 1098 04d6 2060     		str	r0, [r4, #0]
 162:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 1099              		.loc 3 162 0
 1100 04d8 FFF7FEFF 		bl	__aeabi_i2d
 1101              	.LVL72:
 1102 04dc 16A3     		adr	r3, .L370+8
 1103 04de D3E90023 		ldrd	r2, [r3]
 1104 04e2 0646     		mov	r6, r0
 1105 04e4 0F46     		mov	r7, r1
 1106 04e6 FFF7FEFF 		bl	__aeabi_dcmpgt
 1107 04ea 10B1     		cbz	r0, .L278
 1108 04ec 40F2D973 		movw	r3, #2009
 1109 04f0 08E0     		b	.L309
 1110              	.L278:
 1111 04f2 3046     		mov	r0, r6
 1112 04f4 3946     		mov	r1, r7
 1113 04f6 12A3     		adr	r3, .L370+16
 1114 04f8 D3E90023 		ldrd	r2, [r3]
 1115 04fc FFF7FEFF 		bl	__aeabi_dcmplt
 1116 0500 08B1     		cbz	r0, .L79
 1117 0502 294B     		ldr	r3, .L370+120
 1118              	.L309:
 1119 0504 2360     		str	r3, [r4, #0]
 1120              	.L79:
 165:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 1121              		.loc 3 165 0
 1122 0506 2846     		mov	r0, r5
 1123 0508 FFF7FEFF 		bl	__aeabi_i2d
 1124 050c 0022     		movs	r2, #0
 1125 050e 274B     		ldr	r3, .L370+124
 1126 0510 0646     		mov	r6, r0
 1127 0512 0F46     		mov	r7, r1
 1128 0514 FFF7FEFF 		bl	__aeabi_dcmple
 1129 0518 1E4C     		ldr	r4, .L370+100
 1130 051a 0028     		cmp	r0, #0
 1131 051c 4AD0     		beq	.L279
 166:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 1132              		.loc 3 166 0
 1133 051e 244B     		ldr	r3, .L370+128
 1134 0520 2360     		str	r3, [r4, #0]
 167:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 1135              		.loc 3 167 0
 1136 0522 1F4B     		ldr	r3, .L370+112
 1137 0524 1A68     		ldr	r2, [r3, #0]
 1138 0526 002A     		cmp	r2, #0
 1139 0528 54DA     		bge	.L83
 1140 052a 51E0     		b	.L310
 1141              	.L371:
 1142 052c AFF30080 		.align	3
 1143              	.L370:
 1144 0530 65732D38 		.word	942502757
 1145 0534 52C1C040 		.word	1086374226
 1146 0538 3208AC1C 		.word	481036338
 1147 053c 5A649F40 		.word	1084187738
 1148 0540 1F85EB51 		.word	1374389535
 1149 0544 B89EB3C0 		.word	-1061970248
 1150 0548 00000000 		.word	ins_ltp_speed
 1151 054c 00005441 		.word	1096024064
 1152 0550 000054C1 		.word	-1051459584
 1153 0554 0000B0FF 		.word	-5242880
 1154 0558 00000000 		.word	.LANCHOR4
 1155 055c 80841E00 		.word	2000000
 1156 0560 807BE1FF 		.word	-2000000
 1157 0564 00000000 		.word	.LANCHOR5
 1158 0568 703D2700 		.word	2571632
 1159 056c 00000000 		.word	ahrs
 1160 0570 BDCDFFFF 		.word	-12867
 1161 0574 00000000 		.word	pprz_trig_int
 1162 0578 00000000 		.word	.LANCHOR18
 1163 057c 00000000 		.word	.LANCHOR1
 1164 0580 00000000 		.word	.LANCHOR2
 1165 0584 00000000 		.word	.LANCHOR3
 1166 0588 00000000 		.word	.LANCHOR19
 1167 058c 00000000 		.word	.LANCHOR20
 1168 0590 00000000 		.word	stabilization_cmd
 1169 0594 00000000 		.word	.LANCHOR11
 1170 0598 00000000 		.word	.LANCHOR10
 1171 059c 00000000 		.word	.LANCHOR16
 1172 05a0 00000000 		.word	.LANCHOR12
 1173 05a4 0000FCFF 		.word	-262144
 1174 05a8 62ECFFFF 		.word	-5022
 1175 05ac 000018C1 		.word	-1055391744
 1176 05b0 0000FAFF 		.word	-393216
 1177              	.L279:
 170:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 1178              		.loc 3 170 0
 1179 05b4 3046     		mov	r0, r6
 1180 05b6 3946     		mov	r1, r7
 1181 05b8 0022     		movs	r2, #0
 1182 05ba 9F4B     		ldr	r3, .L372+16
 1183 05bc FFF7FEFF 		bl	__aeabi_dcmpge
 1184 05c0 40B1     		cbz	r0, .L83
 171:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 1185              		.loc 3 171 0
 1186 05c2 4FF4C023 		mov	r3, #393216
 1187 05c6 2360     		str	r3, [r4, #0]
 172:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 1188              		.loc 3 172 0
 1189 05c8 9C4B     		ldr	r3, .L372+20
 1190 05ca 1A68     		ldr	r2, [r3, #0]
 1191 05cc 002A     		cmp	r2, #0
 1192 05ce 01DD     		ble	.L83
 1193              	.L310:
 1194              		.loc 3 173 0
 1195 05d0 0022     		movs	r2, #0
 1196 05d2 1A60     		str	r2, [r3, #0]
 1197              	.L83:
 1198              	.LVL73:
 1199              	.LBE72:
 1200              	.LBE73:
 1201              	.LBB74:
 1202              	.LBB75:
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 1203              		.loc 1 259 0
 1204 05d4 9A4B     		ldr	r3, .L372+24
 1205 05d6 1C68     		ldr	r4, [r3, #0]
 1206 05d8 5A68     		ldr	r2, [r3, #4]
 1207 05da A40C     		lsrs	r4, r4, #18
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 1208              		.loc 1 260 0
 1209 05dc 994B     		ldr	r3, .L372+28
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 1210              		.loc 1 259 0
 1211 05de 44EA8234 		orr	r4, r4, r2, lsl #14
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 1212              		.loc 1 260 0
 1213 05e2 1C60     		str	r4, [r3, #0]
 261:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zd_ref = gv_zd_ref<<(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 1214              		.loc 1 261 0
 1215 05e4 984B     		ldr	r3, .L372+32
 1216 05e6 1D68     		ldr	r5, [r3, #0]
 1217 05e8 984B     		ldr	r3, .L372+36
 1218 05ea AD00     		lsls	r5, r5, #2
 1219 05ec 1D60     		str	r5, [r3, #0]
 262:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zdd_ref = gv_zdd_ref<<(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 1220              		.loc 1 262 0
 1221 05ee 934B     		ldr	r3, .L372+20
 1222 05f0 1E68     		ldr	r6, [r3, #0]
 1223 05f2 974B     		ldr	r3, .L372+40
 1224 05f4 B600     		lsls	r6, r6, #2
 1225 05f6 1E60     		str	r6, [r3, #0]
 264:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_z  = guidance_v_z_ref - ins_ltp_pos.z;
 1226              		.loc 1 264 0
 1227 05f8 964B     		ldr	r3, .L372+44
 1228 05fa 9B68     		ldr	r3, [r3, #8]
 1229 05fc E41A     		subs	r4, r4, r3
 1230              	.LVL74:
 265:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_z, GUIDANCE_V_MIN_ERR_Z, GUIDANCE_V_MAX_ERR_Z);
 1231              		.loc 1 265 0
 1232 05fe 2046     		mov	r0, r4
 1233 0600 FFF7FEFF 		bl	__aeabi_i2d
 1234              	.LVL75:
 1235 0604 0022     		movs	r2, #0
 1236 0606 944B     		ldr	r3, .L372+48
 1237 0608 8046     		mov	r8, r0
 1238 060a 8946     		mov	r9, r1
 1239 060c FFF7FEFF 		bl	__aeabi_dcmpgt
 1240 0610 50B9     		cbnz	r0, .L228
 1241 0612 924B     		ldr	r3, .L372+52
 1242 0614 4046     		mov	r0, r8
 1243 0616 4946     		mov	r1, r9
 1244 0618 0022     		movs	r2, #0
 1245 061a FFF7FEFF 		bl	__aeabi_dcmplt
 1246 061e 904B     		ldr	r3, .L372+56
 1247 0620 0028     		cmp	r0, #0
 1248 0622 18BF     		it	ne
 1249 0624 1C46     		movne	r4, r3
 1250              	.LVL76:
 1251 0626 01E0     		b	.L85
 1252              	.LVL77:
 1253              	.L228:
 1254 0628 4FF42064 		mov	r4, #2560
 1255              	.LVL78:
 1256              	.L85:
 266:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_zd = guidance_v_zd_ref - ins_ltp_speed.z;
 1257              		.loc 1 266 0
 1258 062c 8D4B     		ldr	r3, .L372+60
 1259 062e 9B68     		ldr	r3, [r3, #8]
 1260 0630 ED1A     		subs	r5, r5, r3
 1261              	.LVL79:
 267:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_zd, GUIDANCE_V_MIN_ERR_ZD, GUIDANCE_V_MAX_ERR_ZD);
 1262              		.loc 1 267 0
 1263 0632 2846     		mov	r0, r5
 1264 0634 FFF7FEFF 		bl	__aeabi_i2d
 1265 0638 0022     		movs	r2, #0
 1266 063a 8B4B     		ldr	r3, .L372+64
 1267 063c 8046     		mov	r8, r0
 1268 063e 8946     		mov	r9, r1
 1269 0640 FFF7FEFF 		bl	__aeabi_dcmpgt
 1270 0644 50B9     		cbnz	r0, .L230
 1271 0646 894B     		ldr	r3, .L372+68
 1272 0648 4046     		mov	r0, r8
 1273 064a 4946     		mov	r1, r9
 1274 064c 0022     		movs	r2, #0
 1275 064e FFF7FEFF 		bl	__aeabi_dcmplt
 1276 0652 874B     		ldr	r3, .L372+72
 1277 0654 0028     		cmp	r0, #0
 1278 0656 18BF     		it	ne
 1279 0658 1D46     		movne	r5, r3
 1280              	.LVL80:
 1281 065a 01E0     		b	.L86
 1282              	.LVL81:
 1283              	.L230:
 1284 065c 4FF4A005 		mov	r5, #5242880
 1285              	.LVL82:
 1286              	.L86:
 1287 0660 844B     		ldr	r3, .L372+76
 269:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 1288              		.loc 1 269 0
 1289 0662 BAF1000F 		cmp	sl, #0
 1290 0666 0AD0     		beq	.L87
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1291              		.loc 1 270 0
 1292 0668 1A68     		ldr	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1293              		.loc 1 271 0
 1294 066a 8349     		ldr	r1, .L372+80
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1295              		.loc 1 270 0
 1296 066c A218     		adds	r2, r4, r2
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1297              		.loc 1 271 0
 1298 066e 8A42     		cmp	r2, r1
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1299              		.loc 1 270 0
 1300 0670 1A60     		str	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1301              		.loc 1 271 0
 1302 0672 02DC     		bgt	.L311
 1303              	.L88:
 1304 0674 8149     		ldr	r1, .L372+84
 1305 0676 8A42     		cmp	r2, r1
 1306 0678 03DA     		bge	.L89
 1307              	.L311:
 1308 067a 1960     		str	r1, [r3, #0]
 1309 067c 01E0     		b	.L89
 1310              	.L87:
 274:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 1311              		.loc 1 274 0
 1312 067e C3F800A0 		str	sl, [r3, #0]
 1313              	.L89:
 1314              	.LVL83:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1315              		.loc 1 280 0
 1316 0682 7F4A     		ldr	r2, .L372+88
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 1317              		.loc 1 282 0
 1318 0684 7F4B     		ldr	r3, .L372+92
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1319              		.loc 1 280 0
 1320 0686 1768     		ldr	r7, [r2, #0]
 283:firmwares/rotorcraft/guidance/guidance_v.c ****                           (guidance_v_zdd_ref<<(FF_CMD_FRAC - INT32_ACCEL_FRAC));
 1321              		.loc 1 283 0
 1322 0688 3602     		lsls	r6, r6, #8
 1323              	.LVL84:
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 1324              		.loc 1 282 0
 1325 068a 9B1B     		subs	r3, r3, r6
 1326              	.LVL85:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1327              		.loc 1 280 0
 1328 068c BF11     		asrs	r7, r7, #6
 285:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = g_m_zdd / inv_m;
 1329              		.loc 1 285 0
 1330 068e 93FBF7F7 		sdiv	r7, r3, r7
 1331              	.LBB76:
 287:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(cphi, ahrs.ltp_to_body_euler.phi);
 1332              		.loc 1 287 0
 1333 0692 7D4B     		ldr	r3, .L372+96
 1334              	.LVL86:
 1335 0694 43F24322 		movw	r2, #12867
 1336 0698 DB6D     		ldr	r3, [r3, #92]
 1337 069a 03F5C953 		add	r3, r3, #6432
 1338 069e 0133     		adds	r3, r3, #1
 1339              	.LVL87:
 1340 06a0 02E0     		b	.L90
 1341              	.L91:
 1342 06a2 A3F5C943 		sub	r3, r3, #25728
 1343              	.LVL88:
 1344 06a6 073B     		subs	r3, r3, #7
 1345              	.LVL89:
 1346              	.L90:
 1347 06a8 9342     		cmp	r3, r2
 1348 06aa FADC     		bgt	.L91
 1349 06ac 03E0     		b	.L360
 1350              	.L93:
 1351 06ae 03F5C943 		add	r3, r3, #25728
 1352              	.LVL90:
 1353 06b2 0733     		adds	r3, r3, #7
 1354              	.LVL91:
 1355 06b4 00E0     		b	.L281
 1356              	.L360:
 1357 06b6 754A     		ldr	r2, .L372+100
 1358              	.L281:
 1359 06b8 9342     		cmp	r3, r2
 1360 06ba F8DB     		blt	.L93
 1361 06bc 41F62112 		movw	r2, #6433
 1362 06c0 9342     		cmp	r3, r2
 1363 06c2 734A     		ldr	r2, .L372+104
 1364 06c4 03DD     		ble	.L94
 1365 06c6 C3F54953 		rsb	r3, r3, #12864
 1366              	.LVL92:
 1367 06ca 0333     		adds	r3, r3, #3
 1368              	.LVL93:
 1369 06cc 0CE0     		b	.L95
 1370              	.L94:
 1371 06ce 6FF4C951 		mvn	r1, #6432
 1372 06d2 8B42     		cmp	r3, r1
 1373 06d4 06DA     		bge	.L96
 1374 06d6 C3F17F43 		rsb	r3, r3, #-16777216
 1375              	.LVL94:
 1376 06da 03F57F03 		add	r3, r3, #16711680
 1377 06de 03F54D43 		add	r3, r3, #52480
 1378 06e2 BD33     		adds	r3, r3, #189
 1379              	.LVL95:
 1380              	.L96:
 1381 06e4 002B     		cmp	r3, #0
 1382 06e6 02DB     		blt	.L97
 1383              	.L95:
 1384 06e8 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 1385              	.LVL96:
 1386 06ec 03E0     		b	.L98
 1387              	.LVL97:
 1388              	.L97:
 1389 06ee 5B42     		negs	r3, r3
 1390              	.LVL98:
 1391 06f0 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 1392 06f4 5242     		negs	r2, r2
 1393              	.LVL99:
 1394              	.L98:
 1395              	.LBE76:
 1396              	.LBB77:
 288:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(ctheta, ahrs.ltp_to_body_euler.theta);
 1397              		.loc 1 288 0
 1398 06f6 644B     		ldr	r3, .L372+96
 1399 06f8 43F24321 		movw	r1, #12867
 1400 06fc 1B6E     		ldr	r3, [r3, #96]
 1401 06fe 03F5C953 		add	r3, r3, #6432
 1402 0702 0133     		adds	r3, r3, #1
 1403              	.LVL100:
 1404 0704 02E0     		b	.L99
 1405              	.L100:
 1406 0706 A3F5C943 		sub	r3, r3, #25728
 1407              	.LVL101:
 1408 070a 073B     		subs	r3, r3, #7
 1409              	.LVL102:
 1410              	.L99:
 1411 070c 8B42     		cmp	r3, r1
 1412 070e FADC     		bgt	.L100
 1413 0710 03E0     		b	.L361
 1414              	.L102:
 1415 0712 03F5C943 		add	r3, r3, #25728
 1416              	.LVL103:
 1417 0716 0733     		adds	r3, r3, #7
 1418              	.LVL104:
 1419 0718 00E0     		b	.L283
 1420              	.L361:
 1421 071a 5C49     		ldr	r1, .L372+100
 1422              	.L283:
 1423 071c 8B42     		cmp	r3, r1
 1424 071e F8DB     		blt	.L102
 1425 0720 3EE1     		b	.L357
 1426              	.LVL105:
 1427              	.L38:
 1428              	.LBE77:
 1429              	.LBE75:
 1430              	.LBE74:
 1431              	.LBB78:
 1432              	.LBB79:
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1433              		.loc 3 122 0
 1434 0722 4949     		ldr	r1, .L372+32
 1435 0724 464C     		ldr	r4, .L372+24
 1436 0726 0868     		ldr	r0, [r1, #0]
 1437              	.LBE79:
 1438              	.LBE78:
 208:firmwares/rotorcraft/guidance/guidance_v.c ****     gv_update_ref_from_z_sp(guidance_v_z_sp);
 1439              		.loc 1 208 0
 1440 0728 5A4B     		ldr	r3, .L372+108
 1441 072a 1E68     		ldr	r6, [r3, #0]
 1442              	.LVL106:
 1443              	.LBB81:
 1444              	.LBB80:
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1445              		.loc 3 122 0
 1446 072c D4E90023 		ldrd	r2, [r4]
 1447 0730 1218     		adds	r2, r2, r0
 1448 0732 43EBE073 		adc	r3, r3, r0, asr #31
 1449 0736 C4E90023 		strd	r2, [r4]
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1450              		.loc 3 123 0
 1451 073a 404C     		ldr	r4, .L372+20
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1452              		.loc 3 129 0
 1453 073c 920C     		lsrs	r2, r2, #18
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1454              		.loc 3 123 0
 1455 073e 2568     		ldr	r5, [r4, #0]
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1456              		.loc 3 129 0
 1457 0740 42EA8332 		orr	r2, r2, r3, lsl #14
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1458              		.loc 3 123 0
 1459 0744 4519     		adds	r5, r0, r5
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1460              		.loc 3 129 0
 1461 0746 B21A     		subs	r2, r6, r2
 127:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_speed = ((int32_t)(-2*GV_ZETA_OMEGA)*zd_zdd_res)>>(GV_ZETA_OMEGA_FRAC);
 1462              		.loc 3 127 0
 1463 0748 5348     		ldr	r0, .L372+112
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1464              		.loc 3 132 0
 1465 074a 40F28516 		movw	r6, #389
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1466              		.loc 3 123 0
 1467 074e 0D60     		str	r5, [r1, #0]
 1468              	.LVL107:
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1469              		.loc 3 132 0
 1470 0750 7243     		muls	r2, r6, r2
 126:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_zdd_res = gv_zd_ref>>(GV_ZD_REF_FRAC - GV_ZDD_REF_FRAC);
 1471              		.loc 3 126 0
 1472 0752 6912     		asrs	r1, r5, #9
 127:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_speed = ((int32_t)(-2*GV_ZETA_OMEGA)*zd_zdd_res)>>(GV_ZETA_OMEGA_FRAC);
 1473              		.loc 3 127 0
 1474 0754 4843     		muls	r0, r1, r0
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1475              		.loc 3 132 0
 1476 0756 D211     		asrs	r2, r2, #7
 133:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = zdd_speed + zdd_pos;
 1477              		.loc 3 133 0
 1478 0758 02EBA020 		add	r0, r2, r0, asr #10
 1479 075c 2060     		str	r0, [r4, #0]
 136:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 1480              		.loc 3 136 0
 1481 075e FFF7FEFF 		bl	__aeabi_i2d
 1482              	.LVL108:
 1483 0762 31A3     		adr	r3, .L372
 1484 0764 D3E90023 		ldrd	r2, [r3]
 1485 0768 0646     		mov	r6, r0
 1486 076a 0F46     		mov	r7, r1
 1487 076c FFF7FEFF 		bl	__aeabi_dcmpgt
 1488 0770 10B1     		cbz	r0, .L284
 1489 0772 40F2D973 		movw	r3, #2009
 1490 0776 08E0     		b	.L314
 1491              	.L284:
 1492 0778 3046     		mov	r0, r6
 1493 077a 3946     		mov	r1, r7
 1494 077c 2CA3     		adr	r3, .L372+8
 1495 077e D3E90023 		ldrd	r2, [r3]
 1496 0782 FFF7FEFF 		bl	__aeabi_dcmplt
 1497 0786 08B1     		cbz	r0, .L115
 1498 0788 444B     		ldr	r3, .L372+116
 1499              	.L314:
 1500 078a 2360     		str	r3, [r4, #0]
 1501              	.L115:
 139:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 1502              		.loc 3 139 0
 1503 078c 2846     		mov	r0, r5
 1504 078e FFF7FEFF 		bl	__aeabi_i2d
 1505 0792 0022     		movs	r2, #0
 1506 0794 424B     		ldr	r3, .L372+120
 1507 0796 0646     		mov	r6, r0
 1508 0798 0F46     		mov	r7, r1
 1509 079a FFF7FEFF 		bl	__aeabi_dcmple
 1510 079e 2A4C     		ldr	r4, .L372+32
 1511 07a0 30B1     		cbz	r0, .L285
 140:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 1512              		.loc 3 140 0
 1513 07a2 404B     		ldr	r3, .L372+124
 1514 07a4 2360     		str	r3, [r4, #0]
 141:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 1515              		.loc 3 141 0
 1516 07a6 254B     		ldr	r3, .L372+20
 1517 07a8 1A68     		ldr	r2, [r3, #0]
 1518 07aa 002A     		cmp	r2, #0
 1519 07ac 10DA     		bge	.L119
 1520 07ae 0DE0     		b	.L315
 1521              	.L285:
 144:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 1522              		.loc 3 144 0
 1523 07b0 3046     		mov	r0, r6
 1524 07b2 3946     		mov	r1, r7
 1525 07b4 0022     		movs	r2, #0
 1526 07b6 204B     		ldr	r3, .L372+16
 1527 07b8 FFF7FEFF 		bl	__aeabi_dcmpge
 1528 07bc 40B1     		cbz	r0, .L119
 145:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 1529              		.loc 3 145 0
 1530 07be 4FF4C023 		mov	r3, #393216
 1531 07c2 2360     		str	r3, [r4, #0]
 146:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 1532              		.loc 3 146 0
 1533 07c4 1D4B     		ldr	r3, .L372+20
 1534 07c6 1A68     		ldr	r2, [r3, #0]
 1535 07c8 002A     		cmp	r2, #0
 1536 07ca 01DD     		ble	.L119
 1537              	.L315:
 147:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 1538              		.loc 3 147 0
 1539 07cc 0022     		movs	r2, #0
 1540 07ce 1A60     		str	r2, [r3, #0]
 1541              	.L119:
 1542              	.LVL109:
 1543              	.LBE80:
 1544              	.LBE81:
 1545              	.LBB82:
 1546              	.LBB83:
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 1547              		.loc 1 259 0
 1548 07d0 1B4B     		ldr	r3, .L372+24
 1549 07d2 1C68     		ldr	r4, [r3, #0]
 1550 07d4 5A68     		ldr	r2, [r3, #4]
 1551 07d6 A40C     		lsrs	r4, r4, #18
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 1552              		.loc 1 260 0
 1553 07d8 1A4B     		ldr	r3, .L372+28
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 1554              		.loc 1 259 0
 1555 07da 44EA8234 		orr	r4, r4, r2, lsl #14
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 1556              		.loc 1 260 0
 1557 07de 1C60     		str	r4, [r3, #0]
 261:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zd_ref = gv_zd_ref<<(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 1558              		.loc 1 261 0
 1559 07e0 194B     		ldr	r3, .L372+32
 1560 07e2 1D68     		ldr	r5, [r3, #0]
 1561              	.LVL110:
 1562 07e4 194B     		ldr	r3, .L372+36
 1563 07e6 AD00     		lsls	r5, r5, #2
 1564 07e8 1D60     		str	r5, [r3, #0]
 262:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zdd_ref = gv_zdd_ref<<(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 1565              		.loc 1 262 0
 1566 07ea 144B     		ldr	r3, .L372+20
 1567 07ec 1E68     		ldr	r6, [r3, #0]
 1568 07ee 184B     		ldr	r3, .L372+40
 1569 07f0 B600     		lsls	r6, r6, #2
 1570 07f2 1E60     		str	r6, [r3, #0]
 264:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_z  = guidance_v_z_ref - ins_ltp_pos.z;
 1571              		.loc 1 264 0
 1572 07f4 174B     		ldr	r3, .L372+44
 1573 07f6 9B68     		ldr	r3, [r3, #8]
 1574 07f8 E41A     		subs	r4, r4, r3
 1575              	.LVL111:
 265:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_z, GUIDANCE_V_MIN_ERR_Z, GUIDANCE_V_MAX_ERR_Z);
 1576              		.loc 1 265 0
 1577 07fa 2046     		mov	r0, r4
 1578 07fc FFF7FEFF 		bl	__aeabi_i2d
 1579              	.LVL112:
 1580 0800 0022     		movs	r2, #0
 1581 0802 154B     		ldr	r3, .L372+48
 1582 0804 8046     		mov	r8, r0
 1583 0806 8946     		mov	r9, r1
 1584 0808 FFF7FEFF 		bl	__aeabi_dcmpgt
 1585 080c 0028     		cmp	r0, #0
 1586 080e 4BD1     		bne	.L233
 1587 0810 124B     		ldr	r3, .L372+52
 1588 0812 4046     		mov	r0, r8
 1589 0814 4946     		mov	r1, r9
 1590 0816 0022     		movs	r2, #0
 1591 0818 FFF7FEFF 		bl	__aeabi_dcmplt
 1592 081c 104B     		ldr	r3, .L372+56
 1593 081e 0028     		cmp	r0, #0
 1594 0820 18BF     		it	ne
 1595 0822 1C46     		movne	r4, r3
 1596              	.LVL113:
 1597 0824 42E0     		b	.L121
 1598              	.L373:
 1599 0826 00BF     		.align	3
 1600              	.L372:
 1601 0828 3208AC1C 		.word	481036338
 1602 082c 5A649F40 		.word	1084187738
 1603 0830 1F85EB51 		.word	1374389535
 1604 0834 B89EB3C0 		.word	-1061970248
 1605 0838 00001841 		.word	1092091904
 1606 083c 00000000 		.word	.LANCHOR12
 1607 0840 00000000 		.word	.LANCHOR10
 1608 0844 00000000 		.word	.LANCHOR13
 1609 0848 00000000 		.word	.LANCHOR11
 1610 084c 00000000 		.word	.LANCHOR14
 1611 0850 00000000 		.word	.LANCHOR15
 1612 0854 00000000 		.word	ins_ltp_pos
 1613 0858 0000A440 		.word	1084489728
 1614 085c 0000A4C0 		.word	-1062993920
 1615 0860 00F6FFFF 		.word	-2560
 1616 0864 00000000 		.word	ins_ltp_speed
 1617 0868 00005441 		.word	1096024064
 1618 086c 000054C1 		.word	-1051459584
 1619 0870 0000B0FF 		.word	-5242880
 1620 0874 00000000 		.word	.LANCHOR4
 1621 0878 80841E00 		.word	2000000
 1622 087c 807BE1FF 		.word	-2000000
 1623 0880 00000000 		.word	.LANCHOR5
 1624 0884 703D2700 		.word	2571632
 1625 0888 00000000 		.word	ahrs
 1626 088c BDCDFFFF 		.word	-12867
 1627 0890 00000000 		.word	pprz_trig_int
 1628 0894 00000000 		.word	.LANCHOR9
 1629 0898 22F4FFFF 		.word	-3038
 1630 089c 62ECFFFF 		.word	-5022
 1631 08a0 000018C1 		.word	-1055391744
 1632 08a4 0000FAFF 		.word	-393216
 1633              	.LVL114:
 1634              	.L233:
 1635 08a8 4FF42064 		mov	r4, #2560
 1636              	.LVL115:
 1637              	.L121:
 266:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_zd = guidance_v_zd_ref - ins_ltp_speed.z;
 1638              		.loc 1 266 0
 1639 08ac 9E4B     		ldr	r3, .L374+24
 1640 08ae 9B68     		ldr	r3, [r3, #8]
 1641 08b0 ED1A     		subs	r5, r5, r3
 1642              	.LVL116:
 267:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_zd, GUIDANCE_V_MIN_ERR_ZD, GUIDANCE_V_MAX_ERR_ZD);
 1643              		.loc 1 267 0
 1644 08b2 2846     		mov	r0, r5
 1645 08b4 FFF7FEFF 		bl	__aeabi_i2d
 1646 08b8 0022     		movs	r2, #0
 1647 08ba 9C4B     		ldr	r3, .L374+28
 1648 08bc 8046     		mov	r8, r0
 1649 08be 8946     		mov	r9, r1
 1650 08c0 FFF7FEFF 		bl	__aeabi_dcmpgt
 1651 08c4 50B9     		cbnz	r0, .L235
 1652 08c6 9A4B     		ldr	r3, .L374+32
 1653 08c8 4046     		mov	r0, r8
 1654 08ca 4946     		mov	r1, r9
 1655 08cc 0022     		movs	r2, #0
 1656 08ce FFF7FEFF 		bl	__aeabi_dcmplt
 1657 08d2 984B     		ldr	r3, .L374+36
 1658 08d4 0028     		cmp	r0, #0
 1659 08d6 18BF     		it	ne
 1660 08d8 1D46     		movne	r5, r3
 1661              	.LVL117:
 1662 08da 01E0     		b	.L122
 1663              	.LVL118:
 1664              	.L235:
 1665 08dc 4FF4A005 		mov	r5, #5242880
 1666              	.LVL119:
 1667              	.L122:
 1668 08e0 954B     		ldr	r3, .L374+40
 269:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 1669              		.loc 1 269 0
 1670 08e2 BAF1000F 		cmp	sl, #0
 1671 08e6 0AD0     		beq	.L123
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1672              		.loc 1 270 0
 1673 08e8 1A68     		ldr	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1674              		.loc 1 271 0
 1675 08ea 9449     		ldr	r1, .L374+44
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1676              		.loc 1 270 0
 1677 08ec A218     		adds	r2, r4, r2
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1678              		.loc 1 271 0
 1679 08ee 8A42     		cmp	r2, r1
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 1680              		.loc 1 270 0
 1681 08f0 1A60     		str	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 1682              		.loc 1 271 0
 1683 08f2 02DC     		bgt	.L316
 1684              	.L124:
 1685 08f4 9249     		ldr	r1, .L374+48
 1686 08f6 8A42     		cmp	r2, r1
 1687 08f8 03DA     		bge	.L125
 1688              	.L316:
 1689 08fa 1960     		str	r1, [r3, #0]
 1690 08fc 01E0     		b	.L125
 1691              	.L123:
 274:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 1692              		.loc 1 274 0
 1693 08fe C3F800A0 		str	sl, [r3, #0]
 1694              	.L125:
 1695              	.LVL120:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1696              		.loc 1 280 0
 1697 0902 904A     		ldr	r2, .L374+52
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 1698              		.loc 1 282 0
 1699 0904 904B     		ldr	r3, .L374+56
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1700              		.loc 1 280 0
 1701 0906 1768     		ldr	r7, [r2, #0]
 283:firmwares/rotorcraft/guidance/guidance_v.c ****                           (guidance_v_zdd_ref<<(FF_CMD_FRAC - INT32_ACCEL_FRAC));
 1702              		.loc 1 283 0
 1703 0908 3602     		lsls	r6, r6, #8
 1704              	.LVL121:
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 1705              		.loc 1 282 0
 1706 090a 9B1B     		subs	r3, r3, r6
 1707              	.LVL122:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 1708              		.loc 1 280 0
 1709 090c BF11     		asrs	r7, r7, #6
 285:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = g_m_zdd / inv_m;
 1710              		.loc 1 285 0
 1711 090e 93FBF7F7 		sdiv	r7, r3, r7
 1712              	.LBB84:
 287:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(cphi, ahrs.ltp_to_body_euler.phi);
 1713              		.loc 1 287 0
 1714 0912 8E4B     		ldr	r3, .L374+60
 1715              	.LVL123:
 1716 0914 43F24322 		movw	r2, #12867
 1717 0918 DB6D     		ldr	r3, [r3, #92]
 1718 091a 03F5C953 		add	r3, r3, #6432
 1719 091e 0133     		adds	r3, r3, #1
 1720              	.LVL124:
 1721 0920 02E0     		b	.L126
 1722              	.L127:
 1723 0922 A3F5C943 		sub	r3, r3, #25728
 1724              	.LVL125:
 1725 0926 073B     		subs	r3, r3, #7
 1726              	.LVL126:
 1727              	.L126:
 1728 0928 9342     		cmp	r3, r2
 1729 092a FADC     		bgt	.L127
 1730 092c 03E0     		b	.L362
 1731              	.L129:
 1732 092e 03F5C943 		add	r3, r3, #25728
 1733              	.LVL127:
 1734 0932 0733     		adds	r3, r3, #7
 1735              	.LVL128:
 1736 0934 00E0     		b	.L287
 1737              	.L362:
 1738 0936 864A     		ldr	r2, .L374+64
 1739              	.L287:
 1740 0938 9342     		cmp	r3, r2
 1741 093a F8DB     		blt	.L129
 1742 093c 41F62112 		movw	r2, #6433
 1743 0940 9342     		cmp	r3, r2
 1744 0942 844A     		ldr	r2, .L374+68
 1745 0944 03DD     		ble	.L130
 1746 0946 C3F54953 		rsb	r3, r3, #12864
 1747              	.LVL129:
 1748 094a 0333     		adds	r3, r3, #3
 1749              	.LVL130:
 1750 094c 0CE0     		b	.L131
 1751              	.L130:
 1752 094e 6FF4C951 		mvn	r1, #6432
 1753 0952 8B42     		cmp	r3, r1
 1754 0954 06DA     		bge	.L132
 1755 0956 C3F17F43 		rsb	r3, r3, #-16777216
 1756              	.LVL131:
 1757 095a 03F57F03 		add	r3, r3, #16711680
 1758 095e 03F54D43 		add	r3, r3, #52480
 1759 0962 BD33     		adds	r3, r3, #189
 1760              	.LVL132:
 1761              	.L132:
 1762 0964 002B     		cmp	r3, #0
 1763 0966 02DB     		blt	.L133
 1764              	.L131:
 1765 0968 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 1766              	.LVL133:
 1767 096c 03E0     		b	.L134
 1768              	.LVL134:
 1769              	.L133:
 1770 096e 5B42     		negs	r3, r3
 1771              	.LVL135:
 1772 0970 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 1773 0974 5242     		negs	r2, r2
 1774              	.LVL136:
 1775              	.L134:
 1776              	.LBE84:
 1777              	.LBB85:
 288:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(ctheta, ahrs.ltp_to_body_euler.theta);
 1778              		.loc 1 288 0
 1779 0976 754B     		ldr	r3, .L374+60
 1780 0978 43F24321 		movw	r1, #12867
 1781 097c 1B6E     		ldr	r3, [r3, #96]
 1782 097e 03F5C953 		add	r3, r3, #6432
 1783 0982 0133     		adds	r3, r3, #1
 1784              	.LVL137:
 1785 0984 02E0     		b	.L135
 1786              	.L136:
 1787 0986 A3F5C943 		sub	r3, r3, #25728
 1788              	.LVL138:
 1789 098a 073B     		subs	r3, r3, #7
 1790              	.LVL139:
 1791              	.L135:
 1792 098c 8B42     		cmp	r3, r1
 1793 098e FADC     		bgt	.L136
 1794 0990 03E0     		b	.L363
 1795              	.L138:
 1796 0992 03F5C943 		add	r3, r3, #25728
 1797              	.LVL140:
 1798 0996 0733     		adds	r3, r3, #7
 1799              	.LVL141:
 1800 0998 00E0     		b	.L289
 1801              	.L363:
 1802 099a 6D49     		ldr	r1, .L374+64
 1803              	.L289:
 1804 099c 8B42     		cmp	r3, r1
 1805 099e F8DB     		blt	.L138
 1806              	.LVL142:
 1807              	.L357:
 1808 09a0 41F62111 		movw	r1, #6433
 1809 09a4 8B42     		cmp	r3, r1
 1810 09a6 6B49     		ldr	r1, .L374+68
 1811 09a8 03DD     		ble	.L139
 1812 09aa C3F54953 		rsb	r3, r3, #12864
 1813 09ae 0333     		adds	r3, r3, #3
 1814              	.LVL143:
 1815 09b0 0CE0     		b	.L140
 1816              	.LVL144:
 1817              	.L139:
 1818 09b2 6FF4C950 		mvn	r0, #6432
 1819 09b6 8342     		cmp	r3, r0
 1820 09b8 06DA     		bge	.L141
 1821 09ba C3F17F43 		rsb	r3, r3, #-16777216
 1822 09be 03F57F03 		add	r3, r3, #16711680
 1823 09c2 03F54D43 		add	r3, r3, #52480
 1824 09c6 BD33     		adds	r3, r3, #189
 1825              	.LVL145:
 1826              	.L141:
 1827 09c8 002B     		cmp	r3, #0
 1828 09ca 02DB     		blt	.L142
 1829              	.L140:
 1830 09cc 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 1831              	.LVL146:
 1832 09d0 03E0     		b	.L143
 1833              	.LVL147:
 1834              	.L142:
 1835 09d2 5B42     		negs	r3, r3
 1836              	.LVL148:
 1837 09d4 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 1838 09d8 7642     		negs	r6, r6
 1839              	.LVL149:
 1840              	.L143:
 1841              	.LBE85:
 289:firmwares/rotorcraft/guidance/guidance_v.c ****   cphitheta = (cphi * ctheta) >> INT32_TRIG_FRAC;
 1842              		.loc 1 289 0
 1843 09da 5643     		muls	r6, r2, r6
 1844              	.LVL150:
 1845 09dc B613     		asrs	r6, r6, #14
 1846              	.LVL151:
 290:firmwares/rotorcraft/guidance/guidance_v.c ****   if (cphitheta < MAX_BANK_COEF) cphitheta = MAX_BANK_COEF;
 1847              		.loc 1 290 0
 1848 09de 3046     		mov	r0, r6
 1849 09e0 FFF7FEFF 		bl	__aeabi_i2d
 1850 09e4 4AA3     		adr	r3, .L374
 1851 09e6 D3E90023 		ldrd	r2, [r3]
 1852 09ea FFF7FEFF 		bl	__aeabi_dcmplt
 1853 09ee 42F28213 		movw	r3, #8578
 1854 09f2 0028     		cmp	r0, #0
 1855 09f4 18BF     		it	ne
 1856 09f6 1E46     		movne	r6, r3
 1857              	.LVL152:
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 1858              		.loc 1 292 0
 1859 09f8 BF03     		lsls	r7, r7, #14
 1860 09fa 97FBF6F6 		sdiv	r6, r7, r6
 1861              	.LVL153:
 1862 09fe 564B     		ldr	r3, .L374+72
 295:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_ff_cmd, 0, 8640);
 1863              		.loc 1 295 0
 1864 0a00 B6F5075F 		cmp	r6, #8640
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 1865              		.loc 1 292 0
 1866 0a04 1E60     		str	r6, [r3, #0]
 295:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_ff_cmd, 0, 8640);
 1867              		.loc 1 295 0
 1868 0a06 02DD     		ble	.L145
 1869 0a08 4FF40752 		mov	r2, #8640
 1870 0a0c 02E0     		b	.L317
 1871              	.L145:
 1872 0a0e 002E     		cmp	r6, #0
 1873 0a10 01DA     		bge	.L146
 1874 0a12 0022     		movs	r2, #0
 1875              	.L317:
 1876 0a14 1A60     		str	r2, [r3, #0]
 1877              	.L146:
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1878              		.loc 1 300 0
 1879 0a16 514B     		ldr	r3, .L374+76
 1880 0a18 1B68     		ldr	r3, [r3, #0]
 1881 0a1a 5B42     		negs	r3, r3
 1882 0a1c 5C43     		muls	r4, r3, r4
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1883              		.loc 1 301 0
 1884 0a1e 504B     		ldr	r3, .L374+80
 1885 0a20 1B68     		ldr	r3, [r3, #0]
 1886 0a22 5B42     		negs	r3, r3
 1887 0a24 5D43     		muls	r5, r3, r5
 302:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_ki * guidance_v_z_sum_err) >> 21);
 1888              		.loc 1 302 0
 1889 0a26 4F4B     		ldr	r3, .L374+84
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1890              		.loc 1 301 0
 1891 0a28 6D15     		asrs	r5, r5, #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1892              		.loc 1 300 0
 1893 0a2a 05EB2434 		add	r4, r5, r4, asr #12
 302:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_ki * guidance_v_z_sum_err) >> 21);
 1894              		.loc 1 302 0
 1895 0a2e 1D68     		ldr	r5, [r3, #0]
 1896 0a30 414B     		ldr	r3, .L374+40
 1897 0a32 6D42     		negs	r5, r5
 1898 0a34 1B68     		ldr	r3, [r3, #0]
 1899 0a36 5D43     		muls	r5, r3, r5
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1900              		.loc 1 300 0
 1901 0a38 4B4B     		ldr	r3, .L374+88
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 1902              		.loc 1 301 0
 1903 0a3a 04EB6555 		add	r5, r4, r5, asr #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 1904              		.loc 1 300 0
 1905 0a3e 1D60     		str	r5, [r3, #0]
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 1906              		.loc 1 304 0
 1907 0a40 454B     		ldr	r3, .L374+72
 1908 0a42 3024     		movs	r4, #48
 1909 0a44 1B68     		ldr	r3, [r3, #0]
 1910 0a46 04FB0534 		mla	r4, r4, r5, r3
 1911 0a4a 484B     		ldr	r3, .L374+92
 1912              		.loc 1 307 0
 1913 0a4c B4F5165F 		cmp	r4, #9600
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 1914              		.loc 1 304 0
 1915 0a50 1C60     		str	r4, [r3, #0]
 1916              		.loc 1 307 0
 1917 0a52 02DD     		ble	.L147
 1918 0a54 4FF41652 		mov	r2, #9600
 1919 0a58 02E0     		b	.L318
 1920              	.L147:
 1921 0a5a 002C     		cmp	r4, #0
 1922 0a5c 01DA     		bge	.L148
 1923 0a5e 0022     		movs	r2, #0
 1924              	.L318:
 1925 0a60 1A60     		str	r2, [r3, #0]
 1926              	.L148:
 1927              	.LBE83:
 1928              	.LBE82:
 214:firmwares/rotorcraft/guidance/guidance_v.c ****     stabilization_cmd[COMMAND_THRUST] = Min(guidance_v_rc_delta_t, guidance_v_delta_t);
 1929              		.loc 1 214 0
 1930 0a62 434A     		ldr	r2, .L374+96
 1931 0a64 1168     		ldr	r1, [r2, #0]
 1932 0a66 1A68     		ldr	r2, [r3, #0]
 1933 0a68 424B     		ldr	r3, .L374+100
 1934 0a6a 0EE3     		b	.L328
 1935              	.L39:
 220:firmwares/rotorcraft/guidance/guidance_v.c ****       if (vertical_mode == VERTICAL_MODE_ALT) {
 1936              		.loc 1 220 0
 1937 0a6c 424B     		ldr	r3, .L374+104
 1938 0a6e 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1939 0a70 022B     		cmp	r3, #2
 1940 0a72 40F04C81 		bne	.L149
 221:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude;
 1941              		.loc 1 221 0
 1942 0a76 414B     		ldr	r3, .L374+108
 1943              	.LBB86:
 1944              	.LBB87:
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1945              		.loc 3 122 0
 1946 0a78 4148     		ldr	r0, .L374+112
 1947              	.LBE87:
 1948              	.LBE86:
 221:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude;
 1949              		.loc 1 221 0
 1950 0a7a 1968     		ldr	r1, [r3, #0]
 1951              	.LBB90:
 1952              	.LBB88:
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1953              		.loc 3 122 0
 1954 0a7c 0568     		ldr	r5, [r0, #0]
 1955 0a7e 414C     		ldr	r4, .L374+116
 1956              	.LBE88:
 1957              	.LBE90:
 221:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude;
 1958              		.loc 1 221 0
 1959 0a80 414B     		ldr	r3, .L374+120
 1960 0a82 4942     		negs	r1, r1
 1961 0a84 1960     		str	r1, [r3, #0]
 1962              	.LVL154:
 1963              	.LBB91:
 1964              	.LBB89:
 122:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 1965              		.loc 3 122 0
 1966 0a86 D4E90023 		ldrd	r2, [r4]
 1967 0a8a 5219     		adds	r2, r2, r5
 1968 0a8c 43EBE573 		adc	r3, r3, r5, asr #31
 1969 0a90 C4E90023 		strd	r2, [r4]
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1970              		.loc 3 123 0
 1971 0a94 3D4C     		ldr	r4, .L374+124
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1972              		.loc 3 129 0
 1973 0a96 920C     		lsrs	r2, r2, #18
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1974              		.loc 3 123 0
 1975 0a98 2668     		ldr	r6, [r4, #0]
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1976              		.loc 3 129 0
 1977 0a9a 42EA8332 		orr	r2, r2, r3, lsl #14
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1978              		.loc 3 123 0
 1979 0a9e AD19     		adds	r5, r5, r6
 129:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t z_err_sp = z_sp - (int32_t)(gv_z_ref>>(GV_Z_REF_FRAC-INT32_POS_FRAC));
 1980              		.loc 3 129 0
 1981 0aa0 8A1A     		subs	r2, r1, r2
 127:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_speed = ((int32_t)(-2*GV_ZETA_OMEGA)*zd_zdd_res)>>(GV_ZETA_OMEGA_FRAC);
 1982              		.loc 3 127 0
 1983 0aa2 3B4E     		ldr	r6, .L374+128
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1984              		.loc 3 132 0
 1985 0aa4 40F28511 		movw	r1, #389
 1986              	.LVL155:
 123:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 1987              		.loc 3 123 0
 1988 0aa8 0560     		str	r5, [r0, #0]
 1989              	.LVL156:
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1990              		.loc 3 132 0
 1991 0aaa 4A43     		muls	r2, r1, r2
 126:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_zdd_res = gv_zd_ref>>(GV_ZD_REF_FRAC - GV_ZDD_REF_FRAC);
 1992              		.loc 3 126 0
 1993 0aac 6812     		asrs	r0, r5, #9
 127:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_speed = ((int32_t)(-2*GV_ZETA_OMEGA)*zd_zdd_res)>>(GV_ZETA_OMEGA_FRAC);
 1994              		.loc 3 127 0
 1995 0aae 7043     		muls	r0, r6, r0
 132:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zdd_pos = ((int32_t)(GV_OMEGA_2)*z_err_accel)>>GV_OMEGA_2_FRAC;
 1996              		.loc 3 132 0
 1997 0ab0 D211     		asrs	r2, r2, #7
 133:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = zdd_speed + zdd_pos;
 1998              		.loc 3 133 0
 1999 0ab2 02EBA020 		add	r0, r2, r0, asr #10
 2000 0ab6 2060     		str	r0, [r4, #0]
 136:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 2001              		.loc 3 136 0
 2002 0ab8 FFF7FEFF 		bl	__aeabi_i2d
 2003              	.LVL157:
 2004 0abc 16A3     		adr	r3, .L374+8
 2005 0abe D3E90023 		ldrd	r2, [r3]
 2006 0ac2 0646     		mov	r6, r0
 2007 0ac4 0F46     		mov	r7, r1
 2008 0ac6 FFF7FEFF 		bl	__aeabi_dcmpgt
 2009 0aca 10B1     		cbz	r0, .L290
 2010 0acc 40F2D973 		movw	r3, #2009
 2011 0ad0 08E0     		b	.L319
 2012              	.L290:
 2013 0ad2 3046     		mov	r0, r6
 2014 0ad4 3946     		mov	r1, r7
 2015 0ad6 12A3     		adr	r3, .L374+16
 2016 0ad8 D3E90023 		ldrd	r2, [r3]
 2017 0adc FFF7FEFF 		bl	__aeabi_dcmplt
 2018 0ae0 08B1     		cbz	r0, .L152
 2019 0ae2 2C4B     		ldr	r3, .L374+132
 2020              	.L319:
 2021 0ae4 2360     		str	r3, [r4, #0]
 2022              	.L152:
 139:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 2023              		.loc 3 139 0
 2024 0ae6 2846     		mov	r0, r5
 2025 0ae8 FFF7FEFF 		bl	__aeabi_i2d
 2026 0aec 0022     		movs	r2, #0
 2027 0aee 2A4B     		ldr	r3, .L374+136
 2028 0af0 0646     		mov	r6, r0
 2029 0af2 0F46     		mov	r7, r1
 2030 0af4 FFF7FEFF 		bl	__aeabi_dcmple
 2031 0af8 214C     		ldr	r4, .L374+112
 2032 0afa 0028     		cmp	r0, #0
 2033 0afc 50D0     		beq	.L291
 140:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 2034              		.loc 3 140 0
 2035 0afe 274B     		ldr	r3, .L374+140
 2036 0b00 2360     		str	r3, [r4, #0]
 141:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 2037              		.loc 3 141 0
 2038 0b02 224B     		ldr	r3, .L374+124
 2039 0b04 1A68     		ldr	r2, [r3, #0]
 2040 0b06 002A     		cmp	r2, #0
 2041 0b08 5ADA     		bge	.L156
 2042 0b0a 57E0     		b	.L320
 2043              	.L375:
 2044 0b0c AFF30080 		.align	3
 2045              	.L374:
 2046 0b10 65732D38 		.word	942502757
 2047 0b14 52C1C040 		.word	1086374226
 2048 0b18 3208AC1C 		.word	481036338
 2049 0b1c 5A649F40 		.word	1084187738
 2050 0b20 1F85EB51 		.word	1374389535
 2051 0b24 B89EB3C0 		.word	-1061970248
 2052 0b28 00000000 		.word	ins_ltp_speed
 2053 0b2c 00005441 		.word	1096024064
 2054 0b30 000054C1 		.word	-1051459584
 2055 0b34 0000B0FF 		.word	-5242880
 2056 0b38 00000000 		.word	.LANCHOR4
 2057 0b3c 80841E00 		.word	2000000
 2058 0b40 807BE1FF 		.word	-2000000
 2059 0b44 00000000 		.word	.LANCHOR5
 2060 0b48 703D2700 		.word	2571632
 2061 0b4c 00000000 		.word	ahrs
 2062 0b50 BDCDFFFF 		.word	-12867
 2063 0b54 00000000 		.word	pprz_trig_int
 2064 0b58 00000000 		.word	.LANCHOR18
 2065 0b5c 00000000 		.word	.LANCHOR1
 2066 0b60 00000000 		.word	.LANCHOR2
 2067 0b64 00000000 		.word	.LANCHOR3
 2068 0b68 00000000 		.word	.LANCHOR19
 2069 0b6c 00000000 		.word	.LANCHOR20
 2070 0b70 00000000 		.word	.LANCHOR7
 2071 0b74 00000000 		.word	stabilization_cmd
 2072 0b78 00000000 		.word	vertical_mode
 2073 0b7c 00000000 		.word	nav_flight_altitude
 2074 0b80 00000000 		.word	.LANCHOR11
 2075 0b84 00000000 		.word	.LANCHOR10
 2076 0b88 00000000 		.word	.LANCHOR9
 2077 0b8c 00000000 		.word	.LANCHOR12
 2078 0b90 22F4FFFF 		.word	-3038
 2079 0b94 62ECFFFF 		.word	-5022
 2080 0b98 000018C1 		.word	-1055391744
 2081 0b9c 0000FAFF 		.word	-393216
 2082              	.L291:
 144:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 2083              		.loc 3 144 0
 2084 0ba0 3046     		mov	r0, r6
 2085 0ba2 3946     		mov	r1, r7
 2086 0ba4 0022     		movs	r2, #0
 2087 0ba6 A24B     		ldr	r3, .L376+16
 2088 0ba8 FFF7FEFF 		bl	__aeabi_dcmpge
 2089 0bac 40B1     		cbz	r0, .L156
 145:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 2090              		.loc 3 145 0
 2091 0bae 4FF4C023 		mov	r3, #393216
 2092 0bb2 2360     		str	r3, [r4, #0]
 146:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 2093              		.loc 3 146 0
 2094 0bb4 9F4B     		ldr	r3, .L376+20
 2095 0bb6 1A68     		ldr	r2, [r3, #0]
 2096 0bb8 002A     		cmp	r2, #0
 2097 0bba 01DD     		ble	.L156
 2098              	.L320:
 147:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****       gv_zdd_ref = 0;
 2099              		.loc 3 147 0
 2100 0bbc 0022     		movs	r2, #0
 2101 0bbe 1A60     		str	r2, [r3, #0]
 2102              	.L156:
 2103              	.LVL158:
 2104              	.LBE89:
 2105              	.LBE91:
 2106              	.LBB92:
 2107              	.LBB93:
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 2108              		.loc 1 259 0
 2109 0bc0 9D4B     		ldr	r3, .L376+24
 2110 0bc2 1C68     		ldr	r4, [r3, #0]
 2111 0bc4 5A68     		ldr	r2, [r3, #4]
 2112 0bc6 A40C     		lsrs	r4, r4, #18
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 2113              		.loc 1 260 0
 2114 0bc8 9C4B     		ldr	r3, .L376+28
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 2115              		.loc 1 259 0
 2116 0bca 44EA8234 		orr	r4, r4, r2, lsl #14
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 2117              		.loc 1 260 0
 2118 0bce 1C60     		str	r4, [r3, #0]
 261:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zd_ref = gv_zd_ref<<(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 2119              		.loc 1 261 0
 2120 0bd0 9B4B     		ldr	r3, .L376+32
 2121 0bd2 1D68     		ldr	r5, [r3, #0]
 2122              	.LVL159:
 2123 0bd4 9B4B     		ldr	r3, .L376+36
 2124 0bd6 AD00     		lsls	r5, r5, #2
 2125 0bd8 1D60     		str	r5, [r3, #0]
 262:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zdd_ref = gv_zdd_ref<<(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 2126              		.loc 1 262 0
 2127 0bda 964B     		ldr	r3, .L376+20
 2128 0bdc 1E68     		ldr	r6, [r3, #0]
 2129 0bde 9A4B     		ldr	r3, .L376+40
 2130 0be0 B600     		lsls	r6, r6, #2
 2131 0be2 1E60     		str	r6, [r3, #0]
 264:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_z  = guidance_v_z_ref - ins_ltp_pos.z;
 2132              		.loc 1 264 0
 2133 0be4 994B     		ldr	r3, .L376+44
 2134 0be6 9B68     		ldr	r3, [r3, #8]
 2135 0be8 E41A     		subs	r4, r4, r3
 2136              	.LVL160:
 265:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_z, GUIDANCE_V_MIN_ERR_Z, GUIDANCE_V_MAX_ERR_Z);
 2137              		.loc 1 265 0
 2138 0bea 2046     		mov	r0, r4
 2139 0bec FFF7FEFF 		bl	__aeabi_i2d
 2140              	.LVL161:
 2141 0bf0 0022     		movs	r2, #0
 2142 0bf2 974B     		ldr	r3, .L376+48
 2143 0bf4 8046     		mov	r8, r0
 2144 0bf6 8946     		mov	r9, r1
 2145 0bf8 FFF7FEFF 		bl	__aeabi_dcmpgt
 2146 0bfc 50B9     		cbnz	r0, .L238
 2147 0bfe 954B     		ldr	r3, .L376+52
 2148 0c00 4046     		mov	r0, r8
 2149 0c02 4946     		mov	r1, r9
 2150 0c04 0022     		movs	r2, #0
 2151 0c06 FFF7FEFF 		bl	__aeabi_dcmplt
 2152 0c0a 934B     		ldr	r3, .L376+56
 2153 0c0c 0028     		cmp	r0, #0
 2154 0c0e 18BF     		it	ne
 2155 0c10 1C46     		movne	r4, r3
 2156              	.LVL162:
 2157 0c12 01E0     		b	.L158
 2158              	.LVL163:
 2159              	.L238:
 2160 0c14 4FF42064 		mov	r4, #2560
 2161              	.LVL164:
 2162              	.L158:
 266:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_zd = guidance_v_zd_ref - ins_ltp_speed.z;
 2163              		.loc 1 266 0
 2164 0c18 904B     		ldr	r3, .L376+60
 2165 0c1a 9B68     		ldr	r3, [r3, #8]
 2166 0c1c ED1A     		subs	r5, r5, r3
 2167              	.LVL165:
 267:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_zd, GUIDANCE_V_MIN_ERR_ZD, GUIDANCE_V_MAX_ERR_ZD);
 2168              		.loc 1 267 0
 2169 0c1e 2846     		mov	r0, r5
 2170 0c20 FFF7FEFF 		bl	__aeabi_i2d
 2171 0c24 0022     		movs	r2, #0
 2172 0c26 8E4B     		ldr	r3, .L376+64
 2173 0c28 8046     		mov	r8, r0
 2174 0c2a 8946     		mov	r9, r1
 2175 0c2c FFF7FEFF 		bl	__aeabi_dcmpgt
 2176 0c30 50B9     		cbnz	r0, .L240
 2177 0c32 8C4B     		ldr	r3, .L376+68
 2178 0c34 4046     		mov	r0, r8
 2179 0c36 4946     		mov	r1, r9
 2180 0c38 0022     		movs	r2, #0
 2181 0c3a FFF7FEFF 		bl	__aeabi_dcmplt
 2182 0c3e 8A4B     		ldr	r3, .L376+72
 2183 0c40 0028     		cmp	r0, #0
 2184 0c42 18BF     		it	ne
 2185 0c44 1D46     		movne	r5, r3
 2186              	.LVL166:
 2187 0c46 01E0     		b	.L159
 2188              	.LVL167:
 2189              	.L240:
 2190 0c48 4FF4A005 		mov	r5, #5242880
 2191              	.LVL168:
 2192              	.L159:
 2193 0c4c 874B     		ldr	r3, .L376+76
 269:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 2194              		.loc 1 269 0
 2195 0c4e BAF1000F 		cmp	sl, #0
 2196 0c52 0AD0     		beq	.L160
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2197              		.loc 1 270 0
 2198 0c54 1A68     		ldr	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2199              		.loc 1 271 0
 2200 0c56 8649     		ldr	r1, .L376+80
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2201              		.loc 1 270 0
 2202 0c58 A218     		adds	r2, r4, r2
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2203              		.loc 1 271 0
 2204 0c5a 8A42     		cmp	r2, r1
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2205              		.loc 1 270 0
 2206 0c5c 1A60     		str	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2207              		.loc 1 271 0
 2208 0c5e 02DC     		bgt	.L321
 2209              	.L161:
 2210 0c60 8449     		ldr	r1, .L376+84
 2211 0c62 8A42     		cmp	r2, r1
 2212 0c64 03DA     		bge	.L162
 2213              	.L321:
 2214 0c66 1960     		str	r1, [r3, #0]
 2215 0c68 01E0     		b	.L162
 2216              	.L160:
 274:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 2217              		.loc 1 274 0
 2218 0c6a C3F800A0 		str	sl, [r3, #0]
 2219              	.L162:
 2220              	.LVL169:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2221              		.loc 1 280 0
 2222 0c6e 824A     		ldr	r2, .L376+88
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 2223              		.loc 1 282 0
 2224 0c70 824B     		ldr	r3, .L376+92
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2225              		.loc 1 280 0
 2226 0c72 1768     		ldr	r7, [r2, #0]
 283:firmwares/rotorcraft/guidance/guidance_v.c ****                           (guidance_v_zdd_ref<<(FF_CMD_FRAC - INT32_ACCEL_FRAC));
 2227              		.loc 1 283 0
 2228 0c74 3602     		lsls	r6, r6, #8
 2229              	.LVL170:
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 2230              		.loc 1 282 0
 2231 0c76 9B1B     		subs	r3, r3, r6
 2232              	.LVL171:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2233              		.loc 1 280 0
 2234 0c78 BF11     		asrs	r7, r7, #6
 285:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = g_m_zdd / inv_m;
 2235              		.loc 1 285 0
 2236 0c7a 93FBF7F7 		sdiv	r7, r3, r7
 2237              	.LBB94:
 287:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(cphi, ahrs.ltp_to_body_euler.phi);
 2238              		.loc 1 287 0
 2239 0c7e 804B     		ldr	r3, .L376+96
 2240              	.LVL172:
 2241 0c80 43F24322 		movw	r2, #12867
 2242 0c84 DB6D     		ldr	r3, [r3, #92]
 2243 0c86 03F5C953 		add	r3, r3, #6432
 2244 0c8a 0133     		adds	r3, r3, #1
 2245              	.LVL173:
 2246 0c8c 02E0     		b	.L163
 2247              	.L164:
 2248 0c8e A3F5C943 		sub	r3, r3, #25728
 2249              	.LVL174:
 2250 0c92 073B     		subs	r3, r3, #7
 2251              	.LVL175:
 2252              	.L163:
 2253 0c94 9342     		cmp	r3, r2
 2254 0c96 FADC     		bgt	.L164
 2255 0c98 03E0     		b	.L364
 2256              	.L166:
 2257 0c9a 03F5C943 		add	r3, r3, #25728
 2258              	.LVL176:
 2259 0c9e 0733     		adds	r3, r3, #7
 2260              	.LVL177:
 2261 0ca0 00E0     		b	.L293
 2262              	.L364:
 2263 0ca2 784A     		ldr	r2, .L376+100
 2264              	.L293:
 2265 0ca4 9342     		cmp	r3, r2
 2266 0ca6 F8DB     		blt	.L166
 2267 0ca8 41F62112 		movw	r2, #6433
 2268 0cac 9342     		cmp	r3, r2
 2269 0cae 764A     		ldr	r2, .L376+104
 2270 0cb0 03DD     		ble	.L167
 2271 0cb2 C3F54953 		rsb	r3, r3, #12864
 2272              	.LVL178:
 2273 0cb6 0333     		adds	r3, r3, #3
 2274              	.LVL179:
 2275 0cb8 0CE0     		b	.L168
 2276              	.L167:
 2277 0cba 6FF4C951 		mvn	r1, #6432
 2278 0cbe 8B42     		cmp	r3, r1
 2279 0cc0 06DA     		bge	.L169
 2280 0cc2 C3F17F43 		rsb	r3, r3, #-16777216
 2281              	.LVL180:
 2282 0cc6 03F57F03 		add	r3, r3, #16711680
 2283 0cca 03F54D43 		add	r3, r3, #52480
 2284 0cce BD33     		adds	r3, r3, #189
 2285              	.LVL181:
 2286              	.L169:
 2287 0cd0 002B     		cmp	r3, #0
 2288 0cd2 02DB     		blt	.L170
 2289              	.L168:
 2290 0cd4 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 2291              	.LVL182:
 2292 0cd8 03E0     		b	.L171
 2293              	.LVL183:
 2294              	.L170:
 2295 0cda 5B42     		negs	r3, r3
 2296              	.LVL184:
 2297 0cdc 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 2298 0ce0 5242     		negs	r2, r2
 2299              	.LVL185:
 2300              	.L171:
 2301              	.LBE94:
 2302              	.LBB95:
 288:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(ctheta, ahrs.ltp_to_body_euler.theta);
 2303              		.loc 1 288 0
 2304 0ce2 674B     		ldr	r3, .L376+96
 2305 0ce4 43F24321 		movw	r1, #12867
 2306 0ce8 1B6E     		ldr	r3, [r3, #96]
 2307 0cea 03F5C953 		add	r3, r3, #6432
 2308 0cee 0133     		adds	r3, r3, #1
 2309              	.LVL186:
 2310 0cf0 02E0     		b	.L172
 2311              	.L173:
 2312 0cf2 A3F5C943 		sub	r3, r3, #25728
 2313              	.LVL187:
 2314 0cf6 073B     		subs	r3, r3, #7
 2315              	.LVL188:
 2316              	.L172:
 2317 0cf8 8B42     		cmp	r3, r1
 2318 0cfa FADC     		bgt	.L173
 2319 0cfc 03E0     		b	.L365
 2320              	.L175:
 2321 0cfe 03F5C943 		add	r3, r3, #25728
 2322              	.LVL189:
 2323 0d02 0733     		adds	r3, r3, #7
 2324              	.LVL190:
 2325 0d04 00E0     		b	.L295
 2326              	.L365:
 2327 0d06 5F49     		ldr	r1, .L376+100
 2328              	.L295:
 2329 0d08 8B42     		cmp	r3, r1
 2330 0d0a F8DB     		blt	.L175
 2331 0d0c 4AE1     		b	.L354
 2332              	.LVL191:
 2333              	.L149:
 2334              	.LBE95:
 2335              	.LBE93:
 2336              	.LBE92:
 225:firmwares/rotorcraft/guidance/guidance_v.c ****       else if (vertical_mode == VERTICAL_MODE_CLIMB) {
 2337              		.loc 1 225 0
 2338 0d0e 012B     		cmp	r3, #1
 2339 0d10 40F0A981 		bne	.L186
 226:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_zd_sp = -nav_climb;
 2340              		.loc 1 226 0
 2341 0d14 5D4B     		ldr	r3, .L376+108
 2342              	.LBB96:
 2343              	.LBB97:
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 2344              		.loc 3 154 0
 2345 0d16 4A49     		ldr	r1, .L376+32
 2346              	.LBE97:
 2347              	.LBE96:
 226:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_zd_sp = -nav_climb;
 2348              		.loc 1 226 0
 2349 0d18 1868     		ldr	r0, [r3, #0]
 2350              	.LBB100:
 2351              	.LBB98:
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 2352              		.loc 3 154 0
 2353 0d1a 0D68     		ldr	r5, [r1, #0]
 2354 0d1c 464C     		ldr	r4, .L376+24
 2355              	.LBE98:
 2356              	.LBE100:
 226:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_zd_sp = -nav_climb;
 2357              		.loc 1 226 0
 2358 0d1e 5C4B     		ldr	r3, .L376+112
 2359 0d20 4042     		negs	r0, r0
 2360 0d22 1860     		str	r0, [r3, #0]
 2361              	.LVL192:
 2362              	.LBB101:
 2363              	.LBB99:
 154:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_z_ref  += gv_zd_ref;
 2364              		.loc 3 154 0
 2365 0d24 D4E90023 		ldrd	r2, [r4]
 2366 0d28 5219     		adds	r2, r2, r5
 2367 0d2a 43EBE573 		adc	r3, r3, r5, asr #31
 2368 0d2e C4E90023 		strd	r2, [r4]
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 2369              		.loc 3 155 0
 2370 0d32 404C     		ldr	r4, .L376+20
 2371 0d34 2368     		ldr	r3, [r4, #0]
 2372 0d36 ED18     		adds	r5, r5, r3
 157:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err = gv_zd_ref - (zd_sp>>(INT32_SPEED_FRAC - GV_ZD_REF_FRAC));
 2373              		.loc 3 157 0
 2374 0d38 A5EBA000 		sub	r0, r5, r0, asr #2
 2375              	.LVL193:
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 2376              		.loc 3 159 0
 2377 0d3c 554B     		ldr	r3, .L376+116
 158:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   int32_t zd_err_zdd_res = zd_err>>(GV_ZD_REF_FRAC-GV_ZDD_REF_FRAC);
 2378              		.loc 3 158 0
 2379 0d3e 4012     		asrs	r0, r0, #9
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 2380              		.loc 3 159 0
 2381 0d40 5843     		muls	r0, r3, r0
 2382 0d42 0014     		asrs	r0, r0, #16
 155:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zd_ref += gv_zdd_ref;
 2383              		.loc 3 155 0
 2384 0d44 0D60     		str	r5, [r1, #0]
 159:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   gv_zdd_ref = (-(int32_t)GV_REF_INV_THAU * zd_err_zdd_res)>>GV_REF_INV_THAU_FRAC;
 2385              		.loc 3 159 0
 2386 0d46 2060     		str	r0, [r4, #0]
 162:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   Bound(gv_zdd_ref, GV_MIN_ZDD, GV_MAX_ZDD);
 2387              		.loc 3 162 0
 2388 0d48 FFF7FEFF 		bl	__aeabi_i2d
 2389              	.LVL194:
 2390 0d4c 34A3     		adr	r3, .L376
 2391 0d4e D3E90023 		ldrd	r2, [r3]
 2392 0d52 0646     		mov	r6, r0
 2393 0d54 0F46     		mov	r7, r1
 2394 0d56 FFF7FEFF 		bl	__aeabi_dcmpgt
 2395 0d5a 10B1     		cbz	r0, .L296
 2396 0d5c 40F2D973 		movw	r3, #2009
 2397 0d60 08E0     		b	.L323
 2398              	.L296:
 2399 0d62 3046     		mov	r0, r6
 2400 0d64 3946     		mov	r1, r7
 2401 0d66 30A3     		adr	r3, .L376+8
 2402 0d68 D3E90023 		ldrd	r2, [r3]
 2403 0d6c FFF7FEFF 		bl	__aeabi_dcmplt
 2404 0d70 08B1     		cbz	r0, .L189
 2405 0d72 494B     		ldr	r3, .L376+120
 2406              	.L323:
 2407 0d74 2360     		str	r3, [r4, #0]
 2408              	.L189:
 165:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   if (gv_zd_ref <= GV_MIN_ZD) {
 2409              		.loc 3 165 0
 2410 0d76 2846     		mov	r0, r5
 2411 0d78 FFF7FEFF 		bl	__aeabi_i2d
 2412 0d7c 0022     		movs	r2, #0
 2413 0d7e 474B     		ldr	r3, .L376+124
 2414 0d80 0646     		mov	r6, r0
 2415 0d82 0F46     		mov	r7, r1
 2416 0d84 FFF7FEFF 		bl	__aeabi_dcmple
 2417 0d88 2D4C     		ldr	r4, .L376+32
 2418 0d8a 30B1     		cbz	r0, .L297
 166:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MIN_ZD;
 2419              		.loc 3 166 0
 2420 0d8c 444B     		ldr	r3, .L376+128
 2421 0d8e 2360     		str	r3, [r4, #0]
 167:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref < 0)
 2422              		.loc 3 167 0
 2423 0d90 284B     		ldr	r3, .L376+20
 2424 0d92 1A68     		ldr	r2, [r3, #0]
 2425 0d94 002A     		cmp	r2, #0
 2426 0d96 10DA     		bge	.L193
 2427 0d98 0DE0     		b	.L324
 2428              	.L297:
 170:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****   else if (gv_zd_ref >= GV_MAX_ZD) {
 2429              		.loc 3 170 0
 2430 0d9a 3046     		mov	r0, r6
 2431 0d9c 3946     		mov	r1, r7
 2432 0d9e 0022     		movs	r2, #0
 2433 0da0 234B     		ldr	r3, .L376+16
 2434 0da2 FFF7FEFF 		bl	__aeabi_dcmpge
 2435 0da6 40B1     		cbz	r0, .L193
 171:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     gv_zd_ref = GV_MAX_ZD;
 2436              		.loc 3 171 0
 2437 0da8 4FF4C023 		mov	r3, #393216
 2438 0dac 2360     		str	r3, [r4, #0]
 172:./firmwares/rotorcraft/guidance/guidance_v_ref.h ****     if (gv_zdd_ref > 0)
 2439              		.loc 3 172 0
 2440 0dae 214B     		ldr	r3, .L376+20
 2441 0db0 1A68     		ldr	r2, [r3, #0]
 2442 0db2 002A     		cmp	r2, #0
 2443 0db4 01DD     		ble	.L193
 2444              	.L324:
 2445              		.loc 3 173 0
 2446 0db6 0022     		movs	r2, #0
 2447 0db8 1A60     		str	r2, [r3, #0]
 2448              	.L193:
 2449              	.LBE99:
 2450              	.LBE101:
 228:firmwares/rotorcraft/guidance/guidance_v.c ****         nav_flight_altitude = -guidance_v_z_sp;
 2451              		.loc 1 228 0
 2452 0dba 3A4B     		ldr	r3, .L376+132
 2453 0dbc 1A68     		ldr	r2, [r3, #0]
 2454 0dbe 3A4B     		ldr	r3, .L376+136
 2455 0dc0 5242     		negs	r2, r2
 2456 0dc2 1A60     		str	r2, [r3, #0]
 2457              	.LVL195:
 2458              	.LBB102:
 2459              	.LBB103:
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 2460              		.loc 1 259 0
 2461 0dc4 1C4B     		ldr	r3, .L376+24
 2462 0dc6 1C68     		ldr	r4, [r3, #0]
 2463 0dc8 5A68     		ldr	r2, [r3, #4]
 2464 0dca A40C     		lsrs	r4, r4, #18
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 2465              		.loc 1 260 0
 2466 0dcc 1B4B     		ldr	r3, .L376+28
 259:firmwares/rotorcraft/guidance/guidance_v.c ****   int64_t tmp  = gv_z_ref>>(GV_Z_REF_FRAC - INT32_POS_FRAC);
 2467              		.loc 1 259 0
 2468 0dce 44EA8234 		orr	r4, r4, r2, lsl #14
 260:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_z_ref = (int32_t)tmp;
 2469              		.loc 1 260 0
 2470 0dd2 1C60     		str	r4, [r3, #0]
 261:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zd_ref = gv_zd_ref<<(INT32_SPEED_FRAC - GV_ZD_REF_FRAC);
 2471              		.loc 1 261 0
 2472 0dd4 1A4B     		ldr	r3, .L376+32
 2473 0dd6 1D68     		ldr	r5, [r3, #0]
 2474 0dd8 1A4B     		ldr	r3, .L376+36
 2475 0dda AD00     		lsls	r5, r5, #2
 2476 0ddc 1D60     		str	r5, [r3, #0]
 262:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_zdd_ref = gv_zdd_ref<<(INT32_ACCEL_FRAC - GV_ZDD_REF_FRAC);
 2477              		.loc 1 262 0
 2478 0dde 154B     		ldr	r3, .L376+20
 2479 0de0 1E68     		ldr	r6, [r3, #0]
 2480 0de2 194B     		ldr	r3, .L376+40
 2481 0de4 B600     		lsls	r6, r6, #2
 2482 0de6 1E60     		str	r6, [r3, #0]
 264:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_z  = guidance_v_z_ref - ins_ltp_pos.z;
 2483              		.loc 1 264 0
 2484 0de8 184B     		ldr	r3, .L376+44
 2485 0dea 9B68     		ldr	r3, [r3, #8]
 2486 0dec E41A     		subs	r4, r4, r3
 2487              	.LVL196:
 265:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_z, GUIDANCE_V_MIN_ERR_Z, GUIDANCE_V_MAX_ERR_Z);
 2488              		.loc 1 265 0
 2489 0dee 2046     		mov	r0, r4
 2490 0df0 FFF7FEFF 		bl	__aeabi_i2d
 2491              	.LVL197:
 2492 0df4 0022     		movs	r2, #0
 2493 0df6 164B     		ldr	r3, .L376+48
 2494 0df8 8046     		mov	r8, r0
 2495 0dfa 8946     		mov	r9, r1
 2496 0dfc FFF7FEFF 		bl	__aeabi_dcmpgt
 2497 0e00 0028     		cmp	r0, #0
 2498 0e02 53D1     		bne	.L243
 2499 0e04 134B     		ldr	r3, .L376+52
 2500 0e06 4046     		mov	r0, r8
 2501 0e08 4946     		mov	r1, r9
 2502 0e0a 0022     		movs	r2, #0
 2503 0e0c FFF7FEFF 		bl	__aeabi_dcmplt
 2504 0e10 114B     		ldr	r3, .L376+56
 2505 0e12 0028     		cmp	r0, #0
 2506 0e14 18BF     		it	ne
 2507 0e16 1C46     		movne	r4, r3
 2508              	.LVL198:
 2509 0e18 4AE0     		b	.L195
 2510              	.L377:
 2511 0e1a 00BFAFF3 		.align	3
 2511      0080
 2512              	.L376:
 2513 0e20 3208AC1C 		.word	481036338
 2514 0e24 5A649F40 		.word	1084187738
 2515 0e28 1F85EB51 		.word	1374389535
 2516 0e2c B89EB3C0 		.word	-1061970248
 2517 0e30 00001841 		.word	1092091904
 2518 0e34 00000000 		.word	.LANCHOR12
 2519 0e38 00000000 		.word	.LANCHOR10
 2520 0e3c 00000000 		.word	.LANCHOR13
 2521 0e40 00000000 		.word	.LANCHOR11
 2522 0e44 00000000 		.word	.LANCHOR14
 2523 0e48 00000000 		.word	.LANCHOR15
 2524 0e4c 00000000 		.word	ins_ltp_pos
 2525 0e50 0000A440 		.word	1084489728
 2526 0e54 0000A4C0 		.word	-1062993920
 2527 0e58 00F6FFFF 		.word	-2560
 2528 0e5c 00000000 		.word	ins_ltp_speed
 2529 0e60 00005441 		.word	1096024064
 2530 0e64 000054C1 		.word	-1051459584
 2531 0e68 0000B0FF 		.word	-5242880
 2532 0e6c 00000000 		.word	.LANCHOR4
 2533 0e70 80841E00 		.word	2000000
 2534 0e74 807BE1FF 		.word	-2000000
 2535 0e78 00000000 		.word	.LANCHOR5
 2536 0e7c 703D2700 		.word	2571632
 2537 0e80 00000000 		.word	ahrs
 2538 0e84 BDCDFFFF 		.word	-12867
 2539 0e88 00000000 		.word	pprz_trig_int
 2540 0e8c 00000000 		.word	nav_climb
 2541 0e90 00000000 		.word	.LANCHOR16
 2542 0e94 0000FCFF 		.word	-262144
 2543 0e98 62ECFFFF 		.word	-5022
 2544 0e9c 000018C1 		.word	-1055391744
 2545 0ea0 0000FAFF 		.word	-393216
 2546 0ea4 00000000 		.word	.LANCHOR9
 2547 0ea8 00000000 		.word	nav_flight_altitude
 2548              	.LVL199:
 2549              	.L243:
 2550 0eac 4FF42064 		mov	r4, #2560
 2551              	.LVL200:
 2552              	.L195:
 266:firmwares/rotorcraft/guidance/guidance_v.c ****   int32_t err_zd = guidance_v_zd_ref - ins_ltp_speed.z;
 2553              		.loc 1 266 0
 2554 0eb0 7D4B     		ldr	r3, .L378+8
 2555 0eb2 9B68     		ldr	r3, [r3, #8]
 2556 0eb4 ED1A     		subs	r5, r5, r3
 2557              	.LVL201:
 267:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(err_zd, GUIDANCE_V_MIN_ERR_ZD, GUIDANCE_V_MAX_ERR_ZD);
 2558              		.loc 1 267 0
 2559 0eb6 2846     		mov	r0, r5
 2560 0eb8 FFF7FEFF 		bl	__aeabi_i2d
 2561 0ebc 0022     		movs	r2, #0
 2562 0ebe 7B4B     		ldr	r3, .L378+12
 2563 0ec0 8046     		mov	r8, r0
 2564 0ec2 8946     		mov	r9, r1
 2565 0ec4 FFF7FEFF 		bl	__aeabi_dcmpgt
 2566 0ec8 50B9     		cbnz	r0, .L245
 2567 0eca 794B     		ldr	r3, .L378+16
 2568 0ecc 4046     		mov	r0, r8
 2569 0ece 4946     		mov	r1, r9
 2570 0ed0 0022     		movs	r2, #0
 2571 0ed2 FFF7FEFF 		bl	__aeabi_dcmplt
 2572 0ed6 774B     		ldr	r3, .L378+20
 2573 0ed8 0028     		cmp	r0, #0
 2574 0eda 18BF     		it	ne
 2575 0edc 1D46     		movne	r5, r3
 2576              	.LVL202:
 2577 0ede 01E0     		b	.L196
 2578              	.LVL203:
 2579              	.L245:
 2580 0ee0 4FF4A005 		mov	r5, #5242880
 2581              	.LVL204:
 2582              	.L196:
 2583 0ee4 744B     		ldr	r3, .L378+24
 269:firmwares/rotorcraft/guidance/guidance_v.c ****   if (in_flight) {
 2584              		.loc 1 269 0
 2585 0ee6 BAF1000F 		cmp	sl, #0
 2586 0eea 0AD0     		beq	.L197
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2587              		.loc 1 270 0
 2588 0eec 1A68     		ldr	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2589              		.loc 1 271 0
 2590 0eee 7349     		ldr	r1, .L378+28
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2591              		.loc 1 270 0
 2592 0ef0 A218     		adds	r2, r4, r2
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2593              		.loc 1 271 0
 2594 0ef2 8A42     		cmp	r2, r1
 270:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err += err_z;
 2595              		.loc 1 270 0
 2596 0ef4 1A60     		str	r2, [r3, #0]
 271:firmwares/rotorcraft/guidance/guidance_v.c ****     Bound(guidance_v_z_sum_err, -GUIDANCE_V_MAX_SUM_ERR, GUIDANCE_V_MAX_SUM_ERR);
 2597              		.loc 1 271 0
 2598 0ef6 02DC     		bgt	.L325
 2599              	.L198:
 2600 0ef8 7149     		ldr	r1, .L378+32
 2601 0efa 8A42     		cmp	r2, r1
 2602 0efc 03DA     		bge	.L199
 2603              	.L325:
 2604 0efe 1960     		str	r1, [r3, #0]
 2605 0f00 01E0     		b	.L199
 2606              	.L197:
 274:firmwares/rotorcraft/guidance/guidance_v.c ****     guidance_v_z_sum_err = 0;
 2607              		.loc 1 274 0
 2608 0f02 C3F800A0 		str	sl, [r3, #0]
 2609              	.L199:
 2610              	.LVL205:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2611              		.loc 1 280 0
 2612 0f06 6F4A     		ldr	r2, .L378+36
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 2613              		.loc 1 282 0
 2614 0f08 6F4B     		ldr	r3, .L378+40
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2615              		.loc 1 280 0
 2616 0f0a 1768     		ldr	r7, [r2, #0]
 283:firmwares/rotorcraft/guidance/guidance_v.c ****                           (guidance_v_zdd_ref<<(FF_CMD_FRAC - INT32_ACCEL_FRAC));
 2617              		.loc 1 283 0
 2618 0f0c 3602     		lsls	r6, r6, #8
 2619              	.LVL206:
 282:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t g_m_zdd = (int32_t)BFP_OF_REAL(9.81, FF_CMD_FRAC) -
 2620              		.loc 1 282 0
 2621 0f0e 9B1B     		subs	r3, r3, r6
 2622              	.LVL207:
 280:firmwares/rotorcraft/guidance/guidance_v.c ****   const int32_t inv_m =  gv_adapt_X>>(GV_ADAPT_X_FRAC - FF_CMD_FRAC);
 2623              		.loc 1 280 0
 2624 0f10 BF11     		asrs	r7, r7, #6
 285:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = g_m_zdd / inv_m;
 2625              		.loc 1 285 0
 2626 0f12 93FBF7F7 		sdiv	r7, r3, r7
 2627              	.LBB104:
 287:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(cphi, ahrs.ltp_to_body_euler.phi);
 2628              		.loc 1 287 0
 2629 0f16 6D4B     		ldr	r3, .L378+44
 2630              	.LVL208:
 2631 0f18 43F24322 		movw	r2, #12867
 2632 0f1c DB6D     		ldr	r3, [r3, #92]
 2633 0f1e 03F5C953 		add	r3, r3, #6432
 2634 0f22 0133     		adds	r3, r3, #1
 2635              	.LVL209:
 2636 0f24 02E0     		b	.L200
 2637              	.L201:
 2638 0f26 A3F5C943 		sub	r3, r3, #25728
 2639              	.LVL210:
 2640 0f2a 073B     		subs	r3, r3, #7
 2641              	.LVL211:
 2642              	.L200:
 2643 0f2c 9342     		cmp	r3, r2
 2644 0f2e FADC     		bgt	.L201
 2645 0f30 03E0     		b	.L366
 2646              	.L203:
 2647 0f32 03F5C943 		add	r3, r3, #25728
 2648              	.LVL212:
 2649 0f36 0733     		adds	r3, r3, #7
 2650              	.LVL213:
 2651 0f38 00E0     		b	.L299
 2652              	.L366:
 2653 0f3a 654A     		ldr	r2, .L378+48
 2654              	.L299:
 2655 0f3c 9342     		cmp	r3, r2
 2656 0f3e F8DB     		blt	.L203
 2657 0f40 41F62112 		movw	r2, #6433
 2658 0f44 9342     		cmp	r3, r2
 2659 0f46 634A     		ldr	r2, .L378+52
 2660 0f48 03DD     		ble	.L204
 2661 0f4a C3F54953 		rsb	r3, r3, #12864
 2662              	.LVL214:
 2663 0f4e 0333     		adds	r3, r3, #3
 2664              	.LVL215:
 2665 0f50 0CE0     		b	.L205
 2666              	.L204:
 2667 0f52 6FF4C951 		mvn	r1, #6432
 2668 0f56 8B42     		cmp	r3, r1
 2669 0f58 06DA     		bge	.L206
 2670 0f5a C3F17F43 		rsb	r3, r3, #-16777216
 2671              	.LVL216:
 2672 0f5e 03F57F03 		add	r3, r3, #16711680
 2673 0f62 03F54D43 		add	r3, r3, #52480
 2674 0f66 BD33     		adds	r3, r3, #189
 2675              	.LVL217:
 2676              	.L206:
 2677 0f68 002B     		cmp	r3, #0
 2678 0f6a 02DB     		blt	.L207
 2679              	.L205:
 2680 0f6c 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 2681              	.LVL218:
 2682 0f70 03E0     		b	.L208
 2683              	.LVL219:
 2684              	.L207:
 2685 0f72 5B42     		negs	r3, r3
 2686              	.LVL220:
 2687 0f74 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 2688 0f78 5242     		negs	r2, r2
 2689              	.LVL221:
 2690              	.L208:
 2691              	.LBE104:
 2692              	.LBB105:
 288:firmwares/rotorcraft/guidance/guidance_v.c ****   PPRZ_ITRIG_COS(ctheta, ahrs.ltp_to_body_euler.theta);
 2693              		.loc 1 288 0
 2694 0f7a 544B     		ldr	r3, .L378+44
 2695 0f7c 43F24321 		movw	r1, #12867
 2696 0f80 1B6E     		ldr	r3, [r3, #96]
 2697 0f82 03F5C953 		add	r3, r3, #6432
 2698 0f86 0133     		adds	r3, r3, #1
 2699              	.LVL222:
 2700 0f88 02E0     		b	.L209
 2701              	.L210:
 2702 0f8a A3F5C943 		sub	r3, r3, #25728
 2703              	.LVL223:
 2704 0f8e 073B     		subs	r3, r3, #7
 2705              	.LVL224:
 2706              	.L209:
 2707 0f90 8B42     		cmp	r3, r1
 2708 0f92 FADC     		bgt	.L210
 2709 0f94 03E0     		b	.L367
 2710              	.L212:
 2711 0f96 03F5C943 		add	r3, r3, #25728
 2712              	.LVL225:
 2713 0f9a 0733     		adds	r3, r3, #7
 2714              	.LVL226:
 2715 0f9c 00E0     		b	.L301
 2716              	.L367:
 2717 0f9e 4C49     		ldr	r1, .L378+48
 2718              	.L301:
 2719 0fa0 8B42     		cmp	r3, r1
 2720 0fa2 F8DB     		blt	.L212
 2721              	.LVL227:
 2722              	.L354:
 2723 0fa4 41F62111 		movw	r1, #6433
 2724 0fa8 8B42     		cmp	r3, r1
 2725 0faa 4A49     		ldr	r1, .L378+52
 2726 0fac 03DD     		ble	.L213
 2727 0fae C3F54953 		rsb	r3, r3, #12864
 2728 0fb2 0333     		adds	r3, r3, #3
 2729              	.LVL228:
 2730 0fb4 0CE0     		b	.L214
 2731              	.LVL229:
 2732              	.L213:
 2733 0fb6 6FF4C950 		mvn	r0, #6432
 2734 0fba 8342     		cmp	r3, r0
 2735 0fbc 06DA     		bge	.L215
 2736 0fbe C3F17F43 		rsb	r3, r3, #-16777216
 2737 0fc2 03F57F03 		add	r3, r3, #16711680
 2738 0fc6 03F54D43 		add	r3, r3, #52480
 2739 0fca BD33     		adds	r3, r3, #189
 2740              	.LVL230:
 2741              	.L215:
 2742 0fcc 002B     		cmp	r3, #0
 2743 0fce 02DB     		blt	.L216
 2744              	.L214:
 2745 0fd0 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 2746              	.LVL231:
 2747 0fd4 03E0     		b	.L217
 2748              	.LVL232:
 2749              	.L216:
 2750 0fd6 5B42     		negs	r3, r3
 2751              	.LVL233:
 2752 0fd8 31F91360 		ldrsh	r6, [r1, r3, lsl #1]
 2753 0fdc 7642     		negs	r6, r6
 2754              	.LVL234:
 2755              	.L217:
 2756              	.LBE105:
 289:firmwares/rotorcraft/guidance/guidance_v.c ****   cphitheta = (cphi * ctheta) >> INT32_TRIG_FRAC;
 2757              		.loc 1 289 0
 2758 0fde 5643     		muls	r6, r2, r6
 2759              	.LVL235:
 2760 0fe0 B613     		asrs	r6, r6, #14
 2761              	.LVL236:
 290:firmwares/rotorcraft/guidance/guidance_v.c ****   if (cphitheta < MAX_BANK_COEF) cphitheta = MAX_BANK_COEF;
 2762              		.loc 1 290 0
 2763 0fe2 3046     		mov	r0, r6
 2764 0fe4 FFF7FEFF 		bl	__aeabi_i2d
 2765 0fe8 2DA3     		adr	r3, .L378
 2766 0fea D3E90023 		ldrd	r2, [r3]
 2767 0fee FFF7FEFF 		bl	__aeabi_dcmplt
 2768 0ff2 42F28213 		movw	r3, #8578
 2769 0ff6 0028     		cmp	r0, #0
 2770 0ff8 18BF     		it	ne
 2771 0ffa 1E46     		movne	r6, r3
 2772              	.LVL237:
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 2773              		.loc 1 292 0
 2774 0ffc BF03     		lsls	r7, r7, #14
 2775 0ffe 97FBF6F6 		sdiv	r6, r7, r6
 2776              	.LVL238:
 2777 1002 354B     		ldr	r3, .L378+56
 295:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_ff_cmd, 0, 8640);
 2778              		.loc 1 295 0
 2779 1004 B6F5075F 		cmp	r6, #8640
 292:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_ff_cmd = (guidance_v_ff_cmd << INT32_TRIG_FRAC) / cphitheta;
 2780              		.loc 1 292 0
 2781 1008 1E60     		str	r6, [r3, #0]
 295:firmwares/rotorcraft/guidance/guidance_v.c ****   Bound(guidance_v_ff_cmd, 0, 8640);
 2782              		.loc 1 295 0
 2783 100a 02DD     		ble	.L219
 2784 100c 4FF40752 		mov	r2, #8640
 2785 1010 02E0     		b	.L326
 2786              	.L219:
 2787 1012 002E     		cmp	r6, #0
 2788 1014 01DA     		bge	.L220
 2789 1016 0022     		movs	r2, #0
 2790              	.L326:
 2791 1018 1A60     		str	r2, [r3, #0]
 2792              	.L220:
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 2793              		.loc 1 300 0
 2794 101a 304B     		ldr	r3, .L378+60
 2795 101c 1B68     		ldr	r3, [r3, #0]
 2796 101e 5B42     		negs	r3, r3
 2797 1020 5C43     		muls	r4, r3, r4
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 2798              		.loc 1 301 0
 2799 1022 2F4B     		ldr	r3, .L378+64
 2800 1024 1B68     		ldr	r3, [r3, #0]
 2801 1026 5B42     		negs	r3, r3
 2802 1028 5D43     		muls	r5, r3, r5
 302:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_ki * guidance_v_z_sum_err) >> 21);
 2803              		.loc 1 302 0
 2804 102a 2E4B     		ldr	r3, .L378+68
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 2805              		.loc 1 301 0
 2806 102c 6D15     		asrs	r5, r5, #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 2807              		.loc 1 300 0
 2808 102e 05EB2434 		add	r4, r5, r4, asr #12
 302:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_ki * guidance_v_z_sum_err) >> 21);
 2809              		.loc 1 302 0
 2810 1032 1D68     		ldr	r5, [r3, #0]
 2811 1034 204B     		ldr	r3, .L378+24
 2812 1036 6D42     		negs	r5, r5
 2813 1038 1B68     		ldr	r3, [r3, #0]
 2814 103a 5D43     		muls	r5, r3, r5
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 2815              		.loc 1 300 0
 2816 103c 2A4B     		ldr	r3, .L378+72
 301:firmwares/rotorcraft/guidance/guidance_v.c ****                       ((-guidance_v_kd * err_zd) >> 21) +
 2817              		.loc 1 301 0
 2818 103e 04EB6555 		add	r5, r4, r5, asr #21
 300:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_fb_cmd = ((-guidance_v_kp * err_z)  >> 12) +
 2819              		.loc 1 300 0
 2820 1042 1D60     		str	r5, [r3, #0]
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 2821              		.loc 1 304 0
 2822 1044 244B     		ldr	r3, .L378+56
 2823 1046 3024     		movs	r4, #48
 2824 1048 1B68     		ldr	r3, [r3, #0]
 2825 104a 04FB0534 		mla	r4, r4, r5, r3
 2826 104e 274B     		ldr	r3, .L378+76
 2827              		.loc 1 307 0
 2828 1050 B4F5165F 		cmp	r4, #9600
 304:firmwares/rotorcraft/guidance/guidance_v.c ****   guidance_v_delta_t = guidance_v_ff_cmd + (guidance_v_fb_cmd * GUIDANCE_V_GAIN_SCALER);
 2829              		.loc 1 304 0
 2830 1054 1C60     		str	r4, [r3, #0]
 2831              		.loc 1 307 0
 2832 1056 02DD     		ble	.L221
 2833 1058 4FF41652 		mov	r2, #9600
 2834 105c 0CE0     		b	.L327
 2835              	.L221:
 2836 105e 002C     		cmp	r4, #0
 2837 1060 0BDA     		bge	.L185
 2838 1062 0022     		movs	r2, #0
 2839 1064 08E0     		b	.L327
 2840              	.L186:
 2841              	.LBE103:
 2842              	.LBE102:
 231:firmwares/rotorcraft/guidance/guidance_v.c ****       else if (vertical_mode == VERTICAL_MODE_MANUAL) {
 2843              		.loc 1 231 0
 2844 1066 43B9     		cbnz	r3, .L185
 232:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_z_sp = -nav_flight_altitude; // For display only
 2845              		.loc 1 232 0
 2846 1068 214B     		ldr	r3, .L378+80
 2847 106a 1A68     		ldr	r2, [r3, #0]
 2848 106c 214B     		ldr	r3, .L378+84
 2849 106e 5242     		negs	r2, r2
 2850 1070 1A60     		str	r2, [r3, #0]
 233:firmwares/rotorcraft/guidance/guidance_v.c ****         guidance_v_delta_t = nav_throttle;
 2851              		.loc 1 233 0
 2852 1072 214B     		ldr	r3, .L378+88
 2853 1074 1A68     		ldr	r2, [r3, #0]
 2854 1076 1D4B     		ldr	r3, .L378+76
 2855              	.L327:
 2856 1078 1A60     		str	r2, [r3, #0]
 2857              	.L185:
 239:firmwares/rotorcraft/guidance/guidance_v.c ****       if (radio_control.status == RC_OK)
 2858              		.loc 1 239 0
 2859 107a 204B     		ldr	r3, .L378+92
 2860 107c 1B4A     		ldr	r2, .L378+76
 2861 107e 1978     		ldrb	r1, [r3, #0]	@ zero_extendqisi2
 2862 1080 1F4B     		ldr	r3, .L378+96
 2863 1082 39B9     		cbnz	r1, .L222
 240:firmwares/rotorcraft/guidance/guidance_v.c ****         stabilization_cmd[COMMAND_THRUST] = Min(guidance_v_rc_delta_t, guidance_v_delta_t);
 2864              		.loc 1 240 0
 2865 1084 1F49     		ldr	r1, .L378+100
 2866 1086 1268     		ldr	r2, [r2, #0]
 2867 1088 0968     		ldr	r1, [r1, #0]
 2868              	.L328:
 2869 108a 9142     		cmp	r1, r2
 2870 108c D4BF     		ite	le
 2871 108e D960     		strle	r1, [r3, #12]
 2872 1090 DA60     		strgt	r2, [r3, #12]
 2873 1092 01E0     		b	.L24
 2874              	.L222:
 242:firmwares/rotorcraft/guidance/guidance_v.c ****         stabilization_cmd[COMMAND_THRUST] = guidance_v_delta_t;
 2875              		.loc 1 242 0
 2876 1094 1268     		ldr	r2, [r2, #0]
 2877              	.L329:
 2878 1096 DA60     		str	r2, [r3, #12]
 2879              	.L24:
 249:firmwares/rotorcraft/guidance/guidance_v.c **** }
 2880              		.loc 1 249 0
 2881 1098 BDE8FC87 		pop	{r2, r3, r4, r5, r6, r7, r8, r9, sl, pc}
 2882              	.L379:
 2883 109c AFF30080 		.align	3
 2884              	.L378:
 2885 10a0 65732D38 		.word	942502757
 2886 10a4 52C1C040 		.word	1086374226
 2887 10a8 00000000 		.word	ins_ltp_speed
 2888 10ac 00005441 		.word	1096024064
 2889 10b0 000054C1 		.word	-1051459584
 2890 10b4 0000B0FF 		.word	-5242880
 2891 10b8 00000000 		.word	.LANCHOR4
 2892 10bc 80841E00 		.word	2000000
 2893 10c0 807BE1FF 		.word	-2000000
 2894 10c4 00000000 		.word	.LANCHOR5
 2895 10c8 703D2700 		.word	2571632
 2896 10cc 00000000 		.word	ahrs
 2897 10d0 BDCDFFFF 		.word	-12867
 2898 10d4 00000000 		.word	pprz_trig_int
 2899 10d8 00000000 		.word	.LANCHOR18
 2900 10dc 00000000 		.word	.LANCHOR1
 2901 10e0 00000000 		.word	.LANCHOR2
 2902 10e4 00000000 		.word	.LANCHOR3
 2903 10e8 00000000 		.word	.LANCHOR19
 2904 10ec 00000000 		.word	.LANCHOR20
 2905 10f0 00000000 		.word	nav_flight_altitude
 2906 10f4 00000000 		.word	.LANCHOR9
 2907 10f8 00000000 		.word	nav_throttle
 2908 10fc 00000000 		.word	radio_control
 2909 1100 00000000 		.word	stabilization_cmd
 2910 1104 00000000 		.word	.LANCHOR7
 2911              		.cfi_endproc
 2912              	.LFE39:
 2914              		.global	guidance_v_z_sum_err
 2915              		.global	guidance_v_ki
 2916              		.global	guidance_v_kd
 2917              		.global	guidance_v_kp
 2918              		.global	guidance_v_zdd_ref
 2919              		.global	guidance_v_zd_ref
 2920              		.global	guidance_v_z_ref
 2921              		.global	guidance_v_zd_sp
 2922              		.global	guidance_v_z_sp
 2923              		.global	guidance_v_rc_zd_sp
 2924              		.global	guidance_v_rc_delta_t
 2925              		.global	guidance_v_nominal_throttle
 2926              		.global	guidance_v_delta_t
 2927              		.global	guidance_v_fb_cmd
 2928              		.global	guidance_v_ff_cmd
 2929              		.global	guidance_v_mode
 2930              		.global	gv_adapt_Xmeas
 2931              		.global	gv_adapt_P
 2932              		.global	gv_adapt_X
 2933              		.global	gv_zdd_ref
 2934              		.global	gv_zd_ref
 2935              		.global	gv_z_ref
 2936              		.section	.bss.guidance_v_ki,"aw",%nobits
 2937              		.align	2
 2938              		.set	.LANCHOR3,. + 0
 2941              	guidance_v_ki:
 2942 0000 00000000 		.space	4
 2943              		.section	.bss.gv_zdd_ref,"aw",%nobits
 2944              		.align	2
 2945              		.set	.LANCHOR12,. + 0
 2948              	gv_zdd_ref:
 2949 0000 00000000 		.space	4
 2950              		.section	.bss.gv_adapt_P,"aw",%nobits
 2951              		.align	2
 2952              		.set	.LANCHOR6,. + 0
 2955              	gv_adapt_P:
 2956 0000 00000000 		.space	4
 2957              		.section	.bss.guidance_v_rc_zd_sp,"aw",%nobits
 2958              		.align	2
 2959              		.set	.LANCHOR8,. + 0
 2962              	guidance_v_rc_zd_sp:
 2963 0000 00000000 		.space	4
 2964              		.section	.bss.guidance_v_z_ref,"aw",%nobits
 2965              		.align	2
 2966              		.set	.LANCHOR13,. + 0
 2969              	guidance_v_z_ref:
 2970 0000 00000000 		.space	4
 2971              		.section	.bss.guidance_v_kp,"aw",%nobits
 2972              		.align	2
 2973              		.set	.LANCHOR1,. + 0
 2976              	guidance_v_kp:
 2977 0000 00000000 		.space	4
 2978              		.section	.bss.guidance_v_z_sum_err,"aw",%nobits
 2979              		.align	2
 2980              		.set	.LANCHOR4,. + 0
 2983              	guidance_v_z_sum_err:
 2984 0000 00000000 		.space	4
 2985              		.section	.bss.gv_adapt_X,"aw",%nobits
 2986              		.align	2
 2987              		.set	.LANCHOR5,. + 0
 2990              	gv_adapt_X:
 2991 0000 00000000 		.space	4
 2992              		.section	.bss.guidance_v_zd_sp,"aw",%nobits
 2993              		.align	2
 2994              		.set	.LANCHOR16,. + 0
 2997              	guidance_v_zd_sp:
 2998 0000 00000000 		.space	4
 2999              		.section	.bss.gv_adapt_Xmeas,"aw",%nobits
 3000              		.align	2
 3001              		.set	.LANCHOR17,. + 0
 3004              	gv_adapt_Xmeas:
 3005 0000 00000000 		.space	4
 3006              		.section	.bss.guidance_v_nominal_throttle,"aw",%nobits
 3007              		.align	2
 3010              	guidance_v_nominal_throttle:
 3011 0000 00000000 		.space	4
 3012              		.section	.bss.guidance_v_ff_cmd,"aw",%nobits
 3013              		.align	2
 3014              		.set	.LANCHOR18,. + 0
 3017              	guidance_v_ff_cmd:
 3018 0000 00000000 		.space	4
 3019              		.section	.bss.guidance_v_rc_delta_t,"aw",%nobits
 3020              		.align	2
 3021              		.set	.LANCHOR7,. + 0
 3024              	guidance_v_rc_delta_t:
 3025 0000 00000000 		.space	4
 3026              		.section	.bss.guidance_v_mode,"aw",%nobits
 3027              		.set	.LANCHOR0,. + 0
 3030              	guidance_v_mode:
 3031 0000 00       		.space	1
 3032              		.section	.bss.guidance_v_zd_ref,"aw",%nobits
 3033              		.align	2
 3034              		.set	.LANCHOR14,. + 0
 3037              	guidance_v_zd_ref:
 3038 0000 00000000 		.space	4
 3039              		.section	.bss.guidance_v_delta_t,"aw",%nobits
 3040              		.align	2
 3041              		.set	.LANCHOR20,. + 0
 3044              	guidance_v_delta_t:
 3045 0000 00000000 		.space	4
 3046              		.section	.bss.guidance_v_zdd_ref,"aw",%nobits
 3047              		.align	2
 3048              		.set	.LANCHOR15,. + 0
 3051              	guidance_v_zdd_ref:
 3052 0000 00000000 		.space	4
 3053              		.section	.bss.gv_z_ref,"aw",%nobits
 3054              		.align	3
 3055              		.set	.LANCHOR10,. + 0
 3058              	gv_z_ref:
 3059 0000 00000000 		.space	8
 3059      00000000 
 3060              		.section	.bss.guidance_v_kd,"aw",%nobits
 3061              		.align	2
 3062              		.set	.LANCHOR2,. + 0
 3065              	guidance_v_kd:
 3066 0000 00000000 		.space	4
 3067              		.section	.bss.gv_zd_ref,"aw",%nobits
 3068              		.align	2
 3069              		.set	.LANCHOR11,. + 0
 3072              	gv_zd_ref:
 3073 0000 00000000 		.space	4
 3074              		.section	.bss.guidance_v_z_sp,"aw",%nobits
 3075              		.align	2
 3076              		.set	.LANCHOR9,. + 0
 3079              	guidance_v_z_sp:
 3080 0000 00000000 		.space	4
 3081              		.section	.bss.guidance_v_fb_cmd,"aw",%nobits
 3082              		.align	2
 3083              		.set	.LANCHOR19,. + 0
 3086              	guidance_v_fb_cmd:
 3087 0000 00000000 		.space	4
 3088              		.text
 3089              	.Letext0:
 3090              		.file 4 "/opt/paparazzi/arm-multilib/lib/gcc/arm-none-eabi/4.6.2/../../../../arm-none-eabi/include
 3091              		.file 5 "/home/uav/paparazzi/sw/include/std.h"
 3092              		.file 6 "./math/pprz_algebra_int.h"
 3093              		.file 7 "./paparazzi.h"
 3094              		.file 8 "./subsystems/radio_control.h"
 3095              		.file 9 "./subsystems/ahrs.h"
 3096              		.file 10 "./math/pprz_geodetic_int.h"
 3097              		.file 11 "./math/pprz_trig_int.h"
 3098              		.file 12 "./firmwares/rotorcraft/guidance/guidance_v.h"
 3099              		.file 13 "firmwares/rotorcraft/stabilization/stabilization_attitude_ref_int.h"
 3100              		.file 14 "./firmwares/rotorcraft/stabilization.h"
 3101              		.file 15 "./firmwares/rotorcraft/navigation.h"
 3102              		.file 16 "./subsystems/ins.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 guidance_v.c
     /tmp/cc6bVjCd.s:18     .text.guidance_v_init:0000000000000000 $t
     /tmp/cc6bVjCd.s:23     .text.guidance_v_init:0000000000000000 guidance_v_init
     /tmp/cc6bVjCd.s:68     .text.guidance_v_init:0000000000000030 $d
     /tmp/cc6bVjCd.s:79     .text.guidance_v_read_rc:0000000000000000 $t
     /tmp/cc6bVjCd.s:84     .text.guidance_v_read_rc:0000000000000000 guidance_v_read_rc
     /tmp/cc6bVjCd.s:129    .text.guidance_v_read_rc:000000000000003c $d
     /tmp/cc6bVjCd.s:138    .text.guidance_v_mode_changed:0000000000000000 $t
     /tmp/cc6bVjCd.s:143    .text.guidance_v_mode_changed:0000000000000000 guidance_v_mode_changed
     /tmp/cc6bVjCd.s:167    .text.guidance_v_mode_changed:0000000000000014 $d
     /tmp/cc6bVjCd.s:171    .text.guidance_v_mode_changed:0000000000000018 $t
     /tmp/cc6bVjCd.s:286    .text.guidance_v_mode_changed:000000000000008c $d
     /tmp/cc6bVjCd.s:302    .text.guidance_v_notify_in_flight:0000000000000000 $t
     /tmp/cc6bVjCd.s:307    .text.guidance_v_notify_in_flight:0000000000000000 guidance_v_notify_in_flight
     /tmp/cc6bVjCd.s:332    .text.guidance_v_notify_in_flight:0000000000000014 $d
     /tmp/cc6bVjCd.s:348    .text.guidance_v_run:0000000000000000 $t
     /tmp/cc6bVjCd.s:353    .text.guidance_v_run:0000000000000000 guidance_v_run
     /tmp/cc6bVjCd.s:532    .text.guidance_v_run:0000000000000130 $d
     /tmp/cc6bVjCd.s:539    .text.guidance_v_run:000000000000013a $t
     /tmp/cc6bVjCd.s:717    .text.guidance_v_run:0000000000000240 $d
     /tmp/cc6bVjCd.s:761    .text.guidance_v_run:00000000000002e8 $t
     /tmp/cc6bVjCd.s:1144   .text.guidance_v_run:0000000000000530 $d
     /tmp/cc6bVjCd.s:1179   .text.guidance_v_run:00000000000005b4 $t
     /tmp/cc6bVjCd.s:1601   .text.guidance_v_run:0000000000000828 $d
     /tmp/cc6bVjCd.s:1635   .text.guidance_v_run:00000000000008a8 $t
     /tmp/cc6bVjCd.s:2046   .text.guidance_v_run:0000000000000b10 $d
     /tmp/cc6bVjCd.s:2084   .text.guidance_v_run:0000000000000ba0 $t
     /tmp/cc6bVjCd.s:2513   .text.guidance_v_run:0000000000000e20 $d
     /tmp/cc6bVjCd.s:2550   .text.guidance_v_run:0000000000000eac $t
     /tmp/cc6bVjCd.s:2885   .text.guidance_v_run:00000000000010a0 $d
     /tmp/cc6bVjCd.s:2983   .bss.guidance_v_z_sum_err:0000000000000000 guidance_v_z_sum_err
     /tmp/cc6bVjCd.s:2941   .bss.guidance_v_ki:0000000000000000 guidance_v_ki
     /tmp/cc6bVjCd.s:3065   .bss.guidance_v_kd:0000000000000000 guidance_v_kd
     /tmp/cc6bVjCd.s:2976   .bss.guidance_v_kp:0000000000000000 guidance_v_kp
     /tmp/cc6bVjCd.s:3051   .bss.guidance_v_zdd_ref:0000000000000000 guidance_v_zdd_ref
     /tmp/cc6bVjCd.s:3037   .bss.guidance_v_zd_ref:0000000000000000 guidance_v_zd_ref
     /tmp/cc6bVjCd.s:2969   .bss.guidance_v_z_ref:0000000000000000 guidance_v_z_ref
     /tmp/cc6bVjCd.s:2997   .bss.guidance_v_zd_sp:0000000000000000 guidance_v_zd_sp
     /tmp/cc6bVjCd.s:3079   .bss.guidance_v_z_sp:0000000000000000 guidance_v_z_sp
     /tmp/cc6bVjCd.s:2962   .bss.guidance_v_rc_zd_sp:0000000000000000 guidance_v_rc_zd_sp
     /tmp/cc6bVjCd.s:3024   .bss.guidance_v_rc_delta_t:0000000000000000 guidance_v_rc_delta_t
     /tmp/cc6bVjCd.s:3010   .bss.guidance_v_nominal_throttle:0000000000000000 guidance_v_nominal_throttle
     /tmp/cc6bVjCd.s:3044   .bss.guidance_v_delta_t:0000000000000000 guidance_v_delta_t
     /tmp/cc6bVjCd.s:3086   .bss.guidance_v_fb_cmd:0000000000000000 guidance_v_fb_cmd
     /tmp/cc6bVjCd.s:3017   .bss.guidance_v_ff_cmd:0000000000000000 guidance_v_ff_cmd
     /tmp/cc6bVjCd.s:3030   .bss.guidance_v_mode:0000000000000000 guidance_v_mode
     /tmp/cc6bVjCd.s:3004   .bss.gv_adapt_Xmeas:0000000000000000 gv_adapt_Xmeas
     /tmp/cc6bVjCd.s:2955   .bss.gv_adapt_P:0000000000000000 gv_adapt_P
     /tmp/cc6bVjCd.s:2990   .bss.gv_adapt_X:0000000000000000 gv_adapt_X
     /tmp/cc6bVjCd.s:2948   .bss.gv_zdd_ref:0000000000000000 gv_zdd_ref
     /tmp/cc6bVjCd.s:3072   .bss.gv_zd_ref:0000000000000000 gv_zd_ref
     /tmp/cc6bVjCd.s:3058   .bss.gv_z_ref:0000000000000000 gv_z_ref
     /tmp/cc6bVjCd.s:2937   .bss.guidance_v_ki:0000000000000000 $d
     /tmp/cc6bVjCd.s:2944   .bss.gv_zdd_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:2951   .bss.gv_adapt_P:0000000000000000 $d
     /tmp/cc6bVjCd.s:2958   .bss.guidance_v_rc_zd_sp:0000000000000000 $d
     /tmp/cc6bVjCd.s:2965   .bss.guidance_v_z_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:2972   .bss.guidance_v_kp:0000000000000000 $d
     /tmp/cc6bVjCd.s:2979   .bss.guidance_v_z_sum_err:0000000000000000 $d
     /tmp/cc6bVjCd.s:2986   .bss.gv_adapt_X:0000000000000000 $d
     /tmp/cc6bVjCd.s:2993   .bss.guidance_v_zd_sp:0000000000000000 $d
     /tmp/cc6bVjCd.s:3000   .bss.gv_adapt_Xmeas:0000000000000000 $d
     /tmp/cc6bVjCd.s:3007   .bss.guidance_v_nominal_throttle:0000000000000000 $d
     /tmp/cc6bVjCd.s:3013   .bss.guidance_v_ff_cmd:0000000000000000 $d
     /tmp/cc6bVjCd.s:3020   .bss.guidance_v_rc_delta_t:0000000000000000 $d
     /tmp/cc6bVjCd.s:3031   .bss.guidance_v_mode:0000000000000000 $d
     /tmp/cc6bVjCd.s:3033   .bss.guidance_v_zd_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:3040   .bss.guidance_v_delta_t:0000000000000000 $d
     /tmp/cc6bVjCd.s:3047   .bss.guidance_v_zdd_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:3054   .bss.gv_z_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:3061   .bss.guidance_v_kd:0000000000000000 $d
     /tmp/cc6bVjCd.s:3068   .bss.gv_zd_ref:0000000000000000 $d
     /tmp/cc6bVjCd.s:3075   .bss.guidance_v_z_sp:0000000000000000 $d
     /tmp/cc6bVjCd.s:3082   .bss.guidance_v_fb_cmd:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
radio_control
ins_ltp_pos
ins_ltp_speed
__aeabi_i2d
__aeabi_dcmplt
__aeabi_dcmpgt
__aeabi_dadd
__aeabi_d2iz
__aeabi_dmul
__aeabi_dcmple
__aeabi_dcmpge
ins_ltp_accel
stabilization_cmd
ahrs
pprz_trig_int
vertical_mode
nav_flight_altitude
nav_climb
nav_throttle
