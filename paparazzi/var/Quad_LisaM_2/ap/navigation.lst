   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 18, 4
  12              		.thumb
  13              		.file	"navigation.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_fmul
  18              		.global	__aeabi_f2iz
  19              		.global	__aeabi_f2d
  20              		.global	__aeabi_dsub
  21              		.global	__aeabi_dmul
  22              		.global	__aeabi_d2iz
  23              		.section	.text.nav_init,"ax",%progbits
  24              		.align	1
  25              		.global	nav_init
  26              		.thumb
  27              		.thumb_func
  29              	nav_init:
  30              	.LFB29:
  31              		.file 1 "firmwares/rotorcraft/navigation.c"
   1:firmwares/rotorcraft/navigation.c **** /*
   2:firmwares/rotorcraft/navigation.c ****  * $Id$
   3:firmwares/rotorcraft/navigation.c ****  *
   4:firmwares/rotorcraft/navigation.c ****  * Copyright (C) 2008-2009 Antoine Drouin <poinix@gmail.com>
   5:firmwares/rotorcraft/navigation.c ****  *
   6:firmwares/rotorcraft/navigation.c ****  * This file is part of paparazzi.
   7:firmwares/rotorcraft/navigation.c ****  *
   8:firmwares/rotorcraft/navigation.c ****  * paparazzi is free software; you can redistribute it and/or modify
   9:firmwares/rotorcraft/navigation.c ****  * it under the terms of the GNU General Public License as published by
  10:firmwares/rotorcraft/navigation.c ****  * the Free Software Foundation; either version 2, or (at your option)
  11:firmwares/rotorcraft/navigation.c ****  * any later version.
  12:firmwares/rotorcraft/navigation.c ****  *
  13:firmwares/rotorcraft/navigation.c ****  * paparazzi is distributed in the hope that it will be useful,
  14:firmwares/rotorcraft/navigation.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:firmwares/rotorcraft/navigation.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:firmwares/rotorcraft/navigation.c ****  * GNU General Public License for more details.
  17:firmwares/rotorcraft/navigation.c ****  *
  18:firmwares/rotorcraft/navigation.c ****  * You should have received a copy of the GNU General Public License
  19:firmwares/rotorcraft/navigation.c ****  * along with paparazzi; see the file COPYING.  If not, write to
  20:firmwares/rotorcraft/navigation.c ****  * the Free Software Foundation, 59 Temple Place - Suite 330,
  21:firmwares/rotorcraft/navigation.c ****  * Boston, MA 02111-1307, USA.
  22:firmwares/rotorcraft/navigation.c ****  */
  23:firmwares/rotorcraft/navigation.c **** 
  24:firmwares/rotorcraft/navigation.c **** #define NAV_C
  25:firmwares/rotorcraft/navigation.c **** 
  26:firmwares/rotorcraft/navigation.c **** #include "firmwares/rotorcraft/navigation.h"
  27:firmwares/rotorcraft/navigation.c **** 
  28:firmwares/rotorcraft/navigation.c **** #include "pprz_debug.h"
  29:firmwares/rotorcraft/navigation.c **** #include "subsystems/gps.h"
  30:firmwares/rotorcraft/navigation.c **** #include "subsystems/ins.h"
  31:firmwares/rotorcraft/navigation.c **** 
  32:firmwares/rotorcraft/navigation.c **** #include "firmwares/rotorcraft/autopilot.h"
  33:firmwares/rotorcraft/navigation.c **** #include "generated/modules.h"
  34:firmwares/rotorcraft/navigation.c **** #include "generated/flight_plan.h"
  35:firmwares/rotorcraft/navigation.c **** 
  36:firmwares/rotorcraft/navigation.c **** #include "math/pprz_algebra_int.h"
  37:firmwares/rotorcraft/navigation.c **** 
  38:firmwares/rotorcraft/navigation.c **** const uint8_t nb_waypoint = NB_WAYPOINT;
  39:firmwares/rotorcraft/navigation.c **** struct EnuCoor_f waypoints_float[NB_WAYPOINT] = WAYPOINTS;
  40:firmwares/rotorcraft/navigation.c **** struct EnuCoor_i waypoints[NB_WAYPOINT];
  41:firmwares/rotorcraft/navigation.c **** 
  42:firmwares/rotorcraft/navigation.c **** struct EnuCoor_i navigation_target;
  43:firmwares/rotorcraft/navigation.c **** struct EnuCoor_i navigation_carrot;
  44:firmwares/rotorcraft/navigation.c **** 
  45:firmwares/rotorcraft/navigation.c **** struct EnuCoor_i nav_last_point;
  46:firmwares/rotorcraft/navigation.c **** 
  47:firmwares/rotorcraft/navigation.c **** uint8_t last_wp __attribute__ ((unused));
  48:firmwares/rotorcraft/navigation.c **** 
  49:firmwares/rotorcraft/navigation.c **** int32_t ground_alt;
  50:firmwares/rotorcraft/navigation.c **** 
  51:firmwares/rotorcraft/navigation.c **** uint8_t horizontal_mode;
  52:firmwares/rotorcraft/navigation.c **** uint8_t nav_segment_start, nav_segment_end;
  53:firmwares/rotorcraft/navigation.c **** uint8_t nav_circle_centre;
  54:firmwares/rotorcraft/navigation.c **** int32_t nav_circle_radius, nav_circle_qdr, nav_circle_radians;
  55:firmwares/rotorcraft/navigation.c **** 
  56:firmwares/rotorcraft/navigation.c **** int32_t nav_leg_progress;
  57:firmwares/rotorcraft/navigation.c **** int32_t nav_leg_length;
  58:firmwares/rotorcraft/navigation.c **** 
  59:firmwares/rotorcraft/navigation.c **** int32_t nav_roll, nav_pitch;
  60:firmwares/rotorcraft/navigation.c **** int32_t nav_heading, nav_course;
  61:firmwares/rotorcraft/navigation.c **** float nav_radius;
  62:firmwares/rotorcraft/navigation.c **** 
  63:firmwares/rotorcraft/navigation.c **** #ifndef DEFAULT_CIRCLE_RADIUS
  64:firmwares/rotorcraft/navigation.c **** #define DEFAULT_CIRCLE_RADIUS 0.
  65:firmwares/rotorcraft/navigation.c **** #endif
  66:firmwares/rotorcraft/navigation.c **** 
  67:firmwares/rotorcraft/navigation.c **** uint8_t vertical_mode;
  68:firmwares/rotorcraft/navigation.c **** uint32_t nav_throttle;
  69:firmwares/rotorcraft/navigation.c **** int32_t nav_climb, nav_altitude, nav_flight_altitude;
  70:firmwares/rotorcraft/navigation.c **** float flight_altitude;
  71:firmwares/rotorcraft/navigation.c **** 
  72:firmwares/rotorcraft/navigation.c **** static inline void nav_set_altitude( void );
  73:firmwares/rotorcraft/navigation.c **** 
  74:firmwares/rotorcraft/navigation.c **** #define CLOSE_TO_WAYPOINT (15 << 8)
  75:firmwares/rotorcraft/navigation.c **** #define ARRIVED_AT_WAYPOINT (3 << 8)
  76:firmwares/rotorcraft/navigation.c **** #define CARROT_DIST (12 << 8)
  77:firmwares/rotorcraft/navigation.c **** 
  78:firmwares/rotorcraft/navigation.c **** void nav_init(void) {
  32              		.loc 1 78 0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36              	.LVL0:
  37 0000 70B5     		push	{r4, r5, r6, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 16
  40              		.cfi_offset 14, -4
  41              		.cfi_offset 6, -8
  42              		.cfi_offset 5, -12
  43              		.cfi_offset 4, -16
  44              		.loc 1 78 0
  45 0002 334C     		ldr	r4, .L4+8
  46 0004 334D     		ldr	r5, .L4+12
  47 0006 04F17806 		add	r6, r4, #120
  48              	.LVL1:
  49              	.L2:
  79:firmwares/rotorcraft/navigation.c ****   // init int32 waypoints
  80:firmwares/rotorcraft/navigation.c ****   uint8_t i = 0;
  81:firmwares/rotorcraft/navigation.c ****   for (i = 0; i < nb_waypoint; i++) {
  82:firmwares/rotorcraft/navigation.c ****     waypoints[i].x = POS_BFP_OF_REAL(waypoints_float[i].x);
  50              		.loc 1 82 0 discriminator 2
  51 000a 4FF08741 		mov	r1, #1132462080
  52 000e 54F8080C 		ldr	r0, [r4, #-8]	@ float
  53 0012 FFF7FEFF 		bl	__aeabi_fmul
  54 0016 FFF7FEFF 		bl	__aeabi_f2iz
  83:firmwares/rotorcraft/navigation.c ****     waypoints[i].y = POS_BFP_OF_REAL(waypoints_float[i].y);
  55              		.loc 1 83 0 discriminator 2
  56 001a 4FF08741 		mov	r1, #1132462080
  82:firmwares/rotorcraft/navigation.c ****     waypoints[i].x = POS_BFP_OF_REAL(waypoints_float[i].x);
  57              		.loc 1 82 0 discriminator 2
  58 001e 45F8080C 		str	r0, [r5, #-8]
  59              		.loc 1 83 0 discriminator 2
  60 0022 54F8040C 		ldr	r0, [r4, #-4]	@ float
  61 0026 FFF7FEFF 		bl	__aeabi_fmul
  62 002a FFF7FEFF 		bl	__aeabi_f2iz
  63 002e 45F8040C 		str	r0, [r5, #-4]
  84:firmwares/rotorcraft/navigation.c ****     waypoints[i].z = POS_BFP_OF_REAL((waypoints_float[i].z - GROUND_ALT));
  64              		.loc 1 84 0 discriminator 2
  65 0032 54F80C0B 		ldr	r0, [r4], #12	@ float
  66 0036 FFF7FEFF 		bl	__aeabi_f2d
  67 003a 23A3     		adr	r3, .L4
  68 003c D3E90023 		ldrd	r2, [r3]
  69 0040 FFF7FEFF 		bl	__aeabi_dsub
  70 0044 0022     		movs	r2, #0
  71 0046 244B     		ldr	r3, .L4+16
  72 0048 FFF7FEFF 		bl	__aeabi_dmul
  73 004c FFF7FEFF 		bl	__aeabi_d2iz
  81:firmwares/rotorcraft/navigation.c ****   for (i = 0; i < nb_waypoint; i++) {
  74              		.loc 1 81 0 discriminator 2
  75 0050 B442     		cmp	r4, r6
  76              		.loc 1 84 0 discriminator 2
  77 0052 45F80C0B 		str	r0, [r5], #12
  81:firmwares/rotorcraft/navigation.c ****   for (i = 0; i < nb_waypoint; i++) {
  78              		.loc 1 81 0 discriminator 2
  79 0056 D8D1     		bne	.L2
  85:firmwares/rotorcraft/navigation.c ****   }
  86:firmwares/rotorcraft/navigation.c ****   nav_block = 0;
  80              		.loc 1 86 0
  81 0058 204A     		ldr	r2, .L4+20
  82 005a 0023     		movs	r3, #0
  83 005c 1370     		strb	r3, [r2, #0]
  87:firmwares/rotorcraft/navigation.c ****   nav_stage = 0;
  84              		.loc 1 87 0
  85 005e 204A     		ldr	r2, .L4+24
  88:firmwares/rotorcraft/navigation.c ****   ground_alt = POS_BFP_OF_REAL(GROUND_ALT);
  86              		.loc 1 88 0
  87 0060 4FF41341 		mov	r1, #37632
  87:firmwares/rotorcraft/navigation.c ****   nav_stage = 0;
  88              		.loc 1 87 0
  89 0064 1370     		strb	r3, [r2, #0]
  90              		.loc 1 88 0
  91 0066 1F4A     		ldr	r2, .L4+28
  92 0068 1160     		str	r1, [r2, #0]
  89:firmwares/rotorcraft/navigation.c ****   nav_altitude = POS_BFP_OF_REAL(SECURITY_HEIGHT);
  93              		.loc 1 89 0
  94 006a 1F49     		ldr	r1, .L4+32
  95 006c 4FF40072 		mov	r2, #512
  96 0070 0A60     		str	r2, [r1, #0]
  90:firmwares/rotorcraft/navigation.c ****   nav_flight_altitude = nav_altitude;
  97              		.loc 1 90 0
  98 0072 1E49     		ldr	r1, .L4+36
  99 0074 0A60     		str	r2, [r1, #0]
  91:firmwares/rotorcraft/navigation.c ****   flight_altitude = SECURITY_ALT;
 100              		.loc 1 91 0
 101 0076 1E49     		ldr	r1, .L4+40
 102 0078 1E4A     		ldr	r2, .L4+44
 103 007a 1160     		str	r1, [r2, #0]	@ float
  92:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_COPY( navigation_target, waypoints[WP_HOME]);
 104              		.loc 1 92 0
 105 007c 1E49     		ldr	r1, .L4+48
 106 007e 1F4A     		ldr	r2, .L4+52
 107 0080 CC68     		ldr	r4, [r1, #12]
 108 0082 0869     		ldr	r0, [r1, #16]
 109 0084 4969     		ldr	r1, [r1, #20]
 110 0086 1460     		str	r4, [r2, #0]
 111 0088 9160     		str	r1, [r2, #8]
 112 008a 5060     		str	r0, [r2, #4]
  93:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_COPY( navigation_carrot, waypoints[WP_HOME]);
 113              		.loc 1 93 0
 114 008c 1C4A     		ldr	r2, .L4+56
 115 008e 1460     		str	r4, [r2, #0]
 116 0090 9160     		str	r1, [r2, #8]
 117 0092 5060     		str	r0, [r2, #4]
  94:firmwares/rotorcraft/navigation.c **** 
  95:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_WAYPOINT;
 118              		.loc 1 95 0
 119 0094 1B4A     		ldr	r2, .L4+60
  96:firmwares/rotorcraft/navigation.c ****   vertical_mode = VERTICAL_MODE_ALT;
 120              		.loc 1 96 0
 121 0096 0221     		movs	r1, #2
  95:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_WAYPOINT;
 122              		.loc 1 95 0
 123 0098 1370     		strb	r3, [r2, #0]
 124              		.loc 1 96 0
 125 009a 1B4A     		ldr	r2, .L4+64
 126 009c 1170     		strb	r1, [r2, #0]
  97:firmwares/rotorcraft/navigation.c **** 
  98:firmwares/rotorcraft/navigation.c ****   nav_roll = 0;
 127              		.loc 1 98 0
 128 009e 1B4A     		ldr	r2, .L4+68
  99:firmwares/rotorcraft/navigation.c ****   nav_pitch = 0;
 100:firmwares/rotorcraft/navigation.c ****   nav_heading = 0;
 101:firmwares/rotorcraft/navigation.c ****   nav_course = 0;
 102:firmwares/rotorcraft/navigation.c ****   nav_radius = DEFAULT_CIRCLE_RADIUS;
 129              		.loc 1 102 0
 130 00a0 0021     		movs	r1, #0
  98:firmwares/rotorcraft/navigation.c ****   nav_roll = 0;
 131              		.loc 1 98 0
 132 00a2 1360     		str	r3, [r2, #0]
  99:firmwares/rotorcraft/navigation.c ****   nav_pitch = 0;
 133              		.loc 1 99 0
 134 00a4 1A4A     		ldr	r2, .L4+72
 135 00a6 1360     		str	r3, [r2, #0]
 100:firmwares/rotorcraft/navigation.c ****   nav_heading = 0;
 136              		.loc 1 100 0
 137 00a8 1A4A     		ldr	r2, .L4+76
 138 00aa 1360     		str	r3, [r2, #0]
 101:firmwares/rotorcraft/navigation.c ****   nav_course = 0;
 139              		.loc 1 101 0
 140 00ac 1A4A     		ldr	r2, .L4+80
 141 00ae 1360     		str	r3, [r2, #0]
 142              		.loc 1 102 0
 143 00b0 1A4A     		ldr	r2, .L4+84
 144 00b2 1160     		str	r1, [r2, #0]	@ float
 103:firmwares/rotorcraft/navigation.c ****   nav_throttle = 0;
 145              		.loc 1 103 0
 146 00b4 1A4A     		ldr	r2, .L4+88
 147 00b6 1360     		str	r3, [r2, #0]
 104:firmwares/rotorcraft/navigation.c ****   nav_climb = 0;
 148              		.loc 1 104 0
 149 00b8 1A4A     		ldr	r2, .L4+92
 150 00ba 1360     		str	r3, [r2, #0]
 105:firmwares/rotorcraft/navigation.c ****   nav_leg_progress = 0;
 151              		.loc 1 105 0
 152 00bc 1A4A     		ldr	r2, .L4+96
 153 00be 1360     		str	r3, [r2, #0]
 106:firmwares/rotorcraft/navigation.c ****   nav_leg_length = 1;
 154              		.loc 1 106 0
 155 00c0 1A4B     		ldr	r3, .L4+100
 156 00c2 0122     		movs	r2, #1
 157 00c4 1A60     		str	r2, [r3, #0]
 107:firmwares/rotorcraft/navigation.c **** 
 108:firmwares/rotorcraft/navigation.c **** }
 158              		.loc 1 108 0
 159 00c6 70BD     		pop	{r4, r5, r6, pc}
 160              	.L5:
 161              		.align	3
 162              	.L4:
 163 00c8 00000000 		.word	0
 164 00cc 00606240 		.word	1080188928
 165 00d0 08000000 		.word	.LANCHOR0+8
 166 00d4 08000000 		.word	.LANCHOR1+8
 167 00d8 00007040 		.word	1081081856
 168 00dc 00000000 		.word	nav_block
 169 00e0 00000000 		.word	nav_stage
 170 00e4 00000000 		.word	.LANCHOR2
 171 00e8 00000000 		.word	.LANCHOR3
 172 00ec 00000000 		.word	.LANCHOR4
 173 00f0 00001543 		.word	1125449728
 174 00f4 00000000 		.word	.LANCHOR5
 175 00f8 00000000 		.word	.LANCHOR1
 176 00fc 00000000 		.word	.LANCHOR6
 177 0100 00000000 		.word	.LANCHOR7
 178 0104 00000000 		.word	.LANCHOR8
 179 0108 00000000 		.word	.LANCHOR9
 180 010c 00000000 		.word	.LANCHOR10
 181 0110 00000000 		.word	.LANCHOR11
 182 0114 00000000 		.word	.LANCHOR12
 183 0118 00000000 		.word	.LANCHOR13
 184 011c 00000000 		.word	.LANCHOR14
 185 0120 00000000 		.word	.LANCHOR15
 186 0124 00000000 		.word	.LANCHOR16
 187 0128 00000000 		.word	.LANCHOR17
 188 012c 00000000 		.word	.LANCHOR18
 189              		.cfi_endproc
 190              	.LFE29:
 192              		.global	__aeabi_i2d
 193              		.global	__aeabi_dcmpgt
 194              		.section	.text.nav_run,"ax",%progbits
 195              		.align	1
 196              		.global	nav_run
 197              		.thumb
 198              		.thumb_func
 200              	nav_run:
 201              	.LFB30:
 109:firmwares/rotorcraft/navigation.c **** 
 110:firmwares/rotorcraft/navigation.c **** void nav_run(void) {
 202              		.loc 1 110 0
 203              		.cfi_startproc
 204              		@ args = 0, pretend = 0, frame = 0
 205              		@ frame_needed = 0, uses_anonymous_args = 0
 206 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 207              	.LCFI1:
 208              		.cfi_def_cfa_offset 24
 209              		.cfi_offset 14, -4
 210              		.cfi_offset 7, -8
 211              		.cfi_offset 6, -12
 212              		.cfi_offset 5, -16
 213              		.cfi_offset 4, -20
 214              		.cfi_offset 3, -24
 111:firmwares/rotorcraft/navigation.c **** 
 112:firmwares/rotorcraft/navigation.c ****   /* compute a vector to the waypoint */
 113:firmwares/rotorcraft/navigation.c ****   struct Int32Vect2 path_to_waypoint;
 114:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(path_to_waypoint, navigation_target, ins_enu_pos);
 215              		.loc 1 114 0
 216 0002 2F4A     		ldr	r2, .L16+8
 217 0004 2F4B     		ldr	r3, .L16+12
 218 0006 D2F800C0 		ldr	ip, [r2, #0]
 219 000a 1F68     		ldr	r7, [r3, #0]
 220              	.LVL2:
 221 000c D2F804E0 		ldr	lr, [r2, #4]
 222 0010 5E68     		ldr	r6, [r3, #4]
 223              	.LVL3:
 115:firmwares/rotorcraft/navigation.c **** 
 116:firmwares/rotorcraft/navigation.c ****   /* saturate it */
 117:firmwares/rotorcraft/navigation.c ****   VECT2_STRIM(path_to_waypoint, -(1<<15), (1<<15));
 224              		.loc 1 117 0
 225 0012 2D49     		ldr	r1, .L16+16
 114:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(path_to_waypoint, navigation_target, ins_enu_pos);
 226              		.loc 1 114 0
 227 0014 C7EB0C00 		rsb	r0, r7, ip
 228 0018 C6EB0E02 		rsb	r2, r6, lr
 229              		.loc 1 117 0
 230 001c B0F5004F 		cmp	r0, #32768
 231 0020 A8BF     		it	ge
 232 0022 4FF40040 		movge	r0, #32768
 233 0026 B2F5004F 		cmp	r2, #32768
 234 002a A8BF     		it	ge
 235 002c 4FF40042 		movge	r2, #32768
 236 0030 8842     		cmp	r0, r1
 237 0032 B8BF     		it	lt
 238 0034 0846     		movlt	r0, r1
 239              	.LVL4:
 240 0036 8A42     		cmp	r2, r1
 241 0038 A8BF     		it	ge
 242 003a 1146     		movge	r1, r2
 243              	.LVL5:
 244              	.LBB16:
 118:firmwares/rotorcraft/navigation.c **** 
 119:firmwares/rotorcraft/navigation.c **** #if !GUIDANCE_H_USE_REF
 120:firmwares/rotorcraft/navigation.c ****   int32_t dist_to_waypoint;
 121:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_waypoint, path_to_waypoint);
 245              		.loc 1 121 0
 246 003c 01FB01F5 		mul	r5, r1, r1
 247 0040 00FB0055 		mla	r5, r0, r0, r5
 248              	.LVL6:
 249 0044 8DB1     		cbz	r5, .L7
 250              	.LVL7:
 251              	.LBB17:
 252              		.loc 1 121 0 is_stmt 0 discriminator 2
 253 0046 2A46     		mov	r2, r5
 254 0048 2824     		movs	r4, #40
 255 004a 00E0     		b	.L9
 256              	.LVL8:
 257              	.L14:
 258              		.loc 1 121 0
 259 004c 1A46     		mov	r2, r3
 260              	.LVL9:
 261              	.L9:
 262              		.loc 1 121 0 discriminator 3
 263 004e B5FBF2F3 		udiv	r3, r5, r2
 264              	.LVL10:
 265 0052 9B18     		adds	r3, r3, r2
 266              	.LVL11:
 267 0054 5B08     		lsrs	r3, r3, #1
 268              	.LVL12:
 269 0056 D21A     		subs	r2, r2, r3
 270              	.LVL13:
 271 0058 012A     		cmp	r2, #1
 272 005a 03D9     		bls	.L8
 273              		.loc 1 121 0 discriminator 4
 274 005c 013C     		subs	r4, r4, #1
 275 005e E4B2     		uxtb	r4, r4
 276 0060 002C     		cmp	r4, #0
 277 0062 F3D1     		bne	.L14
 278              	.L8:
 279              	.LVL14:
 280              	.LBE17:
 281              	.LBE16:
 122:firmwares/rotorcraft/navigation.c **** 
 123:firmwares/rotorcraft/navigation.c ****   if (dist_to_waypoint < CLOSE_TO_WAYPOINT) {
 282              		.loc 1 123 0 is_stmt 1 discriminator 5
 283 0064 B3F5706F 		cmp	r3, #3840
 284 0068 03DA     		bge	.L10
 285              	.LVL15:
 286              	.L7:
 124:firmwares/rotorcraft/navigation.c ****     VECT2_COPY(navigation_carrot, navigation_target);
 287              		.loc 1 124 0
 288 006a 184B     		ldr	r3, .L16+20
 289 006c 83E80050 		stmia	r3, {ip, lr}
 290 0070 0CE0     		b	.L11
 291              	.LVL16:
 292              	.L10:
 293              	.LBB18:
 125:firmwares/rotorcraft/navigation.c ****   }
 126:firmwares/rotorcraft/navigation.c ****   else {
 127:firmwares/rotorcraft/navigation.c ****     struct Int32Vect2 path_to_carrot;
 128:firmwares/rotorcraft/navigation.c ****     VECT2_SMUL(path_to_carrot, path_to_waypoint, CARROT_DIST);
 294              		.loc 1 128 0
 295 0072 4FF44064 		mov	r4, #3072
 296 0076 6043     		muls	r0, r4, r0
 297              	.LVL17:
 298 0078 6143     		muls	r1, r4, r1
 299              	.LVL18:
 129:firmwares/rotorcraft/navigation.c ****     VECT2_SDIV(path_to_carrot, path_to_carrot, dist_to_waypoint);
 130:firmwares/rotorcraft/navigation.c ****     VECT2_SUM(navigation_carrot, path_to_carrot, ins_enu_pos);
 300              		.loc 1 130 0
 301 007a 144A     		ldr	r2, .L16+20
 129:firmwares/rotorcraft/navigation.c ****     VECT2_SDIV(path_to_carrot, path_to_carrot, dist_to_waypoint);
 302              		.loc 1 129 0
 303 007c 90FBF3F0 		sdiv	r0, r0, r3
 304              	.LVL19:
 305 0080 91FBF3F3 		sdiv	r3, r1, r3
 306              	.LVL20:
 307              		.loc 1 130 0
 308 0084 C719     		adds	r7, r0, r7
 309 0086 9E19     		adds	r6, r3, r6
 310 0088 1760     		str	r7, [r2, #0]
 311 008a 5660     		str	r6, [r2, #4]
 312              	.LVL21:
 313              	.L11:
 314              	.LBE18:
 315              	.LBB19:
 316              	.LBB20:
 131:firmwares/rotorcraft/navigation.c ****   }
 132:firmwares/rotorcraft/navigation.c **** #else
 133:firmwares/rotorcraft/navigation.c ****   // if H_REF is used, CARROT_DIST is not used
 134:firmwares/rotorcraft/navigation.c ****   VECT2_COPY(navigation_carrot, navigation_target);
 135:firmwares/rotorcraft/navigation.c **** #endif
 136:firmwares/rotorcraft/navigation.c **** 
 137:firmwares/rotorcraft/navigation.c ****   nav_set_altitude();
 138:firmwares/rotorcraft/navigation.c **** }
 139:firmwares/rotorcraft/navigation.c **** 
 140:firmwares/rotorcraft/navigation.c **** void nav_circle(uint8_t wp_center, int32_t radius) {
 141:firmwares/rotorcraft/navigation.c ****   if (radius == 0) {
 142:firmwares/rotorcraft/navigation.c ****     VECT2_COPY(navigation_target, waypoints[wp_center]);
 143:firmwares/rotorcraft/navigation.c ****   }
 144:firmwares/rotorcraft/navigation.c ****   else {
 145:firmwares/rotorcraft/navigation.c ****     struct Int32Vect2 pos_diff;
 146:firmwares/rotorcraft/navigation.c ****     VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_center]);
 147:firmwares/rotorcraft/navigation.c ****     // go back to half metric precision or values are too large
 148:firmwares/rotorcraft/navigation.c ****     //INT32_VECT2_RSHIFT(pos_diff,pos_diff,INT32_POS_FRAC/2);
 149:firmwares/rotorcraft/navigation.c ****     // store last qdr
 150:firmwares/rotorcraft/navigation.c ****     int32_t last_qdr = nav_circle_qdr;
 151:firmwares/rotorcraft/navigation.c ****     // compute qdr
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 153:firmwares/rotorcraft/navigation.c ****     // increment circle radians
 154:firmwares/rotorcraft/navigation.c ****     if (nav_circle_radians != 0) {
 155:firmwares/rotorcraft/navigation.c ****       int32_t angle_diff = nav_circle_qdr - last_qdr;
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 157:firmwares/rotorcraft/navigation.c ****       nav_circle_radians += angle_diff;
 158:firmwares/rotorcraft/navigation.c ****     }
 159:firmwares/rotorcraft/navigation.c ****     else {
 160:firmwares/rotorcraft/navigation.c ****       // Smallest angle to increment at next step
 161:firmwares/rotorcraft/navigation.c ****       nav_circle_radians = 1;
 162:firmwares/rotorcraft/navigation.c ****     }
 163:firmwares/rotorcraft/navigation.c **** 
 164:firmwares/rotorcraft/navigation.c ****     // direction of rotation
 165:firmwares/rotorcraft/navigation.c ****     int8_t sign_radius = radius > 0 ? 1 : -1;
 166:firmwares/rotorcraft/navigation.c ****     // absolute radius
 167:firmwares/rotorcraft/navigation.c ****     int32_t abs_radius = abs(radius);
 168:firmwares/rotorcraft/navigation.c ****     // carrot_angle
 169:firmwares/rotorcraft/navigation.c ****     int32_t carrot_angle = ((CARROT_DIST<<INT32_ANGLE_FRAC) / abs_radius);
 170:firmwares/rotorcraft/navigation.c ****     Bound(carrot_angle, (INT32_ANGLE_PI / 16), INT32_ANGLE_PI_4);
 171:firmwares/rotorcraft/navigation.c ****     carrot_angle = nav_circle_qdr - sign_radius * carrot_angle;
 172:firmwares/rotorcraft/navigation.c ****     int32_t s_carrot, c_carrot;
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 175:firmwares/rotorcraft/navigation.c ****     // compute setpoint
 176:firmwares/rotorcraft/navigation.c ****     VECT2_ASSIGN(pos_diff, abs_radius * c_carrot, abs_radius * s_carrot);
 177:firmwares/rotorcraft/navigation.c ****     INT32_VECT2_RSHIFT(pos_diff, pos_diff, INT32_TRIG_FRAC);
 178:firmwares/rotorcraft/navigation.c ****     VECT2_SUM(navigation_target, waypoints[wp_center], pos_diff);
 179:firmwares/rotorcraft/navigation.c ****   }
 180:firmwares/rotorcraft/navigation.c ****   nav_circle_centre = wp_center;
 181:firmwares/rotorcraft/navigation.c ****   nav_circle_radius = radius;
 182:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_CIRCLE;
 183:firmwares/rotorcraft/navigation.c **** }
 184:firmwares/rotorcraft/navigation.c **** 
 185:firmwares/rotorcraft/navigation.c **** 
 186:firmwares/rotorcraft/navigation.c **** //#include "stdio.h"
 187:firmwares/rotorcraft/navigation.c **** void nav_route(uint8_t wp_start, uint8_t wp_end) {
 188:firmwares/rotorcraft/navigation.c ****   struct Int32Vect2 wp_diff,pos_diff;
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 190:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_start]);
 191:firmwares/rotorcraft/navigation.c ****   // go back to metric precision or values are too large
 192:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(wp_diff,wp_diff,INT32_POS_FRAC);
 193:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(pos_diff,pos_diff,INT32_POS_FRAC);
 194:firmwares/rotorcraft/navigation.c ****   int32_t leg_length2 = Max((wp_diff.x * wp_diff.x + wp_diff.y * wp_diff.y),1);
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 196:firmwares/rotorcraft/navigation.c ****   nav_leg_progress = (pos_diff.x * wp_diff.x + pos_diff.y * wp_diff.y) / nav_leg_length;
 197:firmwares/rotorcraft/navigation.c ****   int32_t progress = Max((CARROT_DIST >> INT32_POS_FRAC), 0);
 198:firmwares/rotorcraft/navigation.c ****   nav_leg_progress += progress;
 199:firmwares/rotorcraft/navigation.c ****   int32_t prog_2 = nav_leg_length;// + progress / 2;
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 201:firmwares/rotorcraft/navigation.c ****   struct Int32Vect2 progress_pos;
 202:firmwares/rotorcraft/navigation.c ****   VECT2_SMUL(progress_pos, wp_diff, nav_leg_progress);
 203:firmwares/rotorcraft/navigation.c ****   VECT2_SDIV(progress_pos, progress_pos, nav_leg_length);
 204:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_LSHIFT(progress_pos,progress_pos,INT32_POS_FRAC);
 205:firmwares/rotorcraft/navigation.c ****   VECT2_SUM(navigation_target,waypoints[wp_start],progress_pos);
 206:firmwares/rotorcraft/navigation.c ****   //printf("target %d %d | p %d %d | s %d %d | l %d %d %d\n",
 207:firmwares/rotorcraft/navigation.c ****   //    navigation_target.x,
 208:firmwares/rotorcraft/navigation.c ****   //    navigation_target.y,
 209:firmwares/rotorcraft/navigation.c ****   //    progress_pos.x,
 210:firmwares/rotorcraft/navigation.c ****   //    progress_pos.y,
 211:firmwares/rotorcraft/navigation.c ****   //    waypoints[wp_start].x,
 212:firmwares/rotorcraft/navigation.c ****   //    waypoints[wp_start].y,
 213:firmwares/rotorcraft/navigation.c ****   //    leg_length, leg_length2, nav_leg_progress);
 214:firmwares/rotorcraft/navigation.c ****   //fflush(stdout);
 215:firmwares/rotorcraft/navigation.c **** 
 216:firmwares/rotorcraft/navigation.c ****   nav_segment_start = wp_start;
 217:firmwares/rotorcraft/navigation.c ****   nav_segment_end = wp_end;
 218:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_ROUTE;
 219:firmwares/rotorcraft/navigation.c **** }
 220:firmwares/rotorcraft/navigation.c **** 
 221:firmwares/rotorcraft/navigation.c **** bool_t nav_approaching_from(uint8_t wp_idx, uint8_t from_idx) {
 222:firmwares/rotorcraft/navigation.c ****   int32_t dist_to_point;
 223:firmwares/rotorcraft/navigation.c ****   struct Int32Vect2 diff;
 224:firmwares/rotorcraft/navigation.c ****   static uint8_t time_at_wp = 0;
 225:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(diff, waypoints[wp_idx], ins_enu_pos);
 226:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(diff,diff,INT32_POS_FRAC);
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 228:firmwares/rotorcraft/navigation.c ****   //printf("dist %d | %d %d\n", dist_to_point,diff.x,diff.y);
 229:firmwares/rotorcraft/navigation.c ****   //fflush(stdout);
 230:firmwares/rotorcraft/navigation.c ****   //if (dist_to_point < (ARRIVED_AT_WAYPOINT >> INT32_POS_FRAC)) return TRUE;
 231:firmwares/rotorcraft/navigation.c ****   if (dist_to_point < (ARRIVED_AT_WAYPOINT >> INT32_POS_FRAC)) time_at_wp++;
 232:firmwares/rotorcraft/navigation.c ****   else time_at_wp = 0;
 233:firmwares/rotorcraft/navigation.c ****   if (time_at_wp > 20) return TRUE;
 234:firmwares/rotorcraft/navigation.c ****   if (from_idx > 0 && from_idx < NB_WAYPOINT) {
 235:firmwares/rotorcraft/navigation.c ****     struct Int32Vect2 from_diff;
 236:firmwares/rotorcraft/navigation.c ****     VECT2_DIFF(from_diff, waypoints[wp_idx],waypoints[from_idx]);
 237:firmwares/rotorcraft/navigation.c ****     INT32_VECT2_RSHIFT(from_diff,from_diff,INT32_POS_FRAC);
 238:firmwares/rotorcraft/navigation.c ****     return (diff.x * from_diff.x + diff.y * from_diff.y < 0);
 239:firmwares/rotorcraft/navigation.c ****   }
 240:firmwares/rotorcraft/navigation.c ****   else return FALSE;
 241:firmwares/rotorcraft/navigation.c **** }
 242:firmwares/rotorcraft/navigation.c **** 
 243:firmwares/rotorcraft/navigation.c **** static inline void nav_set_altitude( void ) {
 244:firmwares/rotorcraft/navigation.c ****   static int32_t last_nav_alt = 0;
 245:firmwares/rotorcraft/navigation.c ****   if (abs(nav_altitude - last_nav_alt) > (POS_BFP_OF_REAL(0.2))) {
 317              		.loc 1 245 0
 318 008c 104B     		ldr	r3, .L16+24
 319 008e 114D     		ldr	r5, .L16+28
 320              	.LVL22:
 321 0090 1C68     		ldr	r4, [r3, #0]
 322 0092 2868     		ldr	r0, [r5, #0]
 323 0094 201A     		subs	r0, r4, r0
 324 0096 0028     		cmp	r0, #0
 325 0098 B8BF     		it	lt
 326 009a 4042     		rsblt	r0, r0, #0
 327 009c FFF7FEFF 		bl	__aeabi_i2d
 328 00a0 05A3     		adr	r3, .L16
 329 00a2 D3E90023 		ldrd	r2, [r3]
 330 00a6 FFF7FEFF 		bl	__aeabi_dcmpgt
 331 00aa 10B1     		cbz	r0, .L6
 246:firmwares/rotorcraft/navigation.c ****     nav_flight_altitude = nav_altitude;
 332              		.loc 1 246 0
 333 00ac 0A4B     		ldr	r3, .L16+32
 247:firmwares/rotorcraft/navigation.c ****     last_nav_alt = nav_altitude;
 334              		.loc 1 247 0
 335 00ae 2C60     		str	r4, [r5, #0]
 246:firmwares/rotorcraft/navigation.c ****     nav_flight_altitude = nav_altitude;
 336              		.loc 1 246 0
 337 00b0 1C60     		str	r4, [r3, #0]
 338              	.L6:
 339 00b2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 340              	.L17:
 341 00b4 AFF30080 		.align	3
 342              	.L16:
 343 00b8 9A999999 		.word	2576980378
 344 00bc 99994940 		.word	1078565273
 345 00c0 00000000 		.word	.LANCHOR6
 346 00c4 00000000 		.word	ins_enu_pos
 347 00c8 0080FFFF 		.word	-32768
 348 00cc 00000000 		.word	.LANCHOR7
 349 00d0 00000000 		.word	.LANCHOR3
 350 00d4 00000000 		.word	.LANCHOR19
 351 00d8 00000000 		.word	.LANCHOR4
 352              	.LBE20:
 353              	.LBE19:
 354              		.cfi_endproc
 355              	.LFE30:
 357              		.section	.text.nav_circle,"ax",%progbits
 358              		.align	1
 359              		.global	nav_circle
 360              		.thumb
 361              		.thumb_func
 363              	nav_circle:
 364              	.LFB31:
 140:firmwares/rotorcraft/navigation.c **** void nav_circle(uint8_t wp_center, int32_t radius) {
 365              		.loc 1 140 0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              	.LVL23:
 370 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 371              	.LCFI2:
 372              		.cfi_def_cfa_offset 24
 373              		.cfi_offset 14, -4
 374              		.cfi_offset 8, -8
 375              		.cfi_offset 7, -12
 376              		.cfi_offset 6, -16
 377              		.cfi_offset 5, -20
 378              		.cfi_offset 4, -24
 379 0004 724B     		ldr	r3, .L64
 380 0006 0C22     		movs	r2, #12
 141:firmwares/rotorcraft/navigation.c ****   if (radius == 0) {
 381              		.loc 1 141 0
 382 0008 39B9     		cbnz	r1, .L19
 142:firmwares/rotorcraft/navigation.c ****     VECT2_COPY(navigation_target, waypoints[wp_center]);
 383              		.loc 1 142 0
 384 000a 4243     		muls	r2, r0, r2
 385 000c 714C     		ldr	r4, .L64+4
 386 000e 9D18     		adds	r5, r3, r2
 387 0010 9B58     		ldr	r3, [r3, r2]
 388 0012 2360     		str	r3, [r4, #0]
 389 0014 6B68     		ldr	r3, [r5, #4]
 390 0016 6360     		str	r3, [r4, #4]
 391 0018 D1E0     		b	.L20
 392              	.L19:
 393              	.LBB21:
 146:firmwares/rotorcraft/navigation.c ****     VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_center]);
 394              		.loc 1 146 0
 395 001a 4243     		muls	r2, r0, r2
 396 001c 9C18     		adds	r4, r3, r2
 397 001e 9D58     		ldr	r5, [r3, r2]
 398 0020 6D4B     		ldr	r3, .L64+8
 399 0022 D4F804C0 		ldr	ip, [r4, #4]
 400 0026 5C68     		ldr	r4, [r3, #4]
 401 0028 1E68     		ldr	r6, [r3, #0]
 402              	.LVL24:
 403 002a CCEB0404 		rsb	r4, ip, r4
 404              	.LVL25:
 405              	.LBB22:
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 406              		.loc 1 152 0
 407 002e 84EAE477 		eor	r7, r4, r4, asr #31
 408 0032 A7EBE477 		sub	r7, r7, r4, asr #31
 409              	.LBE22:
 150:firmwares/rotorcraft/navigation.c ****     int32_t last_qdr = nav_circle_qdr;
 410              		.loc 1 150 0
 411 0036 694A     		ldr	r2, .L64+12
 412              	.LBB23:
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 413              		.loc 1 152 0
 414 0038 0137     		adds	r7, r7, #1
 415 003a 761B     		subs	r6, r6, r5
 416              	.LBE23:
 150:firmwares/rotorcraft/navigation.c ****     int32_t last_qdr = nav_circle_qdr;
 417              		.loc 1 150 0
 418 003c 1368     		ldr	r3, [r2, #0]
 419              	.LVL26:
 420 003e 06EB0708 		add	r8, r6, r7
 421              	.LBB24:
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 422              		.loc 1 152 0
 423 0042 0BD4     		bmi	.L21
 424              	.LVL27:
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 425              		.loc 1 152 0 is_stmt 0 discriminator 1
 426 0044 F61B     		subs	r6, r6, r7
 427 0046 B603     		lsls	r6, r6, #14
 428 0048 96FBF8F8 		sdiv	r8, r6, r8
 429 004c 4FF44966 		mov	r6, #3216
 430 0050 06FB08F6 		mul	r6, r6, r8
 431 0054 B613     		asrs	r6, r6, #14
 432 0056 C6F54966 		rsb	r6, r6, #3216
 433 005a 0BE0     		b	.L59
 434              	.LVL28:
 435              	.L21:
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 436              		.loc 1 152 0 discriminator 2
 437 005c BE1B     		subs	r6, r7, r6
 438 005e 4FEA8838 		lsl	r8, r8, #14
 439 0062 98FBF6F6 		sdiv	r6, r8, r6
 440 0066 4FF44967 		mov	r7, #3216
 441              	.LVL29:
 442 006a 7E43     		muls	r6, r7, r6
 443 006c B613     		asrs	r6, r6, #14
 444 006e C6F51656 		rsb	r6, r6, #9600
 445 0072 3036     		adds	r6, r6, #48
 446              	.L59:
 447 0074 002C     		cmp	r4, #0
 448 0076 1660     		str	r6, [r2, #0]
 449 0078 03DA     		bge	.L23
 152:firmwares/rotorcraft/navigation.c ****     INT32_ATAN2(nav_circle_qdr, pos_diff.y, pos_diff.x);
 450              		.loc 1 152 0 discriminator 4
 451 007a 584A     		ldr	r2, .L64+12
 452 007c 1468     		ldr	r4, [r2, #0]
 453              	.LVL30:
 454 007e 6442     		negs	r4, r4
 455 0080 1460     		str	r4, [r2, #0]
 456              	.L23:
 457              	.LBE24:
 154:firmwares/rotorcraft/navigation.c ****     if (nav_circle_radians != 0) {
 458              		.loc 1 154 0 is_stmt 1
 459 0082 574A     		ldr	r2, .L64+16
 460 0084 1468     		ldr	r4, [r2, #0]
 461 0086 ACB1     		cbz	r4, .L24
 462              	.LBB25:
 155:firmwares/rotorcraft/navigation.c ****       int32_t angle_diff = nav_circle_qdr - last_qdr;
 463              		.loc 1 155 0
 464 0088 544A     		ldr	r2, .L64+12
 465 008a 1268     		ldr	r2, [r2, #0]
 466 008c D31A     		subs	r3, r2, r3
 467              	.LVL31:
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 468              		.loc 1 156 0
 469 008e 43F24322 		movw	r2, #12867
 470 0092 02E0     		b	.L25
 471              	.L26:
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 472              		.loc 1 156 0 is_stmt 0 discriminator 2
 473 0094 A3F5C943 		sub	r3, r3, #25728
 474              	.LVL32:
 475 0098 073B     		subs	r3, r3, #7
 476              	.LVL33:
 477              	.L25:
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 478              		.loc 1 156 0 discriminator 1
 479 009a 9342     		cmp	r3, r2
 480 009c FADC     		bgt	.L26
 481 009e 03E0     		b	.L61
 482              	.L28:
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 483              		.loc 1 156 0 discriminator 5
 484 00a0 03F5C943 		add	r3, r3, #25728
 485              	.LVL34:
 486 00a4 0733     		adds	r3, r3, #7
 487              	.LVL35:
 488 00a6 00E0     		b	.L54
 489              	.L61:
 156:firmwares/rotorcraft/navigation.c ****       INT32_ANGLE_NORMALIZE(angle_diff);
 490              		.loc 1 156 0 discriminator 4
 491 00a8 4E4A     		ldr	r2, .L64+20
 492              	.L54:
 493 00aa 9342     		cmp	r3, r2
 494 00ac F8DB     		blt	.L28
 157:firmwares/rotorcraft/navigation.c ****       nav_circle_radians += angle_diff;
 495              		.loc 1 157 0 is_stmt 1
 496 00ae E318     		adds	r3, r4, r3
 497              	.LVL36:
 498 00b0 4B4A     		ldr	r2, .L64+16
 499 00b2 00E0     		b	.L60
 500              	.L24:
 501              	.LBE25:
 161:firmwares/rotorcraft/navigation.c ****       nav_circle_radians = 1;
 502              		.loc 1 161 0
 503 00b4 0123     		movs	r3, #1
 504              	.L60:
 505 00b6 1360     		str	r3, [r2, #0]
 167:firmwares/rotorcraft/navigation.c ****     int32_t abs_radius = abs(radius);
 506              		.loc 1 167 0
 507 00b8 81EAE174 		eor	r4, r1, r1, asr #31
 508 00bc A4EBE174 		sub	r4, r4, r1, asr #31
 169:firmwares/rotorcraft/navigation.c ****     int32_t carrot_angle = ((CARROT_DIST<<INT32_ANGLE_FRAC) / abs_radius);
 509              		.loc 1 169 0
 510 00c0 4FF44002 		mov	r2, #12582912
 511 00c4 92FBF4F2 		sdiv	r2, r2, r4
 165:firmwares/rotorcraft/navigation.c ****     int8_t sign_radius = radius > 0 ? 1 : -1;
 512              		.loc 1 165 0
 513 00c8 0029     		cmp	r1, #0
 514 00ca D4BF     		ite	le
 515 00cc FF23     		movle	r3, #255
 516 00ce 0123     		movgt	r3, #1
 517              	.LVL37:
 170:firmwares/rotorcraft/navigation.c ****     Bound(carrot_angle, (INT32_ANGLE_PI / 16), INT32_ANGLE_PI_4);
 518              		.loc 1 170 0
 519 00d0 B2F5496F 		cmp	r2, #3216
 520 00d4 05DC     		bgt	.L51
 170:firmwares/rotorcraft/navigation.c ****     Bound(carrot_angle, (INT32_ANGLE_PI / 16), INT32_ANGLE_PI_4);
 521              		.loc 1 170 0 is_stmt 0 discriminator 2
 522 00d6 B2F5497F 		cmp	r2, #804
 523 00da B8BF     		it	lt
 524 00dc 4FF44972 		movlt	r2, #804
 525              	.LVL38:
 526 00e0 01E0     		b	.L31
 527              	.LVL39:
 528              	.L51:
 170:firmwares/rotorcraft/navigation.c ****     Bound(carrot_angle, (INT32_ANGLE_PI / 16), INT32_ANGLE_PI_4);
 529              		.loc 1 170 0
 530 00e2 4FF44962 		mov	r2, #3216
 531              	.LVL40:
 532              	.L31:
 171:firmwares/rotorcraft/navigation.c ****     carrot_angle = nav_circle_qdr - sign_radius * carrot_angle;
 533              		.loc 1 171 0 is_stmt 1
 534 00e6 3D4E     		ldr	r6, .L64+12
 535 00e8 5BB2     		sxtb	r3, r3
 536              	.LVL41:
 537 00ea 3668     		ldr	r6, [r6, #0]
 538 00ec 02FB1363 		mls	r3, r2, r3, r6
 539              	.LVL42:
 540              	.LBB26:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 541              		.loc 1 173 0
 542 00f0 43F24326 		movw	r6, #12867
 543 00f4 1A46     		mov	r2, r3
 544 00f6 02E0     		b	.L32
 545              	.LVL43:
 546              	.L33:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 547              		.loc 1 173 0 is_stmt 0 discriminator 2
 548 00f8 A2F5C942 		sub	r2, r2, #25728
 549              	.LVL44:
 550 00fc 073A     		subs	r2, r2, #7
 551              	.LVL45:
 552              	.L32:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 553              		.loc 1 173 0 discriminator 1
 554 00fe B242     		cmp	r2, r6
 555 0100 FADC     		bgt	.L33
 556 0102 03E0     		b	.L62
 557              	.L35:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 558              		.loc 1 173 0 discriminator 5
 559 0104 02F5C942 		add	r2, r2, #25728
 560              	.LVL46:
 561 0108 0732     		adds	r2, r2, #7
 562              	.LVL47:
 563 010a 00E0     		b	.L56
 564              	.L62:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 565              		.loc 1 173 0 discriminator 4
 566 010c 354E     		ldr	r6, .L64+20
 567              	.L56:
 568 010e B242     		cmp	r2, r6
 569 0110 F8DB     		blt	.L35
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 570              		.loc 1 173 0
 571 0112 41F62116 		movw	r6, #6433
 572 0116 B242     		cmp	r2, r6
 573 0118 334E     		ldr	r6, .L64+24
 574 011a 03DD     		ble	.L36
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 575              		.loc 1 173 0 discriminator 7
 576 011c C2F54952 		rsb	r2, r2, #12864
 577              	.LVL48:
 578 0120 0332     		adds	r2, r2, #3
 579              	.LVL49:
 580 0122 0CE0     		b	.L37
 581              	.L36:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 582              		.loc 1 173 0 discriminator 8
 583 0124 6FF4C957 		mvn	r7, #6432
 584 0128 BA42     		cmp	r2, r7
 585 012a 06DA     		bge	.L38
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 586              		.loc 1 173 0 discriminator 9
 587 012c C2F17F42 		rsb	r2, r2, #-16777216
 588              	.LVL50:
 589 0130 02F57F02 		add	r2, r2, #16711680
 590 0134 02F54D42 		add	r2, r2, #52480
 591 0138 BD32     		adds	r2, r2, #189
 592              	.LVL51:
 593              	.L38:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 594              		.loc 1 173 0 discriminator 10
 595 013a 002A     		cmp	r2, #0
 596 013c 02DB     		blt	.L39
 597              	.L37:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 598              		.loc 1 173 0 discriminator 11
 599 013e 36F91260 		ldrsh	r6, [r6, r2, lsl #1]
 600              	.LVL52:
 601 0142 03E0     		b	.L40
 602              	.LVL53:
 603              	.L39:
 173:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_SIN(s_carrot, carrot_angle);
 604              		.loc 1 173 0 discriminator 12
 605 0144 5242     		negs	r2, r2
 606              	.LVL54:
 607 0146 36F91260 		ldrsh	r6, [r6, r2, lsl #1]
 608 014a 7642     		negs	r6, r6
 609              	.LVL55:
 610              	.L40:
 611              	.LBE26:
 612              	.LBB27:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 613              		.loc 1 174 0 is_stmt 1
 614 014c 03F5C953 		add	r3, r3, #6432
 615              	.LVL56:
 616 0150 0133     		adds	r3, r3, #1
 617              	.LVL57:
 618 0152 43F24322 		movw	r2, #12867
 619 0156 02E0     		b	.L41
 620              	.LVL58:
 621              	.L42:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 622              		.loc 1 174 0 is_stmt 0 discriminator 2
 623 0158 A3F5C943 		sub	r3, r3, #25728
 624              	.LVL59:
 625 015c 073B     		subs	r3, r3, #7
 626              	.LVL60:
 627              	.L41:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 628              		.loc 1 174 0 discriminator 1
 629 015e 9342     		cmp	r3, r2
 630 0160 FADC     		bgt	.L42
 631 0162 03E0     		b	.L63
 632              	.L44:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 633              		.loc 1 174 0 discriminator 5
 634 0164 03F5C943 		add	r3, r3, #25728
 635              	.LVL61:
 636 0168 0733     		adds	r3, r3, #7
 637              	.LVL62:
 638 016a 00E0     		b	.L58
 639              	.L63:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 640              		.loc 1 174 0 discriminator 4
 641 016c 1D4A     		ldr	r2, .L64+20
 642              	.L58:
 643 016e 9342     		cmp	r3, r2
 644 0170 F8DB     		blt	.L44
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 645              		.loc 1 174 0
 646 0172 41F62112 		movw	r2, #6433
 647 0176 9342     		cmp	r3, r2
 648 0178 1B4A     		ldr	r2, .L64+24
 649 017a 03DD     		ble	.L45
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 650              		.loc 1 174 0 discriminator 7
 651 017c C3F54953 		rsb	r3, r3, #12864
 652              	.LVL63:
 653 0180 0333     		adds	r3, r3, #3
 654              	.LVL64:
 655 0182 0CE0     		b	.L46
 656              	.L45:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 657              		.loc 1 174 0 discriminator 8
 658 0184 6FF4C957 		mvn	r7, #6432
 659 0188 BB42     		cmp	r3, r7
 660 018a 06DA     		bge	.L47
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 661              		.loc 1 174 0 discriminator 9
 662 018c C3F17F43 		rsb	r3, r3, #-16777216
 663              	.LVL65:
 664 0190 03F57F03 		add	r3, r3, #16711680
 665 0194 03F54D43 		add	r3, r3, #52480
 666 0198 BD33     		adds	r3, r3, #189
 667              	.LVL66:
 668              	.L47:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 669              		.loc 1 174 0 discriminator 10
 670 019a 002B     		cmp	r3, #0
 671 019c 02DB     		blt	.L48
 672              	.L46:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 673              		.loc 1 174 0 discriminator 11
 674 019e 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 675              	.LVL67:
 676 01a2 03E0     		b	.L49
 677              	.LVL68:
 678              	.L48:
 174:firmwares/rotorcraft/navigation.c ****     PPRZ_ITRIG_COS(c_carrot, carrot_angle);
 679              		.loc 1 174 0 discriminator 12
 680 01a4 5B42     		negs	r3, r3
 681              	.LVL69:
 682 01a6 32F91320 		ldrsh	r2, [r2, r3, lsl #1]
 683 01aa 5242     		negs	r2, r2
 684              	.LVL70:
 685              	.L49:
 686              	.LBE27:
 176:firmwares/rotorcraft/navigation.c ****     VECT2_ASSIGN(pos_diff, abs_radius * c_carrot, abs_radius * s_carrot);
 687              		.loc 1 176 0 is_stmt 1
 688 01ac 6243     		muls	r2, r4, r2
 689              	.LVL71:
 690 01ae 7443     		muls	r4, r6, r4
 691              	.LVL72:
 178:firmwares/rotorcraft/navigation.c ****     VECT2_SUM(navigation_target, waypoints[wp_center], pos_diff);
 692              		.loc 1 178 0
 693 01b0 084B     		ldr	r3, .L64+4
 694 01b2 05EBA235 		add	r5, r5, r2, asr #14
 695 01b6 0CEBA434 		add	r4, ip, r4, asr #14
 696 01ba 1D60     		str	r5, [r3, #0]
 697 01bc 5C60     		str	r4, [r3, #4]
 698              	.LVL73:
 699              	.L20:
 700              	.LBE21:
 180:firmwares/rotorcraft/navigation.c ****   nav_circle_centre = wp_center;
 701              		.loc 1 180 0
 702 01be 0B4B     		ldr	r3, .L64+28
 182:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_CIRCLE;
 703              		.loc 1 182 0
 704 01c0 0222     		movs	r2, #2
 180:firmwares/rotorcraft/navigation.c ****   nav_circle_centre = wp_center;
 705              		.loc 1 180 0
 706 01c2 1870     		strb	r0, [r3, #0]
 181:firmwares/rotorcraft/navigation.c ****   nav_circle_radius = radius;
 707              		.loc 1 181 0
 708 01c4 0A4B     		ldr	r3, .L64+32
 709 01c6 1960     		str	r1, [r3, #0]
 182:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_CIRCLE;
 710              		.loc 1 182 0
 711 01c8 0A4B     		ldr	r3, .L64+36
 712 01ca 1A70     		strb	r2, [r3, #0]
 183:firmwares/rotorcraft/navigation.c **** }
 713              		.loc 1 183 0
 714 01cc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 715              	.L65:
 716              		.align	2
 717              	.L64:
 718 01d0 00000000 		.word	.LANCHOR1
 719 01d4 00000000 		.word	.LANCHOR6
 720 01d8 00000000 		.word	ins_enu_pos
 721 01dc 00000000 		.word	.LANCHOR20
 722 01e0 00000000 		.word	.LANCHOR21
 723 01e4 BDCDFFFF 		.word	-12867
 724 01e8 00000000 		.word	pprz_trig_int
 725 01ec 00000000 		.word	.LANCHOR22
 726 01f0 00000000 		.word	.LANCHOR23
 727 01f4 00000000 		.word	.LANCHOR8
 728              		.cfi_endproc
 729              	.LFE31:
 731              		.section	.text.nav_route,"ax",%progbits
 732              		.align	1
 733              		.global	nav_route
 734              		.thumb
 735              		.thumb_func
 737              	nav_route:
 738              	.LFB32:
 187:firmwares/rotorcraft/navigation.c **** void nav_route(uint8_t wp_start, uint8_t wp_end) {
 739              		.loc 1 187 0
 740              		.cfi_startproc
 741              		@ args = 0, pretend = 0, frame = 0
 742              		@ frame_needed = 0, uses_anonymous_args = 0
 743              	.LVL74:
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 744              		.loc 1 189 0
 745 0000 0C23     		movs	r3, #12
 746 0002 03FB00F2 		mul	r2, r3, r0
 747 0006 4B43     		muls	r3, r1, r3
 187:firmwares/rotorcraft/navigation.c **** void nav_route(uint8_t wp_start, uint8_t wp_end) {
 748              		.loc 1 187 0
 749 0008 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, sl, lr}
 750              	.LCFI3:
 751              		.cfi_def_cfa_offset 32
 752              		.cfi_offset 14, -4
 753              		.cfi_offset 10, -8
 754              		.cfi_offset 9, -12
 755              		.cfi_offset 8, -16
 756              		.cfi_offset 7, -20
 757              		.cfi_offset 6, -24
 758              		.cfi_offset 5, -28
 759              		.cfi_offset 4, -32
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 760              		.loc 1 189 0
 761 000c 2D4D     		ldr	r5, .L72
 762              	.LBB28:
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 763              		.loc 1 195 0
 764 000e 4FF02808 		mov	r8, #40
 765              	.LBE28:
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 766              		.loc 1 189 0
 767 0012 AC18     		adds	r4, r5, r2
 768 0014 55F802C0 		ldr	ip, [r5, r2]
 769              	.LVL75:
 770 0018 6768     		ldr	r7, [r4, #4]
 771              	.LVL76:
 772 001a EA18     		adds	r2, r5, r3
 773 001c EC58     		ldr	r4, [r5, r3]
 774              	.LVL77:
 190:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_start]);
 775              		.loc 1 190 0
 776 001e 2A4B     		ldr	r3, .L72+4
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 777              		.loc 1 189 0
 778 0020 5268     		ldr	r2, [r2, #4]
 190:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_start]);
 779              		.loc 1 190 0
 780 0022 1E68     		ldr	r6, [r3, #0]
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 781              		.loc 1 189 0
 782 0024 D21B     		subs	r2, r2, r7
 190:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_start]);
 783              		.loc 1 190 0
 784 0026 CCEB0609 		rsb	r9, ip, r6
 785 002a 5E68     		ldr	r6, [r3, #4]
 192:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(wp_diff,wp_diff,INT32_POS_FRAC);
 786              		.loc 1 192 0
 787 002c 1212     		asrs	r2, r2, #8
 190:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(pos_diff, ins_enu_pos,waypoints[wp_start]);
 788              		.loc 1 190 0
 789 002e C7EB060A 		rsb	sl, r7, r6
 194:firmwares/rotorcraft/navigation.c ****   int32_t leg_length2 = Max((wp_diff.x * wp_diff.x + wp_diff.y * wp_diff.y),1);
 790              		.loc 1 194 0
 791 0032 02FB02F6 		mul	r6, r2, r2
 189:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(wp_diff, waypoints[wp_end],waypoints[wp_start]);
 792              		.loc 1 189 0
 793 0036 CCEB0404 		rsb	r4, ip, r4
 192:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(wp_diff,wp_diff,INT32_POS_FRAC);
 794              		.loc 1 192 0
 795 003a 2412     		asrs	r4, r4, #8
 796              	.LVL78:
 194:firmwares/rotorcraft/navigation.c ****   int32_t leg_length2 = Max((wp_diff.x * wp_diff.x + wp_diff.y * wp_diff.y),1);
 797              		.loc 1 194 0
 798 003c 04FB0466 		mla	r6, r4, r4, r6
 799 0040 012E     		cmp	r6, #1
 800 0042 B8BF     		it	lt
 801 0044 0126     		movlt	r6, #1
 193:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(pos_diff,pos_diff,INT32_POS_FRAC);
 802              		.loc 1 193 0
 803 0046 4FEA2929 		asr	r9, r9, #8
 804              	.LVL79:
 805 004a 4FEA2A2A 		asr	sl, sl, #8
 806              	.LVL80:
 807              	.LBB29:
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 808              		.loc 1 195 0
 809 004e 3546     		mov	r5, r6
 810 0050 00E0     		b	.L68
 811              	.LVL81:
 812              	.L71:
 813 0052 1D46     		mov	r5, r3
 814              	.LVL82:
 815              	.L68:
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 816              		.loc 1 195 0 is_stmt 0 discriminator 3
 817 0054 B6FBF5F3 		udiv	r3, r6, r5
 818              	.LVL83:
 819 0058 5B19     		adds	r3, r3, r5
 820              	.LVL84:
 821 005a 5B08     		lsrs	r3, r3, #1
 822              	.LVL85:
 823 005c ED1A     		subs	r5, r5, r3
 824              	.LVL86:
 825 005e 012D     		cmp	r5, #1
 826 0060 06D9     		bls	.L67
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 827              		.loc 1 195 0 discriminator 4
 828 0062 08F1FF38 		add	r8, r8, #-1
 829 0066 5FFA88F8 		uxtb	r8, r8
 830 006a B8F1000F 		cmp	r8, #0
 831 006e F0D1     		bne	.L71
 832              	.L67:
 833              	.LBE29:
 196:firmwares/rotorcraft/navigation.c ****   nav_leg_progress = (pos_diff.x * wp_diff.x + pos_diff.y * wp_diff.y) / nav_leg_length;
 834              		.loc 1 196 0 is_stmt 1 discriminator 5
 835 0070 02FB0AF6 		mul	r6, r2, sl
 836              	.LVL87:
 837 0074 04FB0966 		mla	r6, r4, r9, r6
 838              	.LBB30:
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 839              		.loc 1 195 0 discriminator 5
 840 0078 144D     		ldr	r5, .L72+8
 841              	.LBE30:
 196:firmwares/rotorcraft/navigation.c ****   nav_leg_progress = (pos_diff.x * wp_diff.x + pos_diff.y * wp_diff.y) / nav_leg_length;
 842              		.loc 1 196 0 discriminator 5
 843 007a 96FBF3F6 		sdiv	r6, r6, r3
 844              	.LBB31:
 195:firmwares/rotorcraft/navigation.c ****   INT32_SQRT(nav_leg_length,leg_length2);
 845              		.loc 1 195 0 discriminator 5
 846 007e 2B60     		str	r3, [r5, #0]
 847              	.LVL88:
 848              	.LBE31:
 198:firmwares/rotorcraft/navigation.c ****   nav_leg_progress += progress;
 849              		.loc 1 198 0 discriminator 5
 850 0080 0C36     		adds	r6, r6, #12
 851 0082 134D     		ldr	r5, .L72+12
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 852              		.loc 1 200 0 discriminator 5
 853 0084 9E42     		cmp	r6, r3
 198:firmwares/rotorcraft/navigation.c ****   nav_leg_progress += progress;
 854              		.loc 1 198 0 discriminator 5
 855 0086 2E60     		str	r6, [r5, #0]
 856              	.LVL89:
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 857              		.loc 1 200 0 discriminator 5
 858 0088 01DD     		ble	.L69
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 859              		.loc 1 200 0 is_stmt 0 discriminator 1
 860 008a 2B60     		str	r3, [r5, #0]
 861 008c 03E0     		b	.L70
 862              	.L69:
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 863              		.loc 1 200 0 discriminator 2
 864 008e 002E     		cmp	r6, #0
 865 0090 01DA     		bge	.L70
 200:firmwares/rotorcraft/navigation.c ****   Bound(nav_leg_progress, 0, prog_2);
 866              		.loc 1 200 0 discriminator 3
 867 0092 0026     		movs	r6, #0
 868 0094 2E60     		str	r6, [r5, #0]
 869              	.L70:
 202:firmwares/rotorcraft/navigation.c ****   VECT2_SMUL(progress_pos, wp_diff, nav_leg_progress);
 870              		.loc 1 202 0 is_stmt 1
 871 0096 2E68     		ldr	r6, [r5, #0]
 872              	.LVL90:
 205:firmwares/rotorcraft/navigation.c ****   VECT2_SUM(navigation_target,waypoints[wp_start],progress_pos);
 873              		.loc 1 205 0
 874 0098 0E4D     		ldr	r5, .L72+16
 202:firmwares/rotorcraft/navigation.c ****   VECT2_SMUL(progress_pos, wp_diff, nav_leg_progress);
 875              		.loc 1 202 0
 876 009a 7243     		muls	r2, r6, r2
 877              	.LVL91:
 878 009c 7443     		muls	r4, r6, r4
 879              	.LVL92:
 203:firmwares/rotorcraft/navigation.c ****   VECT2_SDIV(progress_pos, progress_pos, nav_leg_length);
 880              		.loc 1 203 0
 881 009e 94FBF3F4 		sdiv	r4, r4, r3
 882 00a2 92FBF3F3 		sdiv	r3, r2, r3
 883              	.LVL93:
 205:firmwares/rotorcraft/navigation.c ****   VECT2_SUM(navigation_target,waypoints[wp_start],progress_pos);
 884              		.loc 1 205 0
 885 00a6 07EB0327 		add	r7, r7, r3, lsl #8
 216:firmwares/rotorcraft/navigation.c ****   nav_segment_start = wp_start;
 886              		.loc 1 216 0
 887 00aa 0B4B     		ldr	r3, .L72+20
 205:firmwares/rotorcraft/navigation.c ****   VECT2_SUM(navigation_target,waypoints[wp_start],progress_pos);
 888              		.loc 1 205 0
 889 00ac 0CEB0424 		add	r4, ip, r4, lsl #8
 216:firmwares/rotorcraft/navigation.c ****   nav_segment_start = wp_start;
 890              		.loc 1 216 0
 891 00b0 1870     		strb	r0, [r3, #0]
 217:firmwares/rotorcraft/navigation.c ****   nav_segment_end = wp_end;
 892              		.loc 1 217 0
 893 00b2 0A4B     		ldr	r3, .L72+24
 218:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_ROUTE;
 894              		.loc 1 218 0
 895 00b4 0122     		movs	r2, #1
 217:firmwares/rotorcraft/navigation.c ****   nav_segment_end = wp_end;
 896              		.loc 1 217 0
 897 00b6 1970     		strb	r1, [r3, #0]
 218:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_ROUTE;
 898              		.loc 1 218 0
 899 00b8 094B     		ldr	r3, .L72+28
 205:firmwares/rotorcraft/navigation.c ****   VECT2_SUM(navigation_target,waypoints[wp_start],progress_pos);
 900              		.loc 1 205 0
 901 00ba 2C60     		str	r4, [r5, #0]
 902 00bc 6F60     		str	r7, [r5, #4]
 218:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_ROUTE;
 903              		.loc 1 218 0
 904 00be 1A70     		strb	r2, [r3, #0]
 219:firmwares/rotorcraft/navigation.c **** }
 905              		.loc 1 219 0
 906 00c0 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, sl, pc}
 907              	.L73:
 908              		.align	2
 909              	.L72:
 910 00c4 00000000 		.word	.LANCHOR1
 911 00c8 00000000 		.word	ins_enu_pos
 912 00cc 00000000 		.word	.LANCHOR18
 913 00d0 00000000 		.word	.LANCHOR17
 914 00d4 00000000 		.word	.LANCHOR6
 915 00d8 00000000 		.word	.LANCHOR24
 916 00dc 00000000 		.word	.LANCHOR25
 917 00e0 00000000 		.word	.LANCHOR8
 918              		.cfi_endproc
 919              	.LFE32:
 921              		.section	.text.nav_approaching_from,"ax",%progbits
 922              		.align	1
 923              		.global	nav_approaching_from
 924              		.thumb
 925              		.thumb_func
 927              	nav_approaching_from:
 928              	.LFB33:
 221:firmwares/rotorcraft/navigation.c **** bool_t nav_approaching_from(uint8_t wp_idx, uint8_t from_idx) {
 929              		.loc 1 221 0
 930              		.cfi_startproc
 931              		@ args = 0, pretend = 0, frame = 0
 932              		@ frame_needed = 0, uses_anonymous_args = 0
 933              	.LVL94:
 225:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(diff, waypoints[wp_idx], ins_enu_pos);
 934              		.loc 1 225 0
 935 0000 0C22     		movs	r2, #12
 936 0002 4243     		muls	r2, r0, r2
 937 0004 234B     		ldr	r3, .L85
 221:firmwares/rotorcraft/navigation.c **** bool_t nav_approaching_from(uint8_t wp_idx, uint8_t from_idx) {
 938              		.loc 1 221 0
 939 0006 F0B5     		push	{r4, r5, r6, r7, lr}
 940              	.LCFI4:
 941              		.cfi_def_cfa_offset 20
 942              		.cfi_offset 14, -4
 943              		.cfi_offset 7, -8
 944              		.cfi_offset 6, -12
 945              		.cfi_offset 5, -16
 946              		.cfi_offset 4, -20
 225:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(diff, waypoints[wp_idx], ins_enu_pos);
 947              		.loc 1 225 0
 948 0008 9818     		adds	r0, r3, r2
 949              	.LVL95:
 950 000a 53F802C0 		ldr	ip, [r3, r2]
 951              	.LVL96:
 952 000e 224B     		ldr	r3, .L85+4
 953 0010 4068     		ldr	r0, [r0, #4]
 954              	.LVL97:
 955 0012 5C68     		ldr	r4, [r3, #4]
 956 0014 1A68     		ldr	r2, [r3, #0]
 957 0016 041B     		subs	r4, r0, r4
 226:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(diff,diff,INT32_POS_FRAC);
 958              		.loc 1 226 0
 959 0018 2412     		asrs	r4, r4, #8
 960              	.LBB32:
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 961              		.loc 1 227 0
 962 001a 04FB04F7 		mul	r7, r4, r4
 963              	.LBE32:
 225:firmwares/rotorcraft/navigation.c ****   VECT2_DIFF(diff, waypoints[wp_idx], ins_enu_pos);
 964              		.loc 1 225 0
 965 001e C2EB0C02 		rsb	r2, r2, ip
 226:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_RSHIFT(diff,diff,INT32_POS_FRAC);
 966              		.loc 1 226 0
 967 0022 1212     		asrs	r2, r2, #8
 968              	.LVL98:
 969              	.LBB34:
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 970              		.loc 1 227 0
 971 0024 02FB0277 		mla	r7, r2, r2, r7
 972              	.LVL99:
 973 0028 87B1     		cbz	r7, .L75
 974              	.LVL100:
 975              	.LBB33:
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 976              		.loc 1 227 0 is_stmt 0 discriminator 2
 977 002a 3B46     		mov	r3, r7
 978 002c 2826     		movs	r6, #40
 979 002e 00E0     		b	.L77
 980              	.LVL101:
 981              	.L81:
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 982              		.loc 1 227 0
 983 0030 2B46     		mov	r3, r5
 984              	.LVL102:
 985              	.L77:
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 986              		.loc 1 227 0 discriminator 3
 987 0032 B7FBF3F5 		udiv	r5, r7, r3
 988              	.LVL103:
 989 0036 ED18     		adds	r5, r5, r3
 990              	.LVL104:
 991 0038 6D08     		lsrs	r5, r5, #1
 992              	.LVL105:
 993 003a 5B1B     		subs	r3, r3, r5
 994              	.LVL106:
 995 003c 012B     		cmp	r3, #1
 996 003e 03D9     		bls	.L76
 227:firmwares/rotorcraft/navigation.c ****   INT32_VECT2_NORM(dist_to_point, diff);
 997              		.loc 1 227 0 discriminator 4
 998 0040 013E     		subs	r6, r6, #1
 999 0042 F6B2     		uxtb	r6, r6
 1000 0044 002E     		cmp	r6, #0
 1001 0046 F3D1     		bne	.L81
 1002              	.L76:
 1003              	.LVL107:
 1004              	.LBE33:
 1005              	.LBE34:
 231:firmwares/rotorcraft/navigation.c ****   if (dist_to_point < (ARRIVED_AT_WAYPOINT >> INT32_POS_FRAC)) time_at_wp++;
 1006              		.loc 1 231 0 is_stmt 1 discriminator 5
 1007 0048 022D     		cmp	r5, #2
 1008 004a 03DC     		bgt	.L78
 1009              	.LVL108:
 1010              	.L75:
 231:firmwares/rotorcraft/navigation.c ****   if (dist_to_point < (ARRIVED_AT_WAYPOINT >> INT32_POS_FRAC)) time_at_wp++;
 1011              		.loc 1 231 0 is_stmt 0 discriminator 1
 1012 004c 134B     		ldr	r3, .L85+8
 1013 004e 1D78     		ldrb	r5, [r3, #0]	@ zero_extendqisi2
 1014 0050 0135     		adds	r5, r5, #1
 1015 0052 01E0     		b	.L84
 1016              	.LVL109:
 1017              	.L78:
 232:firmwares/rotorcraft/navigation.c ****   else time_at_wp = 0;
 1018              		.loc 1 232 0 is_stmt 1
 1019 0054 114B     		ldr	r3, .L85+8
 1020 0056 0025     		movs	r5, #0
 1021              	.LVL110:
 1022              	.L84:
 1023 0058 1D70     		strb	r5, [r3, #0]
 233:firmwares/rotorcraft/navigation.c ****   if (time_at_wp > 20) return TRUE;
 1024              		.loc 1 233 0
 1025 005a 104B     		ldr	r3, .L85+8
 1026 005c 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 1027 005e 142B     		cmp	r3, #20
 1028 0060 13D8     		bhi	.L82
 234:firmwares/rotorcraft/navigation.c ****   if (from_idx > 0 && from_idx < NB_WAYPOINT) {
 1029              		.loc 1 234 0
 1030 0062 4B1E     		subs	r3, r1, #1
 1031 0064 082B     		cmp	r3, #8
 1032 0066 12D8     		bhi	.L83
 1033              	.LVL111:
 1034              	.LBB35:
 236:firmwares/rotorcraft/navigation.c ****     VECT2_DIFF(from_diff, waypoints[wp_idx],waypoints[from_idx]);
 1035              		.loc 1 236 0
 1036 0068 0C25     		movs	r5, #12
 1037 006a 6943     		muls	r1, r5, r1
 1038              	.LVL112:
 1039 006c 094B     		ldr	r3, .L85
 1040              	.LVL113:
 1041 006e 5D18     		adds	r5, r3, r1
 1042 0070 5B58     		ldr	r3, [r3, r1]
 1043 0072 C3EB0C0C 		rsb	ip, r3, ip
 1044 0076 6B68     		ldr	r3, [r5, #4]
 237:firmwares/rotorcraft/navigation.c ****     INT32_VECT2_RSHIFT(from_diff,from_diff,INT32_POS_FRAC);
 1045              		.loc 1 237 0
 1046 0078 4FEA2C2C 		asr	ip, ip, #8
 236:firmwares/rotorcraft/navigation.c ****     VECT2_DIFF(from_diff, waypoints[wp_idx],waypoints[from_idx]);
 1047              		.loc 1 236 0
 1048 007c C01A     		subs	r0, r0, r3
 237:firmwares/rotorcraft/navigation.c ****     INT32_VECT2_RSHIFT(from_diff,from_diff,INT32_POS_FRAC);
 1049              		.loc 1 237 0
 1050 007e 0012     		asrs	r0, r0, #8
 238:firmwares/rotorcraft/navigation.c ****     return (diff.x * from_diff.x + diff.y * from_diff.y < 0);
 1051              		.loc 1 238 0
 1052 0080 4443     		muls	r4, r0, r4
 1053              	.LVL114:
 1054 0082 0CFB0240 		mla	r0, ip, r2, r4
 1055 0086 C00F     		lsrs	r0, r0, #31
 1056 0088 F0BD     		pop	{r4, r5, r6, r7, pc}
 1057              	.LVL115:
 1058              	.L82:
 1059              	.LBE35:
 233:firmwares/rotorcraft/navigation.c ****   if (time_at_wp > 20) return TRUE;
 1060              		.loc 1 233 0
 1061 008a 0120     		movs	r0, #1
 1062 008c F0BD     		pop	{r4, r5, r6, r7, pc}
 1063              	.L83:
 240:firmwares/rotorcraft/navigation.c ****   else return FALSE;
 1064              		.loc 1 240 0
 1065 008e 0020     		movs	r0, #0
 241:firmwares/rotorcraft/navigation.c **** }
 1066              		.loc 1 241 0
 1067 0090 F0BD     		pop	{r4, r5, r6, r7, pc}
 1068              	.L86:
 1069 0092 00BF     		.align	2
 1070              	.L85:
 1071 0094 00000000 		.word	.LANCHOR1
 1072 0098 00000000 		.word	ins_enu_pos
 1073 009c 00000000 		.word	.LANCHOR26
 1074              		.cfi_endproc
 1075              	.LFE33:
 1077              		.section	.text.nav_reset_reference,"ax",%progbits
 1078              		.align	1
 1079              		.global	nav_reset_reference
 1080              		.thumb
 1081              		.thumb_func
 1083              	nav_reset_reference:
 1084              	.LFB35:
 248:firmwares/rotorcraft/navigation.c ****   }
 249:firmwares/rotorcraft/navigation.c **** }
 250:firmwares/rotorcraft/navigation.c **** 
 251:firmwares/rotorcraft/navigation.c **** 
 252:firmwares/rotorcraft/navigation.c **** /** Reset the geographic reference to the current GPS fix */
 253:firmwares/rotorcraft/navigation.c **** unit_t nav_reset_reference( void ) {
 1085              		.loc 1 253 0
 1086              		.cfi_startproc
 1087              		@ args = 0, pretend = 0, frame = 0
 1088              		@ frame_needed = 0, uses_anonymous_args = 0
 1089              		@ link register save eliminated.
 254:firmwares/rotorcraft/navigation.c ****   ins_ltp_initialised = FALSE;
 1090              		.loc 1 254 0
 1091 0000 044B     		ldr	r3, .L88
 1092 0002 0020     		movs	r0, #0
 255:firmwares/rotorcraft/navigation.c ****   ins_hf_realign = TRUE;
 1093              		.loc 1 255 0
 1094 0004 044A     		ldr	r2, .L88+4
 254:firmwares/rotorcraft/navigation.c ****   ins_ltp_initialised = FALSE;
 1095              		.loc 1 254 0
 1096 0006 1870     		strb	r0, [r3, #0]
 1097              		.loc 1 255 0
 1098 0008 0123     		movs	r3, #1
 1099 000a 1370     		strb	r3, [r2, #0]
 256:firmwares/rotorcraft/navigation.c ****   ins_vf_realign = TRUE;
 1100              		.loc 1 256 0
 1101 000c 034A     		ldr	r2, .L88+8
 1102 000e 1370     		strb	r3, [r2, #0]
 257:firmwares/rotorcraft/navigation.c ****   return 0;
 258:firmwares/rotorcraft/navigation.c **** }
 1103              		.loc 1 258 0
 1104 0010 7047     		bx	lr
 1105              	.L89:
 1106 0012 00BF     		.align	2
 1107              	.L88:
 1108 0014 00000000 		.word	ins_ltp_initialised
 1109 0018 00000000 		.word	ins_hf_realign
 1110 001c 00000000 		.word	ins_vf_realign
 1111              		.cfi_endproc
 1112              	.LFE35:
 1114              		.section	.text.nav_reset_alt,"ax",%progbits
 1115              		.align	1
 1116              		.global	nav_reset_alt
 1117              		.thumb
 1118              		.thumb_func
 1120              	nav_reset_alt:
 1121              	.LFB36:
 259:firmwares/rotorcraft/navigation.c **** 
 260:firmwares/rotorcraft/navigation.c **** unit_t nav_reset_alt( void ) {
 1122              		.loc 1 260 0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		@ link register save eliminated.
 261:firmwares/rotorcraft/navigation.c ****   ins_vf_realign = TRUE;
 1127              		.loc 1 261 0
 1128 0000 054B     		ldr	r3, .L91
 1129 0002 0122     		movs	r2, #1
 1130 0004 1A70     		strb	r2, [r3, #0]
 262:firmwares/rotorcraft/navigation.c **** 
 263:firmwares/rotorcraft/navigation.c **** #if USE_GPS
 264:firmwares/rotorcraft/navigation.c ****   ins_ltp_def.lla.alt = gps.lla_pos.alt;
 1131              		.loc 1 264 0
 1132 0006 054A     		ldr	r2, .L91+4
 1133 0008 054B     		ldr	r3, .L91+8
 1134 000a 5169     		ldr	r1, [r2, #20]
 265:firmwares/rotorcraft/navigation.c ****   ins_ltp_def.hmsl = gps.hmsl;
 1135              		.loc 1 265 0
 1136 000c 926A     		ldr	r2, [r2, #40]
 264:firmwares/rotorcraft/navigation.c ****   ins_ltp_def.lla.alt = gps.lla_pos.alt;
 1137              		.loc 1 264 0
 1138 000e 5961     		str	r1, [r3, #20]
 1139              		.loc 1 265 0
 1140 0010 DA63     		str	r2, [r3, #60]
 266:firmwares/rotorcraft/navigation.c **** #endif
 267:firmwares/rotorcraft/navigation.c **** 
 268:firmwares/rotorcraft/navigation.c ****   return 0;
 269:firmwares/rotorcraft/navigation.c **** }
 1141              		.loc 1 269 0
 1142 0012 0020     		movs	r0, #0
 1143 0014 7047     		bx	lr
 1144              	.L92:
 1145 0016 00BF     		.align	2
 1146              	.L91:
 1147 0018 00000000 		.word	ins_vf_realign
 1148 001c 00000000 		.word	gps
 1149 0020 00000000 		.word	ins_ltp_def
 1150              		.cfi_endproc
 1151              	.LFE36:
 1153              		.section	.text.nav_init_stage,"ax",%progbits
 1154              		.align	1
 1155              		.global	nav_init_stage
 1156              		.thumb
 1157              		.thumb_func
 1159              	nav_init_stage:
 1160              	.LFB37:
 270:firmwares/rotorcraft/navigation.c **** 
 271:firmwares/rotorcraft/navigation.c **** void nav_init_stage( void ) {
 1161              		.loc 1 271 0
 1162              		.cfi_startproc
 1163              		@ args = 0, pretend = 0, frame = 0
 1164              		@ frame_needed = 0, uses_anonymous_args = 0
 1165              		@ link register save eliminated.
 272:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_COPY(nav_last_point, ins_enu_pos);
 1166              		.loc 1 272 0
 1167 0000 084A     		ldr	r2, .L94
 1168 0002 094B     		ldr	r3, .L94+4
 1169 0004 1168     		ldr	r1, [r2, #0]
 1170 0006 1960     		str	r1, [r3, #0]
 1171 0008 5168     		ldr	r1, [r2, #4]
 1172 000a 9268     		ldr	r2, [r2, #8]
 1173 000c 5960     		str	r1, [r3, #4]
 273:firmwares/rotorcraft/navigation.c ****   stage_time = 0;
 1174              		.loc 1 273 0
 1175 000e 0749     		ldr	r1, .L94+8
 272:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_COPY(nav_last_point, ins_enu_pos);
 1176              		.loc 1 272 0
 1177 0010 9A60     		str	r2, [r3, #8]
 1178              		.loc 1 273 0
 1179 0012 0023     		movs	r3, #0
 1180 0014 0B80     		strh	r3, [r1, #0]	@ movhi
 274:firmwares/rotorcraft/navigation.c ****   nav_circle_radians = 0;
 1181              		.loc 1 274 0
 1182 0016 0649     		ldr	r1, .L94+12
 273:firmwares/rotorcraft/navigation.c ****   stage_time = 0;
 1183              		.loc 1 273 0
 1184 0018 1A46     		mov	r2, r3	@ movhi
 1185              		.loc 1 274 0
 1186 001a 0B60     		str	r3, [r1, #0]
 275:firmwares/rotorcraft/navigation.c ****   horizontal_mode = HORIZONTAL_MODE_WAYPOINT;
 1187              		.loc 1 275 0
 1188 001c 054B     		ldr	r3, .L94+16
 1189 001e 1A70     		strb	r2, [r3, #0]
 276:firmwares/rotorcraft/navigation.c **** }
 1190              		.loc 1 276 0
 1191 0020 7047     		bx	lr
 1192              	.L95:
 1193 0022 00BF     		.align	2
 1194              	.L94:
 1195 0024 00000000 		.word	ins_enu_pos
 1196 0028 00000000 		.word	.LANCHOR27
 1197 002c 00000000 		.word	stage_time
 1198 0030 00000000 		.word	.LANCHOR21
 1199 0034 00000000 		.word	.LANCHOR8
 1200              		.cfi_endproc
 1201              	.LFE37:
 1203              		.section	.text.nav_move_waypoint,"ax",%progbits
 1204              		.align	1
 1205              		.global	nav_move_waypoint
 1206              		.thumb
 1207              		.thumb_func
 1209              	nav_move_waypoint:
 1210              	.LFB43:
 277:firmwares/rotorcraft/navigation.c **** 
 278:firmwares/rotorcraft/navigation.c **** #include <stdio.h>
 279:firmwares/rotorcraft/navigation.c **** void nav_periodic_task() {
 280:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(16, { stage_time++;  block_time++; });
 281:firmwares/rotorcraft/navigation.c **** 
 282:firmwares/rotorcraft/navigation.c ****   /* from flight_plan.h */
 283:firmwares/rotorcraft/navigation.c ****   auto_nav();
 284:firmwares/rotorcraft/navigation.c **** 
 285:firmwares/rotorcraft/navigation.c ****   /* run carrot loop */
 286:firmwares/rotorcraft/navigation.c ****   nav_run();
 287:firmwares/rotorcraft/navigation.c **** 
 288:firmwares/rotorcraft/navigation.c ****   ground_alt = POS_BFP_OF_REAL((float)ins_ltp_def.hmsl / 1000.);
 289:firmwares/rotorcraft/navigation.c **** }
 290:firmwares/rotorcraft/navigation.c **** 
 291:firmwares/rotorcraft/navigation.c **** #include "subsystems/datalink/downlink.h"
 292:firmwares/rotorcraft/navigation.c **** #include "messages.h"
 293:firmwares/rotorcraft/navigation.c **** #include "mcu_periph/uart.h"
 294:firmwares/rotorcraft/navigation.c **** void nav_move_waypoint(uint8_t wp_id, struct EnuCoor_i * new_pos) {
 1211              		.loc 1 294 0
 1212              		.cfi_startproc
 1213              		@ args = 0, pretend = 0, frame = 0
 1214              		@ frame_needed = 0, uses_anonymous_args = 0
 1215              	.LVL116:
 295:firmwares/rotorcraft/navigation.c ****   if (wp_id < nb_waypoint) {
 1216              		.loc 1 295 0
 1217 0000 0928     		cmp	r0, #9
 294:firmwares/rotorcraft/navigation.c **** void nav_move_waypoint(uint8_t wp_id, struct EnuCoor_i * new_pos) {
 1218              		.loc 1 294 0
 1219 0002 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1220              	.LCFI5:
 1221              		.cfi_def_cfa_offset 24
 1222              		.cfi_offset 14, -4
 1223              		.cfi_offset 7, -8
 1224              		.cfi_offset 6, -12
 1225              		.cfi_offset 5, -16
 1226              		.cfi_offset 4, -20
 1227              		.cfi_offset 3, -24
 294:firmwares/rotorcraft/navigation.c **** void nav_move_waypoint(uint8_t wp_id, struct EnuCoor_i * new_pos) {
 1228              		.loc 1 294 0
 1229 0004 0746     		mov	r7, r0
 1230 0006 0E46     		mov	r6, r1
 1231              		.loc 1 295 0
 1232 0008 00F2D380 		bhi	.L96
 296:firmwares/rotorcraft/navigation.c ****     INT32_VECT3_COPY(waypoints[wp_id],(*new_pos));
 1233              		.loc 1 296 0
 1234 000c 0C22     		movs	r2, #12
 1235 000e 7A43     		muls	r2, r7, r2
 1236 0010 0868     		ldr	r0, [r1, #0]
 1237              	.LVL117:
 1238 0012 6849     		ldr	r1, .L99
 1239              	.LVL118:
 1240 0014 8B18     		adds	r3, r1, r2
 1241 0016 8850     		str	r0, [r1, r2]
 1242 0018 7268     		ldr	r2, [r6, #4]
 297:firmwares/rotorcraft/navigation.c ****     DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp_id, &(new_pos->x), &(new_pos->y),
 1243              		.loc 1 297 0
 1244 001a 6748     		ldr	r0, .L99+4
 296:firmwares/rotorcraft/navigation.c ****     INT32_VECT3_COPY(waypoints[wp_id],(*new_pos));
 1245              		.loc 1 296 0
 1246 001c 5A60     		str	r2, [r3, #4]
 1247 001e B268     		ldr	r2, [r6, #8]
 1248              		.loc 1 297 0
 1249 0020 1321     		movs	r1, #19
 296:firmwares/rotorcraft/navigation.c ****     INT32_VECT3_COPY(waypoints[wp_id],(*new_pos));
 1250              		.loc 1 296 0
 1251 0022 9A60     		str	r2, [r3, #8]
 1252              		.loc 1 297 0
 1253 0024 FFF7FEFF 		bl	uart_check_free_space
 1254 0028 0028     		cmp	r0, #0
 1255 002a 00F0BE80 		beq	.L98
 1256              		.loc 1 297 0 is_stmt 0 discriminator 1
 1257 002e 634B     		ldr	r3, .L99+8
 1258              	.LBB36:
 1259 0030 9921     		movs	r1, #153
 1260              	.LBE36:
 1261 0032 1A88     		ldrh	r2, [r3, #0]
 1262              	.LBB37:
 1263 0034 6048     		ldr	r0, .L99+4
 1264              	.LBE37:
 1265 0036 1332     		adds	r2, r2, #19
 1266 0038 1A80     		strh	r2, [r3, #0]	@ movhi
 1267 003a 614B     		ldr	r3, .L99+12
 1268 003c 614D     		ldr	r5, .L99+16
 1269 003e 1A88     		ldrh	r2, [r3, #0]
 1270 0040 614C     		ldr	r4, .L99+20
 1271 0042 0132     		adds	r2, r2, #1
 1272 0044 1A80     		strh	r2, [r3, #0]	@ movhi
 1273              	.LBB38:
 1274 0046 FFF7FEFF 		bl	uart_transmit
 1275              	.LVL119:
 1276 004a 1321     		movs	r1, #19
 1277 004c 5A48     		ldr	r0, .L99+4
 1278 004e FFF7FEFF 		bl	uart_transmit
 1279              	.LBE38:
 1280 0052 B523     		movs	r3, #181
 1281 0054 2B70     		strb	r3, [r5, #0]
 1282 0056 A221     		movs	r1, #162
 1283 0058 C823     		movs	r3, #200
 1284 005a 5748     		ldr	r0, .L99+4
 1285 005c 2370     		strb	r3, [r4, #0]
 1286 005e FFF7FEFF 		bl	uart_transmit
 1287 0062 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1288 0064 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1289 0066 3133     		adds	r3, r3, #49
 1290 0068 DBB2     		uxtb	r3, r3
 1291              	.LVL120:
 1292 006a 2B70     		strb	r3, [r5, #0]
 1293 006c 3121     		movs	r1, #49
 1294 006e 9B18     		adds	r3, r3, r2
 1295              	.LVL121:
 1296 0070 5148     		ldr	r0, .L99+4
 1297 0072 2370     		strb	r3, [r4, #0]
 1298 0074 FFF7FEFF 		bl	uart_transmit
 1299              	.LVL122:
 1300              	.LBB39:
 1301 0078 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1302 007a 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1303 007c FB18     		adds	r3, r7, r3
 1304 007e DBB2     		uxtb	r3, r3
 1305              	.LVL123:
 1306 0080 2B70     		strb	r3, [r5, #0]
 1307 0082 3946     		mov	r1, r7
 1308 0084 9B18     		adds	r3, r3, r2
 1309              	.LVL124:
 1310 0086 4C48     		ldr	r0, .L99+4
 1311 0088 2370     		strb	r3, [r4, #0]
 1312 008a FFF7FEFF 		bl	uart_transmit
 1313              	.LBE39:
 1314              	.LBB40:
 1315 008e 3178     		ldrb	r1, [r6, #0]	@ zero_extendqisi2
 1316              	.LVL125:
 1317 0090 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1318 0092 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1319 0094 CB18     		adds	r3, r1, r3
 1320 0096 DBB2     		uxtb	r3, r3
 1321              	.LVL126:
 1322 0098 2B70     		strb	r3, [r5, #0]
 1323 009a 4748     		ldr	r0, .L99+4
 1324 009c 9B18     		adds	r3, r3, r2
 1325              	.LVL127:
 1326 009e 2370     		strb	r3, [r4, #0]
 1327 00a0 FFF7FEFF 		bl	uart_transmit
 1328              	.LVL128:
 1329              	.LBE40:
 1330              	.LBB41:
 1331 00a4 7178     		ldrb	r1, [r6, #1]	@ zero_extendqisi2
 1332              	.LVL129:
 1333 00a6 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1334 00a8 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1335 00aa CB18     		adds	r3, r1, r3
 1336 00ac DBB2     		uxtb	r3, r3
 1337              	.LVL130:
 1338 00ae 2B70     		strb	r3, [r5, #0]
 1339 00b0 4148     		ldr	r0, .L99+4
 1340 00b2 9B18     		adds	r3, r3, r2
 1341              	.LVL131:
 1342 00b4 2370     		strb	r3, [r4, #0]
 1343 00b6 FFF7FEFF 		bl	uart_transmit
 1344              	.LVL132:
 1345              	.LBE41:
 1346              	.LBB42:
 1347 00ba B178     		ldrb	r1, [r6, #2]	@ zero_extendqisi2
 1348              	.LVL133:
 1349 00bc 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1350 00be 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1351 00c0 CB18     		adds	r3, r1, r3
 1352 00c2 DBB2     		uxtb	r3, r3
 1353              	.LVL134:
 1354 00c4 2B70     		strb	r3, [r5, #0]
 1355 00c6 3C48     		ldr	r0, .L99+4
 1356 00c8 9B18     		adds	r3, r3, r2
 1357              	.LVL135:
 1358 00ca 2370     		strb	r3, [r4, #0]
 1359 00cc FFF7FEFF 		bl	uart_transmit
 1360              	.LVL136:
 1361              	.LBE42:
 1362              	.LBB43:
 1363 00d0 F178     		ldrb	r1, [r6, #3]	@ zero_extendqisi2
 1364              	.LVL137:
 1365 00d2 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1366 00d4 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1367 00d6 CB18     		adds	r3, r1, r3
 1368 00d8 DBB2     		uxtb	r3, r3
 1369              	.LVL138:
 1370 00da 2B70     		strb	r3, [r5, #0]
 1371 00dc 3648     		ldr	r0, .L99+4
 1372 00de 9B18     		adds	r3, r3, r2
 1373              	.LVL139:
 1374 00e0 2370     		strb	r3, [r4, #0]
 1375 00e2 FFF7FEFF 		bl	uart_transmit
 1376              	.LVL140:
 1377              	.LBE43:
 1378              	.LBB44:
 1379 00e6 3179     		ldrb	r1, [r6, #4]	@ zero_extendqisi2
 1380              	.LVL141:
 1381 00e8 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1382 00ea 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1383 00ec CB18     		adds	r3, r1, r3
 1384 00ee DBB2     		uxtb	r3, r3
 1385              	.LVL142:
 1386 00f0 2B70     		strb	r3, [r5, #0]
 1387 00f2 3148     		ldr	r0, .L99+4
 1388 00f4 9B18     		adds	r3, r3, r2
 1389              	.LVL143:
 1390 00f6 2370     		strb	r3, [r4, #0]
 1391 00f8 FFF7FEFF 		bl	uart_transmit
 1392              	.LVL144:
 1393              	.LBE44:
 1394              	.LBB45:
 1395 00fc 7179     		ldrb	r1, [r6, #5]	@ zero_extendqisi2
 1396              	.LVL145:
 1397 00fe 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1398 0100 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1399 0102 CB18     		adds	r3, r1, r3
 1400 0104 DBB2     		uxtb	r3, r3
 1401              	.LVL146:
 1402 0106 2B70     		strb	r3, [r5, #0]
 1403 0108 2B48     		ldr	r0, .L99+4
 1404 010a 9B18     		adds	r3, r3, r2
 1405              	.LVL147:
 1406 010c 2370     		strb	r3, [r4, #0]
 1407 010e FFF7FEFF 		bl	uart_transmit
 1408              	.LVL148:
 1409              	.LBE45:
 1410              	.LBB46:
 1411 0112 B179     		ldrb	r1, [r6, #6]	@ zero_extendqisi2
 1412              	.LVL149:
 1413 0114 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1414 0116 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1415 0118 CB18     		adds	r3, r1, r3
 1416 011a DBB2     		uxtb	r3, r3
 1417              	.LVL150:
 1418 011c 2B70     		strb	r3, [r5, #0]
 1419 011e 2648     		ldr	r0, .L99+4
 1420 0120 9B18     		adds	r3, r3, r2
 1421              	.LVL151:
 1422 0122 2370     		strb	r3, [r4, #0]
 1423 0124 FFF7FEFF 		bl	uart_transmit
 1424              	.LVL152:
 1425              	.LBE46:
 1426              	.LBB47:
 1427 0128 F179     		ldrb	r1, [r6, #7]	@ zero_extendqisi2
 1428              	.LVL153:
 1429 012a 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1430 012c 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1431 012e CB18     		adds	r3, r1, r3
 1432 0130 DBB2     		uxtb	r3, r3
 1433              	.LVL154:
 1434 0132 2B70     		strb	r3, [r5, #0]
 1435 0134 2048     		ldr	r0, .L99+4
 1436 0136 9B18     		adds	r3, r3, r2
 1437              	.LVL155:
 1438 0138 2370     		strb	r3, [r4, #0]
 1439 013a FFF7FEFF 		bl	uart_transmit
 1440              	.LVL156:
 1441              	.LBE47:
 1442              	.LBB48:
 1443 013e 317A     		ldrb	r1, [r6, #8]	@ zero_extendqisi2
 1444              	.LVL157:
 1445 0140 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1446 0142 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1447 0144 CB18     		adds	r3, r1, r3
 1448 0146 DBB2     		uxtb	r3, r3
 1449              	.LVL158:
 1450 0148 2B70     		strb	r3, [r5, #0]
 1451 014a 1B48     		ldr	r0, .L99+4
 1452 014c 9B18     		adds	r3, r3, r2
 1453              	.LVL159:
 1454 014e 2370     		strb	r3, [r4, #0]
 1455 0150 FFF7FEFF 		bl	uart_transmit
 1456              	.LVL160:
 1457              	.LBE48:
 1458              	.LBB49:
 1459 0154 717A     		ldrb	r1, [r6, #9]	@ zero_extendqisi2
 1460              	.LVL161:
 1461 0156 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1462 0158 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1463 015a CB18     		adds	r3, r1, r3
 1464 015c DBB2     		uxtb	r3, r3
 1465              	.LVL162:
 1466 015e 2B70     		strb	r3, [r5, #0]
 1467 0160 1548     		ldr	r0, .L99+4
 1468 0162 9B18     		adds	r3, r3, r2
 1469              	.LVL163:
 1470 0164 2370     		strb	r3, [r4, #0]
 1471 0166 FFF7FEFF 		bl	uart_transmit
 1472              	.LVL164:
 1473              	.LBE49:
 1474              	.LBB50:
 1475 016a B17A     		ldrb	r1, [r6, #10]	@ zero_extendqisi2
 1476              	.LVL165:
 1477 016c 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1478 016e 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1479 0170 CB18     		adds	r3, r1, r3
 1480 0172 DBB2     		uxtb	r3, r3
 1481              	.LVL166:
 1482 0174 2B70     		strb	r3, [r5, #0]
 1483 0176 1048     		ldr	r0, .L99+4
 1484 0178 9B18     		adds	r3, r3, r2
 1485              	.LVL167:
 1486 017a 2370     		strb	r3, [r4, #0]
 1487 017c FFF7FEFF 		bl	uart_transmit
 1488              	.LVL168:
 1489              	.LBE50:
 1490              	.LBB51:
 1491 0180 F17A     		ldrb	r1, [r6, #11]	@ zero_extendqisi2
 1492              	.LVL169:
 1493 0182 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 1494 0184 2278     		ldrb	r2, [r4, #0]	@ zero_extendqisi2
 1495 0186 CB18     		adds	r3, r1, r3
 1496 0188 DBB2     		uxtb	r3, r3
 1497              	.LVL170:
 1498 018a 2B70     		strb	r3, [r5, #0]
 1499 018c 0A48     		ldr	r0, .L99+4
 1500 018e 9B18     		adds	r3, r3, r2
 1501              	.LVL171:
 1502 0190 2370     		strb	r3, [r4, #0]
 1503 0192 FFF7FEFF 		bl	uart_transmit
 1504              	.LVL172:
 1505              	.LBE51:
 1506 0196 2978     		ldrb	r1, [r5, #0]	@ zero_extendqisi2
 1507 0198 0748     		ldr	r0, .L99+4
 1508 019a FFF7FEFF 		bl	uart_transmit
 1509 019e 0648     		ldr	r0, .L99+4
 1510 01a0 2178     		ldrb	r1, [r4, #0]	@ zero_extendqisi2
 298:firmwares/rotorcraft/navigation.c ****   }
 299:firmwares/rotorcraft/navigation.c **** }
 1511              		.loc 1 299 0 is_stmt 1 discriminator 1
 1512 01a2 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 297:firmwares/rotorcraft/navigation.c ****     DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp_id, &(new_pos->x), &(new_pos->y),
 1513              		.loc 1 297 0 discriminator 1
 1514 01a6 FFF7FEBF 		b	uart_transmit
 1515              	.LVL173:
 1516              	.L98:
 297:firmwares/rotorcraft/navigation.c ****     DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp_id, &(new_pos->x), &(new_pos->y),
 1517              		.loc 1 297 0 is_stmt 0 discriminator 2
 1518 01aa 084B     		ldr	r3, .L99+24
 1519 01ac 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 1520 01ae 0132     		adds	r2, r2, #1
 1521 01b0 1A70     		strb	r2, [r3, #0]
 1522              	.L96:
 1523 01b2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1524              	.L100:
 1525              		.align	2
 1526              	.L99:
 1527 01b4 00000000 		.word	.LANCHOR1
 1528 01b8 00000000 		.word	uart2
 1529 01bc 00000000 		.word	downlink_nb_bytes
 1530 01c0 00000000 		.word	downlink_nb_msgs
 1531 01c4 00000000 		.word	ck_a
 1532 01c8 00000000 		.word	ck_b
 1533 01cc 00000000 		.word	downlink_nb_ovrn
 1534              		.cfi_endproc
 1535              	.LFE43:
 1537              		.section	.text.navigation_update_wp_from_speed,"ax",%progbits
 1538              		.align	1
 1539              		.global	navigation_update_wp_from_speed
 1540              		.thumb
 1541              		.thumb_func
 1543              	navigation_update_wp_from_speed:
 1544              	.LFB44:
 300:firmwares/rotorcraft/navigation.c **** 
 301:firmwares/rotorcraft/navigation.c **** void navigation_update_wp_from_speed(uint8_t wp, struct Int16Vect3 speed_sp, int16_t heading_rate_s
 1545              		.loc 1 301 0 is_stmt 1
 1546              		.cfi_startproc
 1547              		@ args = 0, pretend = 0, frame = 16
 1548              		@ frame_needed = 0, uses_anonymous_args = 0
 1549              	.LVL174:
 1550 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, sl, fp, lr}
 1551              	.LCFI6:
 1552              		.cfi_def_cfa_offset 36
 1553              		.cfi_offset 14, -4
 1554              		.cfi_offset 11, -8
 1555              		.cfi_offset 10, -12
 1556              		.cfi_offset 9, -16
 1557              		.cfi_offset 8, -20
 1558              		.cfi_offset 7, -24
 1559              		.cfi_offset 6, -28
 1560              		.cfi_offset 5, -32
 1561              		.cfi_offset 4, -36
 1562 0004 9B46     		mov	fp, r3
 1563 0006 85B0     		sub	sp, sp, #20
 1564              	.LCFI7:
 1565              		.cfi_def_cfa_offset 56
 1566              	.LBB52:
 302:firmwares/rotorcraft/navigation.c ****   //  MY_ASSERT(wp < nb_waypoint); FIXME
 303:firmwares/rotorcraft/navigation.c ****   int32_t s_heading, c_heading;
 304:firmwares/rotorcraft/navigation.c ****   PPRZ_ITRIG_SIN(s_heading, nav_heading);
 1567              		.loc 1 304 0
 1568 0008 4F4B     		ldr	r3, .L135
 1569              	.LVL175:
 1570              	.LBE52:
 301:firmwares/rotorcraft/navigation.c **** void navigation_update_wp_from_speed(uint8_t wp, struct Int16Vect3 speed_sp, int16_t heading_rate_s
 1571              		.loc 1 301 0
 1572 000a 0446     		mov	r4, r0
 1573 000c 04A8     		add	r0, sp, #16
 1574              	.LVL176:
 1575 000e 00E90600 		stmdb	r0, {r1, r2}
 1576              	.LBB53:
 1577              		.loc 1 304 0
 1578 0012 1968     		ldr	r1, [r3, #0]
 1579              	.LVL177:
 1580 0014 43F24322 		movw	r2, #12867
 1581 0018 0B46     		mov	r3, r1
 1582 001a 02E0     		b	.L102
 1583              	.LVL178:
 1584              	.L103:
 1585              		.loc 1 304 0 is_stmt 0 discriminator 2
 1586 001c A3F5C943 		sub	r3, r3, #25728
 1587              	.LVL179:
 1588 0020 073B     		subs	r3, r3, #7
 1589              	.LVL180:
 1590              	.L102:
 1591              		.loc 1 304 0 discriminator 1
 1592 0022 9342     		cmp	r3, r2
 1593 0024 FADC     		bgt	.L103
 1594 0026 03E0     		b	.L132
 1595              	.L105:
 1596              		.loc 1 304 0 discriminator 5
 1597 0028 03F5C943 		add	r3, r3, #25728
 1598              	.LVL181:
 1599 002c 0733     		adds	r3, r3, #7
 1600              	.LVL182:
 1601 002e 00E0     		b	.L127
 1602              	.L132:
 1603              		.loc 1 304 0 discriminator 4
 1604 0030 464A     		ldr	r2, .L135+4
 1605              	.L127:
 1606 0032 9342     		cmp	r3, r2
 1607 0034 F8DB     		blt	.L105
 1608              		.loc 1 304 0
 1609 0036 41F62112 		movw	r2, #6433
 1610 003a 9342     		cmp	r3, r2
 1611 003c 444A     		ldr	r2, .L135+8
 1612 003e 03DD     		ble	.L106
 1613              		.loc 1 304 0 discriminator 7
 1614 0040 C3F54953 		rsb	r3, r3, #12864
 1615              	.LVL183:
 1616 0044 0333     		adds	r3, r3, #3
 1617              	.LVL184:
 1618 0046 0CE0     		b	.L107
 1619              	.L106:
 1620              		.loc 1 304 0 discriminator 8
 1621 0048 6FF4C950 		mvn	r0, #6432
 1622 004c 8342     		cmp	r3, r0
 1623 004e 06DA     		bge	.L108
 1624              		.loc 1 304 0 discriminator 9
 1625 0050 C3F17F43 		rsb	r3, r3, #-16777216
 1626              	.LVL185:
 1627 0054 03F57F03 		add	r3, r3, #16711680
 1628 0058 03F54D43 		add	r3, r3, #52480
 1629 005c BD33     		adds	r3, r3, #189
 1630              	.LVL186:
 1631              	.L108:
 1632              		.loc 1 304 0 discriminator 10
 1633 005e 002B     		cmp	r3, #0
 1634 0060 02DB     		blt	.L109
 1635              	.L107:
 1636              		.loc 1 304 0 discriminator 11
 1637 0062 32F91300 		ldrsh	r0, [r2, r3, lsl #1]
 1638              	.LVL187:
 1639 0066 03E0     		b	.L110
 1640              	.LVL188:
 1641              	.L109:
 1642              		.loc 1 304 0 discriminator 12
 1643 0068 5B42     		negs	r3, r3
 1644              	.LVL189:
 1645 006a 32F91300 		ldrsh	r0, [r2, r3, lsl #1]
 1646 006e 4042     		negs	r0, r0
 1647              	.LVL190:
 1648              	.L110:
 1649              	.LBE53:
 1650              	.LBB54:
 305:firmwares/rotorcraft/navigation.c ****   PPRZ_ITRIG_COS(c_heading, nav_heading);
 1651              		.loc 1 305 0 is_stmt 1
 1652 0070 01F5C953 		add	r3, r1, #6432
 1653 0074 0133     		adds	r3, r3, #1
 1654              	.LVL191:
 1655 0076 43F24322 		movw	r2, #12867
 1656 007a 02E0     		b	.L111
 1657              	.L112:
 1658              		.loc 1 305 0 is_stmt 0 discriminator 2
 1659 007c A3F5C943 		sub	r3, r3, #25728
 1660              	.LVL192:
 1661 0080 073B     		subs	r3, r3, #7
 1662              	.LVL193:
 1663              	.L111:
 1664              		.loc 1 305 0 discriminator 1
 1665 0082 9342     		cmp	r3, r2
 1666 0084 FADC     		bgt	.L112
 1667 0086 03E0     		b	.L133
 1668              	.L114:
 1669              		.loc 1 305 0 discriminator 5
 1670 0088 03F5C943 		add	r3, r3, #25728
 1671              	.LVL194:
 1672 008c 0733     		adds	r3, r3, #7
 1673              	.LVL195:
 1674 008e 00E0     		b	.L129
 1675              	.L133:
 1676              		.loc 1 305 0 discriminator 4
 1677 0090 2E4A     		ldr	r2, .L135+4
 1678              	.L129:
 1679 0092 9342     		cmp	r3, r2
 1680 0094 F8DB     		blt	.L114
 1681              		.loc 1 305 0
 1682 0096 41F62112 		movw	r2, #6433
 1683 009a 9342     		cmp	r3, r2
 1684 009c 2C4A     		ldr	r2, .L135+8
 1685 009e 03DD     		ble	.L115
 1686              		.loc 1 305 0 discriminator 7
 1687 00a0 C3F54953 		rsb	r3, r3, #12864
 1688              	.LVL196:
 1689 00a4 0333     		adds	r3, r3, #3
 1690              	.LVL197:
 1691 00a6 0CE0     		b	.L116
 1692              	.L115:
 1693              		.loc 1 305 0 discriminator 8
 1694 00a8 6FF4C955 		mvn	r5, #6432
 1695 00ac AB42     		cmp	r3, r5
 1696 00ae 06DA     		bge	.L117
 1697              		.loc 1 305 0 discriminator 9
 1698 00b0 C3F17F43 		rsb	r3, r3, #-16777216
 1699              	.LVL198:
 1700 00b4 03F57F03 		add	r3, r3, #16711680
 1701 00b8 03F54D43 		add	r3, r3, #52480
 1702 00bc BD33     		adds	r3, r3, #189
 1703              	.LVL199:
 1704              	.L117:
 1705              		.loc 1 305 0 discriminator 10
 1706 00be 002B     		cmp	r3, #0
 1707 00c0 02DB     		blt	.L118
 1708              	.L116:
 1709              		.loc 1 305 0 discriminator 11
 1710 00c2 32F91350 		ldrsh	r5, [r2, r3, lsl #1]
 1711              	.LVL200:
 1712 00c6 03E0     		b	.L119
 1713              	.LVL201:
 1714              	.L118:
 1715              		.loc 1 305 0 discriminator 12
 1716 00c8 5B42     		negs	r3, r3
 1717              	.LVL202:
 1718 00ca 32F91350 		ldrsh	r5, [r2, r3, lsl #1]
 1719 00ce 6D42     		negs	r5, r5
 1720              	.LVL203:
 1721              	.L119:
 1722              	.LBE54:
 306:firmwares/rotorcraft/navigation.c ****   // FIXME : scale POS to SPEED
 307:firmwares/rotorcraft/navigation.c ****   struct Int32Vect3 delta_pos;
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1723              		.loc 1 308 0 is_stmt 1
 1724 00d0 BDF90AC0 		ldrsh	ip, [sp, #10]
 1725 00d4 1023     		movs	r3, #16
 1726 00d6 9CFBF3FC 		sdiv	ip, ip, r3
 309:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_RSHIFT(delta_pos, delta_pos, (INT32_SPEED_FRAC-INT32_POS_FRAC));
 1727              		.loc 1 309 0
 1728 00da 4FEAEC2C 		asr	ip, ip, #11
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1729              		.loc 1 308 0
 1730 00de BDF90880 		ldrsh	r8, [sp, #8]
 310:firmwares/rotorcraft/navigation.c ****   waypoints[wp].x += (s_heading * delta_pos.x + c_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1731              		.loc 1 310 0
 1732 00e2 0CFB05FA 		mul	sl, ip, r5
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1733              		.loc 1 308 0
 1734 00e6 98FBF3F8 		sdiv	r8, r8, r3
 1735              		.loc 1 310 0
 1736 00ea 0C26     		movs	r6, #12
 1737 00ec 6643     		muls	r6, r4, r6
 309:firmwares/rotorcraft/navigation.c ****   INT32_VECT3_RSHIFT(delta_pos, delta_pos, (INT32_SPEED_FRAC-INT32_POS_FRAC));
 1738              		.loc 1 309 0
 1739 00ee 4FEAE828 		asr	r8, r8, #11
 1740              	.LVL204:
 311:firmwares/rotorcraft/navigation.c ****   waypoints[wp].y += (c_heading * delta_pos.x - s_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1741              		.loc 1 311 0
 1742 00f2 08FB05F5 		mul	r5, r8, r5
 1743              	.LVL205:
 310:firmwares/rotorcraft/navigation.c ****   waypoints[wp].x += (s_heading * delta_pos.x + c_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1744              		.loc 1 310 0
 1745 00f6 174F     		ldr	r7, .L135+12
 1746 00f8 08FB00AA 		mla	sl, r8, r0, sl
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1747              		.loc 1 308 0
 1748 00fc BDF90C20 		ldrsh	r2, [sp, #12]
 310:firmwares/rotorcraft/navigation.c ****   waypoints[wp].x += (s_heading * delta_pos.x + c_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1749              		.loc 1 310 0
 1750 0100 57F80690 		ldr	r9, [r7, r6]
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1751              		.loc 1 308 0
 1752 0104 92FBF3F2 		sdiv	r2, r2, r3
 1753              		.loc 1 311 0
 1754 0108 0CFB1050 		mls	r0, ip, r0, r5
 1755              	.LVL206:
 308:firmwares/rotorcraft/navigation.c ****   VECT3_SDIV(delta_pos, speed_sp,NAV_FREQ); /* fixme :make sure the division is really a >> */
 1756              		.loc 1 308 0
 1757 010c 0192     		str	r2, [sp, #4]
 310:firmwares/rotorcraft/navigation.c ****   waypoints[wp].x += (s_heading * delta_pos.x + c_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1758              		.loc 1 310 0
 1759 010e 09EBAA39 		add	r9, r9, sl, asr #14
 1760 0112 BA19     		adds	r2, r7, r6
 1761 0114 47F80690 		str	r9, [r7, r6]
 1762              		.loc 1 311 0
 1763 0118 5668     		ldr	r6, [r2, #4]
 312:firmwares/rotorcraft/navigation.c ****   waypoints[wp].z += delta_pos.z;
 1764              		.loc 1 312 0
 1765 011a 019D     		ldr	r5, [sp, #4]
 311:firmwares/rotorcraft/navigation.c ****   waypoints[wp].y += (c_heading * delta_pos.x - s_heading * delta_pos.y) >> INT32_TRIG_FRAC;
 1766              		.loc 1 311 0
 1767 011c 06EBA030 		add	r0, r6, r0, asr #14
 1768 0120 5060     		str	r0, [r2, #4]
 1769              		.loc 1 312 0
 1770 0122 9068     		ldr	r0, [r2, #8]
 313:firmwares/rotorcraft/navigation.c ****   int32_t delta_heading = heading_rate_sp / NAV_FREQ;
 1771              		.loc 1 313 0
 1772 0124 9BFBF3F3 		sdiv	r3, fp, r3
 1773              	.LVL207:
 312:firmwares/rotorcraft/navigation.c ****   waypoints[wp].z += delta_pos.z;
 1774              		.loc 1 312 0
 1775 0128 00EBE520 		add	r0, r0, r5, asr #11
 1776 012c 9060     		str	r0, [r2, #8]
 314:firmwares/rotorcraft/navigation.c ****   delta_heading = delta_heading >> (INT32_SPEED_FRAC-INT32_POS_FRAC);
 315:firmwares/rotorcraft/navigation.c ****   nav_heading += delta_heading;
 1777              		.loc 1 315 0
 1778 012e 01EBE321 		add	r1, r1, r3, asr #11
 316:firmwares/rotorcraft/navigation.c **** 
 317:firmwares/rotorcraft/navigation.c ****   INT32_COURSE_NORMALIZE(nav_heading);
 1779              		.loc 1 317 0
 1780 0132 02E0     		b	.L120
 1781              	.L121:
 1782              		.loc 1 317 0 is_stmt 0 discriminator 2
 1783 0134 01F5C941 		add	r1, r1, #25728
 1784 0138 0731     		adds	r1, r1, #7
 1785              	.L120:
 1786              		.loc 1 317 0 discriminator 1
 1787 013a 0029     		cmp	r1, #0
 1788 013c FADB     		blt	.L121
 1789 013e 0BE0     		b	.L134
 1790              	.LVL208:
 1791              	.L123:
 1792              		.loc 1 317 0 discriminator 5
 1793 0140 A1F5C941 		sub	r1, r1, #25728
 1794 0144 0739     		subs	r1, r1, #7
 1795 0146 09E0     		b	.L131
 1796              	.L136:
 1797              		.align	2
 1798              	.L135:
 1799 0148 00000000 		.word	.LANCHOR12
 1800 014c BDCDFFFF 		.word	-12867
 1801 0150 00000000 		.word	pprz_trig_int
 1802 0154 00000000 		.word	.LANCHOR1
 1803              	.LVL209:
 1804              	.L134:
 1805              		.loc 1 317 0 discriminator 4
 1806 0158 46F28643 		movw	r3, #25734
 1807              	.LVL210:
 1808              	.L131:
 1809 015c 9942     		cmp	r1, r3
 1810 015e EFDC     		bgt	.L123
 1811              		.loc 1 317 0
 1812 0160 724B     		ldr	r3, .L137
 1813 0162 1960     		str	r1, [r3, #0]
 1814              	.LBB55:
 318:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(10,DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp, &(waypoints[wp].x)
 1815              		.loc 1 318 0 is_stmt 1
 1816 0164 724B     		ldr	r3, .L137+4
 1817 0166 1A88     		ldrh	r2, [r3, #0]
 1818 0168 0132     		adds	r2, r2, #1
 1819 016a 92B2     		uxth	r2, r2
 1820 016c 092A     		cmp	r2, #9
 1821 016e 1A80     		strh	r2, [r3, #0]	@ movhi
 1822 0170 40F2D980 		bls	.L101
 1823              		.loc 1 318 0 is_stmt 0 discriminator 1
 1824 0174 0022     		movs	r2, #0
 1825 0176 1A80     		strh	r2, [r3, #0]	@ movhi
 1826 0178 6E48     		ldr	r0, .L137+8
 1827 017a 1321     		movs	r1, #19
 1828 017c FFF7FEFF 		bl	uart_check_free_space
 1829              	.LVL211:
 1830 0180 0028     		cmp	r0, #0
 1831 0182 00F0CC80 		beq	.L125
 1832              		.loc 1 318 0 discriminator 2
 1833 0186 6C4B     		ldr	r3, .L137+12
 1834              	.LBB56:
 1835 0188 9921     		movs	r1, #153
 1836              	.LBE56:
 1837 018a 1A88     		ldrh	r2, [r3, #0]
 1838              	.LBB57:
 1839 018c 6948     		ldr	r0, .L137+8
 1840              	.LBE57:
 1841 018e 1332     		adds	r2, r2, #19
 1842 0190 1A80     		strh	r2, [r3, #0]	@ movhi
 1843 0192 6A4B     		ldr	r3, .L137+16
 1844 0194 6A4E     		ldr	r6, .L137+20
 1845 0196 1A88     		ldrh	r2, [r3, #0]
 1846 0198 6A4D     		ldr	r5, .L137+24
 1847 019a 0132     		adds	r2, r2, #1
 1848 019c 1A80     		strh	r2, [r3, #0]	@ movhi
 1849              	.LBB58:
 1850 019e FFF7FEFF 		bl	uart_transmit
 1851              	.LVL212:
 1852 01a2 1321     		movs	r1, #19
 1853 01a4 6348     		ldr	r0, .L137+8
 1854 01a6 FFF7FEFF 		bl	uart_transmit
 1855              	.LBE58:
 1856 01aa B523     		movs	r3, #181
 1857 01ac 3370     		strb	r3, [r6, #0]
 1858 01ae C823     		movs	r3, #200
 1859 01b0 2B70     		strb	r3, [r5, #0]
 1860 01b2 A221     		movs	r1, #162
 1861 01b4 5F48     		ldr	r0, .L137+8
 1862 01b6 FFF7FEFF 		bl	uart_transmit
 1863 01ba 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1864 01bc 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1865 01be 3133     		adds	r3, r3, #49
 1866 01c0 DBB2     		uxtb	r3, r3
 1867              	.LVL213:
 1868 01c2 3370     		strb	r3, [r6, #0]
 1869 01c4 9B18     		adds	r3, r3, r2
 1870              	.LVL214:
 1871 01c6 2B70     		strb	r3, [r5, #0]
 1872 01c8 3121     		movs	r1, #49
 1873 01ca 5A48     		ldr	r0, .L137+8
 1874 01cc FFF7FEFF 		bl	uart_transmit
 1875              	.LVL215:
 1876              	.LBB59:
 1877 01d0 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1878 01d2 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1879 01d4 E318     		adds	r3, r4, r3
 1880 01d6 DBB2     		uxtb	r3, r3
 1881              	.LVL216:
 1882 01d8 3370     		strb	r3, [r6, #0]
 1883 01da 9B18     		adds	r3, r3, r2
 1884              	.LVL217:
 1885 01dc 2B70     		strb	r3, [r5, #0]
 1886 01de 2146     		mov	r1, r4
 1887 01e0 5448     		ldr	r0, .L137+8
 1888 01e2 FFF7FEFF 		bl	uart_transmit
 1889              	.LBE59:
 1890              	.LBB60:
 1891 01e6 0C23     		movs	r3, #12
 1892 01e8 5C43     		muls	r4, r3, r4
 1893              	.LVL218:
 1894 01ea DFF86081 		ldr	r8, .L137+32
 1895              	.LVL219:
 1896 01ee 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1897 01f0 18F80410 		ldrb	r1, [r8, r4]	@ zero_extendqisi2
 1898              	.LVL220:
 1899 01f4 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1900 01f6 CB18     		adds	r3, r1, r3
 1901 01f8 DBB2     		uxtb	r3, r3
 1902              	.LVL221:
 1903 01fa 3370     		strb	r3, [r6, #0]
 1904 01fc 9B18     		adds	r3, r3, r2
 1905              	.LVL222:
 1906 01fe 08EB0407 		add	r7, r8, r4
 1907 0202 2B70     		strb	r3, [r5, #0]
 1908 0204 4B48     		ldr	r0, .L137+8
 1909 0206 FFF7FEFF 		bl	uart_transmit
 1910              	.LVL223:
 1911              	.LBE60:
 1912              	.LBB61:
 1913 020a 7978     		ldrb	r1, [r7, #1]	@ zero_extendqisi2
 1914              	.LVL224:
 1915 020c 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1916 020e 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1917 0210 CB18     		adds	r3, r1, r3
 1918 0212 DBB2     		uxtb	r3, r3
 1919              	.LVL225:
 1920 0214 3370     		strb	r3, [r6, #0]
 1921 0216 9B18     		adds	r3, r3, r2
 1922              	.LVL226:
 1923 0218 2B70     		strb	r3, [r5, #0]
 1924 021a 4648     		ldr	r0, .L137+8
 1925 021c FFF7FEFF 		bl	uart_transmit
 1926              	.LVL227:
 1927              	.LBE61:
 1928              	.LBB62:
 1929 0220 B978     		ldrb	r1, [r7, #2]	@ zero_extendqisi2
 1930              	.LVL228:
 1931 0222 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1932 0224 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1933 0226 CB18     		adds	r3, r1, r3
 1934 0228 DBB2     		uxtb	r3, r3
 1935              	.LVL229:
 1936 022a 3370     		strb	r3, [r6, #0]
 1937 022c 9B18     		adds	r3, r3, r2
 1938              	.LVL230:
 1939 022e 2B70     		strb	r3, [r5, #0]
 1940 0230 4048     		ldr	r0, .L137+8
 1941 0232 FFF7FEFF 		bl	uart_transmit
 1942              	.LVL231:
 1943              	.LBE62:
 1944              	.LBB63:
 1945 0236 F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
 1946              	.LVL232:
 1947 0238 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1948 023a 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1949 023c CB18     		adds	r3, r1, r3
 1950 023e DBB2     		uxtb	r3, r3
 1951              	.LVL233:
 1952 0240 3370     		strb	r3, [r6, #0]
 1953 0242 9B18     		adds	r3, r3, r2
 1954              	.LVL234:
 1955 0244 2B70     		strb	r3, [r5, #0]
 1956 0246 3B48     		ldr	r0, .L137+8
 1957 0248 FFF7FEFF 		bl	uart_transmit
 1958              	.LVL235:
 1959              	.LBE63:
 1960              	.LBB64:
 1961 024c 3979     		ldrb	r1, [r7, #4]	@ zero_extendqisi2
 1962              	.LVL236:
 1963 024e 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1964 0250 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1965 0252 CB18     		adds	r3, r1, r3
 1966 0254 DBB2     		uxtb	r3, r3
 1967              	.LVL237:
 1968 0256 3370     		strb	r3, [r6, #0]
 1969 0258 9B18     		adds	r3, r3, r2
 1970              	.LVL238:
 1971 025a 2B70     		strb	r3, [r5, #0]
 1972 025c 3548     		ldr	r0, .L137+8
 1973 025e FFF7FEFF 		bl	uart_transmit
 1974              	.LVL239:
 1975              	.LBE64:
 1976              	.LBB65:
 1977 0262 7979     		ldrb	r1, [r7, #5]	@ zero_extendqisi2
 1978              	.LVL240:
 1979 0264 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1980 0266 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1981 0268 CB18     		adds	r3, r1, r3
 1982 026a DBB2     		uxtb	r3, r3
 1983              	.LVL241:
 1984 026c 3370     		strb	r3, [r6, #0]
 1985 026e 9B18     		adds	r3, r3, r2
 1986              	.LVL242:
 1987 0270 2B70     		strb	r3, [r5, #0]
 1988 0272 3048     		ldr	r0, .L137+8
 1989 0274 FFF7FEFF 		bl	uart_transmit
 1990              	.LVL243:
 1991              	.LBE65:
 1992              	.LBB66:
 1993 0278 B979     		ldrb	r1, [r7, #6]	@ zero_extendqisi2
 1994              	.LVL244:
 1995 027a 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 1996 027c 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 1997 027e CB18     		adds	r3, r1, r3
 1998 0280 DBB2     		uxtb	r3, r3
 1999              	.LVL245:
 2000 0282 3370     		strb	r3, [r6, #0]
 2001 0284 9B18     		adds	r3, r3, r2
 2002              	.LVL246:
 2003 0286 2B70     		strb	r3, [r5, #0]
 2004 0288 2A48     		ldr	r0, .L137+8
 2005 028a FFF7FEFF 		bl	uart_transmit
 2006              	.LVL247:
 2007              	.LBE66:
 2008              	.LBB67:
 2009 028e F979     		ldrb	r1, [r7, #7]	@ zero_extendqisi2
 2010              	.LVL248:
 2011 0290 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 2012 0292 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 2013 0294 CB18     		adds	r3, r1, r3
 2014 0296 DBB2     		uxtb	r3, r3
 2015              	.LVL249:
 2016 0298 3370     		strb	r3, [r6, #0]
 2017 029a 9B18     		adds	r3, r3, r2
 2018              	.LVL250:
 2019 029c 2B70     		strb	r3, [r5, #0]
 2020              	.LBE67:
 2021              	.LBB68:
 2022 029e 0834     		adds	r4, r4, #8
 2023              	.LBE68:
 2024              	.LBB69:
 2025 02a0 2448     		ldr	r0, .L137+8
 2026 02a2 FFF7FEFF 		bl	uart_transmit
 2027              	.LVL251:
 2028              	.LBE69:
 2029              	.LBB70:
 2030 02a6 18F80410 		ldrb	r1, [r8, r4]	@ zero_extendqisi2
 2031              	.LVL252:
 2032 02aa 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 2033 02ac 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 2034 02ae CB18     		adds	r3, r1, r3
 2035 02b0 DBB2     		uxtb	r3, r3
 2036              	.LVL253:
 2037 02b2 3370     		strb	r3, [r6, #0]
 2038 02b4 9B18     		adds	r3, r3, r2
 2039              	.LVL254:
 2040 02b6 2B70     		strb	r3, [r5, #0]
 2041              	.LBE70:
 2042              	.LBB71:
 2043 02b8 07F10409 		add	r9, r7, #4
 2044              	.LBE71:
 2045              	.LBB72:
 2046 02bc 1D48     		ldr	r0, .L137+8
 2047 02be 08EB0407 		add	r7, r8, r4
 2048 02c2 FFF7FEFF 		bl	uart_transmit
 2049              	.LVL255:
 2050              	.LBE72:
 2051              	.LBB73:
 2052 02c6 7978     		ldrb	r1, [r7, #1]	@ zero_extendqisi2
 2053              	.LVL256:
 2054 02c8 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 2055 02ca 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 2056 02cc CB18     		adds	r3, r1, r3
 2057 02ce DBB2     		uxtb	r3, r3
 2058              	.LVL257:
 2059 02d0 3370     		strb	r3, [r6, #0]
 2060 02d2 9B18     		adds	r3, r3, r2
 2061              	.LVL258:
 2062 02d4 2B70     		strb	r3, [r5, #0]
 2063 02d6 1748     		ldr	r0, .L137+8
 2064 02d8 FFF7FEFF 		bl	uart_transmit
 2065              	.LVL259:
 2066              	.LBE73:
 2067              	.LBB74:
 2068 02dc B978     		ldrb	r1, [r7, #2]	@ zero_extendqisi2
 2069              	.LVL260:
 2070 02de 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 2071 02e0 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 2072 02e2 CB18     		adds	r3, r1, r3
 2073 02e4 DBB2     		uxtb	r3, r3
 2074              	.LVL261:
 2075 02e6 3370     		strb	r3, [r6, #0]
 2076 02e8 9B18     		adds	r3, r3, r2
 2077              	.LVL262:
 2078 02ea 2B70     		strb	r3, [r5, #0]
 2079 02ec 1148     		ldr	r0, .L137+8
 2080 02ee FFF7FEFF 		bl	uart_transmit
 2081              	.LVL263:
 2082              	.LBE74:
 2083              	.LBB75:
 2084 02f2 F978     		ldrb	r1, [r7, #3]	@ zero_extendqisi2
 2085              	.LVL264:
 2086 02f4 3378     		ldrb	r3, [r6, #0]	@ zero_extendqisi2
 2087 02f6 2A78     		ldrb	r2, [r5, #0]	@ zero_extendqisi2
 2088 02f8 CB18     		adds	r3, r1, r3
 2089 02fa DBB2     		uxtb	r3, r3
 2090              	.LVL265:
 2091 02fc 3370     		strb	r3, [r6, #0]
 2092 02fe 9B18     		adds	r3, r3, r2
 2093              	.LVL266:
 2094 0300 2B70     		strb	r3, [r5, #0]
 2095 0302 0C48     		ldr	r0, .L137+8
 2096 0304 FFF7FEFF 		bl	uart_transmit
 2097              	.LVL267:
 2098              	.LBE75:
 2099 0308 3178     		ldrb	r1, [r6, #0]	@ zero_extendqisi2
 2100 030a 0A48     		ldr	r0, .L137+8
 2101 030c FFF7FEFF 		bl	uart_transmit
 2102 0310 0848     		ldr	r0, .L137+8
 2103 0312 2978     		ldrb	r1, [r5, #0]	@ zero_extendqisi2
 2104              	.LBE55:
 319:firmwares/rotorcraft/navigation.c **** }
 2105              		.loc 1 319 0 is_stmt 1 discriminator 2
 2106 0314 05B0     		add	sp, sp, #20
 2107 0316 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, sl, fp, lr}
 2108              	.LBB76:
 318:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(10,DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp, &(waypoints[wp].x)
 2109              		.loc 1 318 0 discriminator 2
 2110 031a FFF7FEBF 		b	uart_transmit
 2111              	.LVL268:
 2112              	.L125:
 318:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(10,DOWNLINK_SEND_WP_MOVED_ENU(DefaultChannel, DefaultDevice, &wp, &(waypoints[wp].x)
 2113              		.loc 1 318 0 is_stmt 0 discriminator 3
 2114 031e 0A4B     		ldr	r3, .L137+28
 2115 0320 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2116 0322 0132     		adds	r2, r2, #1
 2117 0324 1A70     		strb	r2, [r3, #0]
 2118              	.L101:
 2119              	.LBE76:
 2120              		.loc 1 319 0 is_stmt 1
 2121 0326 05B0     		add	sp, sp, #20
 2122 0328 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, sl, fp, pc}
 2123              	.L138:
 2124              		.align	2
 2125              	.L137:
 2126 032c 00000000 		.word	.LANCHOR12
 2127 0330 00000000 		.word	.LANCHOR28
 2128 0334 00000000 		.word	uart2
 2129 0338 00000000 		.word	downlink_nb_bytes
 2130 033c 00000000 		.word	downlink_nb_msgs
 2131 0340 00000000 		.word	ck_a
 2132 0344 00000000 		.word	ck_b
 2133 0348 00000000 		.word	downlink_nb_ovrn
 2134 034c 00000000 		.word	.LANCHOR1
 2135              		.cfi_endproc
 2136              	.LFE44:
 2138              		.section	.text.nav_detect_ground,"ax",%progbits
 2139              		.align	1
 2140              		.global	nav_detect_ground
 2141              		.thumb
 2142              		.thumb_func
 2144              	nav_detect_ground:
 2145              	.LFB45:
 320:firmwares/rotorcraft/navigation.c **** 
 321:firmwares/rotorcraft/navigation.c **** bool_t nav_detect_ground(void) {
 2146              		.loc 1 321 0
 2147              		.cfi_startproc
 2148              		@ args = 0, pretend = 0, frame = 0
 2149              		@ frame_needed = 0, uses_anonymous_args = 0
 2150              		@ link register save eliminated.
 322:firmwares/rotorcraft/navigation.c ****   if (!autopilot_detect_ground) return FALSE;
 2151              		.loc 1 322 0
 2152 0000 034B     		ldr	r3, .L142
 2153 0002 1878     		ldrb	r0, [r3, #0]	@ zero_extendqisi2
 2154 0004 10B1     		cbz	r0, .L140
 323:firmwares/rotorcraft/navigation.c ****   autopilot_detect_ground = FALSE;
 2155              		.loc 1 323 0
 2156 0006 0022     		movs	r2, #0
 2157 0008 1A70     		strb	r2, [r3, #0]
 324:firmwares/rotorcraft/navigation.c ****   return TRUE;
 2158              		.loc 1 324 0
 2159 000a 0120     		movs	r0, #1
 2160              	.L140:
 325:firmwares/rotorcraft/navigation.c **** }
 2161              		.loc 1 325 0
 2162 000c 7047     		bx	lr
 2163              	.L143:
 2164 000e 00BF     		.align	2
 2165              	.L142:
 2166 0010 00000000 		.word	autopilot_detect_ground
 2167              		.cfi_endproc
 2168              	.LFE45:
 2170              		.global	__aeabi_i2f
 2171              		.global	__aeabi_ddiv
 2172              		.section	.text.nav_periodic_task,"ax",%progbits
 2173              		.align	1
 2174              		.global	nav_periodic_task
 2175              		.thumb
 2176              		.thumb_func
 2178              	nav_periodic_task:
 2179              	.LFB38:
 279:firmwares/rotorcraft/navigation.c **** void nav_periodic_task() {
 2180              		.loc 1 279 0
 2181              		.cfi_startproc
 2182              		@ args = 0, pretend = 0, frame = 0
 2183              		@ frame_needed = 0, uses_anonymous_args = 0
 2184 0000 38B5     		push	{r3, r4, r5, lr}
 2185              	.LCFI8:
 2186              		.cfi_def_cfa_offset 16
 2187              		.cfi_offset 14, -4
 2188              		.cfi_offset 5, -8
 2189              		.cfi_offset 4, -12
 2190              		.cfi_offset 3, -16
 2191              	.LBB87:
 280:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(16, { stage_time++;  block_time++; });
 2192              		.loc 1 280 0
 2193 0002 854B     		ldr	r3, .L256
 2194 0004 1A88     		ldrh	r2, [r3, #0]
 2195 0006 0132     		adds	r2, r2, #1
 2196 0008 92B2     		uxth	r2, r2
 2197 000a 0F2A     		cmp	r2, #15
 2198 000c 1A80     		strh	r2, [r3, #0]	@ movhi
 2199 000e 09D9     		bls	.L145
 280:firmwares/rotorcraft/navigation.c ****   RunOnceEvery(16, { stage_time++;  block_time++; });
 2200              		.loc 1 280 0 is_stmt 0 discriminator 1
 2201 0010 0022     		movs	r2, #0
 2202 0012 1A80     		strh	r2, [r3, #0]	@ movhi
 2203 0014 814B     		ldr	r3, .L256+4
 2204 0016 1A88     		ldrh	r2, [r3, #0]
 2205 0018 0132     		adds	r2, r2, #1
 2206 001a 1A80     		strh	r2, [r3, #0]	@ movhi
 2207 001c 804B     		ldr	r3, .L256+8
 2208 001e 1A88     		ldrh	r2, [r3, #0]
 2209 0020 0132     		adds	r2, r2, #1
 2210 0022 1A80     		strh	r2, [r3, #0]	@ movhi
 2211              	.L145:
 2212              	.LBE87:
 2213              	.LBB88:
 2214              	.LBB89:
 2215              		.file 2 "/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h"
   1:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** /* This file has been generated from /home/uav/paparazzi/conf/flight_plans/rotorcraft_basic.xml */
   2:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** /* Please DO NOT EDIT */
   3:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
   4:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #ifndef FLIGHT_PLAN_H
   5:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define FLIGHT_PLAN_H
   6:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
   7:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #include "std.h"
   8:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #include "generated/modules.h"
   9:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #include "autopilot.h"
  10:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define FLIGHT_PLAN_NAME "Booz Test Enac"
  11:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_UTM_EAST0 377349
  12:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_UTM_NORTH0 4824583
  13:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_UTM_ZONE0 31
  14:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_LAT0 435641194 /* 1e7deg */
  15:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_LON0 14812805 /* 1e7deg */
  16:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_ALT0 147000 /* mm above msl */
  17:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NAV_MSL0 51850 /* mm, EGM96 geoid-height (msl) over ellipsoid */
  18:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define QFU 0.0
  19:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_dummy 0
  20:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_HOME 1
  21:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_CLIMB 2
  22:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_STDBY 3
  23:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_p1 4
  24:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_p2 5
  25:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_p3 6
  26:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_p4 7
  27:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_CAM 8
  28:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WP_TD 9
  29:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WAYPOINTS { \
  30:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {42.0, 42.0, 152},\
  31:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {0.0, 0.0, 152},\
  32:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {0.0, 5.0, 152},\
  33:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {-2.0, -5.0, 152},\
  34:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {3.6, -13.9, 152},\
  35:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {27.5, -48.2, 152},\
  36:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {16.7, -19.6, 152},\
  37:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {13.7, -40.7, 152},\
  38:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {-20.0, -50.0, 149.},\
  39:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {5.6, -10.9, 152},\
  40:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** };
  41:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define WAYPOINTS_LLA { \
  42:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435645043, 14817909, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  43:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435641194, 14812805, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  44:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435641644, 14812794, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  45:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435640741, 14812569, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  46:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435639949, 14813282, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  47:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435636901, 14816318, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  48:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435639457, 14814917, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  49:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435637553, 14814593, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  50:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435636661, 14810443, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  51:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****  {435640222, 14813523, 15200}, /* 1e7deg, 1e7deg, cm (hmsl=51.85m) */ \
  52:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** };
  53:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NB_WAYPOINT 10
  54:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define NB_BLOCK 15
  55:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define GROUND_ALT 147.
  56:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define GROUND_ALT_CM 14700
  57:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define SECURITY_HEIGHT 2.
  58:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define SECURITY_ALT 149.
  59:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #define MAX_DIST_FROM_HOME 400.
  60:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** #ifdef NAV_C
  61:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
  62:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** static inline void auto_nav(void) {
  63:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****   switch (nav_block) {
 2216              		.loc 2 63 0 is_stmt 1
 2217 0024 7F4D     		ldr	r5, .L256+12
 2218 0026 2B78     		ldrb	r3, [r5, #0]	@ zero_extendqisi2
 2219 0028 0E2B     		cmp	r3, #14
 2220 002a 00F25C82 		bhi	.L146
 2221 002e DFE813F0 		tbh	[pc, r3, lsl #1]
 2222              	.L162:
 2223 0032 0F00     		.2byte	(.L147-.L162)/2
 2224 0034 2000     		.2byte	(.L148-.L162)/2
 2225 0036 3900     		.2byte	(.L149-.L162)/2
 2226 0038 4A00     		.2byte	(.L150-.L162)/2
 2227 003a 6A00     		.2byte	(.L151-.L162)/2
 2228 003c 9500     		.2byte	(.L152-.L162)/2
 2229 003e A500     		.2byte	(.L153-.L162)/2
 2230 0040 B600     		.2byte	(.L154-.L162)/2
 2231 0042 D200     		.2byte	(.L155-.L162)/2
 2232 0044 4701     		.2byte	(.L156-.L162)/2
 2233 0046 9F01     		.2byte	(.L157-.L162)/2
 2234 0048 CA01     		.2byte	(.L158-.L162)/2
 2235 004a D901     		.2byte	(.L159-.L162)/2
 2236 004c 0702     		.2byte	(.L160-.L162)/2
 2237 004e 5102     		.2byte	(.L161-.L162)/2
 2238              	.L147:
  64:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(0) // Wait GPS
  65:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
  66:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2239              		.loc 2 66 0
 2240 0050 754B     		ldr	r3, .L256+16
 2241 0052 1878     		ldrb	r0, [r3, #0]	@ zero_extendqisi2
 2242 0054 1C46     		mov	r4, r3
 2243 0056 70B3     		cbz	r0, .L171
 2244 0058 0228     		cmp	r0, #2
 2245 005a 06D8     		bhi	.L163
 2246              	.L165:
  67:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
  68:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavKillThrottle()))
  69:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
  70:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
  71:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Label(while_1)
  72:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
  73:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (!(GpsFixValid()))) Goto(endwhile_2) else NextStageAndBreak();
 2247              		.loc 2 73 0
 2248 005c 734A     		ldr	r2, .L256+20
 2249 005e 92F85B20 		ldrb	r2, [r2, #91]	@ zero_extendqisi2
 2250 0062 032A     		cmp	r2, #3
 2251 0064 01D0     		beq	.L163
 2252 0066 0222     		movs	r2, #2
 2253 0068 F8E1     		b	.L242
 2254              	.L163:
  74:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         Stage(2)
  75:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           Goto(while_1)
  76:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         Label(endwhile_2)
  77:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
  78:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(3)
 2255              		.loc 2 78 0
 2256 006a 0323     		movs	r3, #3
 2257 006c 2370     		strb	r3, [r4, #0]
  79:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2258              		.loc 2 79 0
 2259 006e 0122     		movs	r2, #1
 2260 0070 AFE0     		b	.L248
 2261              	.L148:
  80:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
  81:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
  82:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
  83:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
  84:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
  85:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(1) // Geo init
  86:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
  87:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2262              		.loc 2 87 0
 2263 0072 6D4B     		ldr	r3, .L256+16
 2264 0074 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2265 0076 1C46     		mov	r4, r3
 2266 0078 012A     		cmp	r2, #1
 2267 007a 02D9     		bls	.L168
 2268 007c 022A     		cmp	r2, #2
 2269 007e 0DD1     		bne	.L222
 2270 0080 04E0     		b	.L169
 2271              	.L168:
  88:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Label(while_3)
  89:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
  90:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (LessThan(NavBlockTime(),10))) Goto(endwhile_4) else NextStageAndBreak();
 2272              		.loc 2 90 0
 2273 0082 674A     		ldr	r2, .L256+8
 2274 0084 1288     		ldrh	r2, [r2, #0]
 2275 0086 092A     		cmp	r2, #9
 2276 0088 40F2A681 		bls	.L247
 2277              	.L169:
  91:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         Stage(1)
  92:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           Goto(while_3)
  93:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         Label(endwhile_4)
  94:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2278              		.loc 2 94 0
 2279 008c 0223     		movs	r3, #2
 2280 008e 2370     		strb	r3, [r4, #0]
 2281              	.LBB90:
  95:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavSetGroundReferenceHere()))
 2282              		.loc 2 95 0
 2283 0090 FFF7FEFF 		bl	nav_reset_reference
 2284              	.L241:
 2285              	.LBE90:
  96:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 2286              		.loc 2 96 0
 2287 0094 2378     		ldrb	r3, [r4, #0]	@ zero_extendqisi2
 2288 0096 0133     		adds	r3, r3, #1
 2289 0098 2370     		strb	r3, [r4, #0]
 2290 009a E0E1     		b	.L234
 2291              	.L222:
  97:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
  98:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
  99:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(3)
 2292              		.loc 2 99 0
 2293 009c 0322     		movs	r2, #3
 2294 009e 1A70     		strb	r2, [r3, #0]
 100:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2295              		.loc 2 100 0
 2296 00a0 0222     		movs	r2, #2
 2297 00a2 96E0     		b	.L248
 2298              	.L149:
 101:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 102:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 103:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 104:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 105:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 106:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(2) // Holding point
 107:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 108:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2299              		.loc 2 108 0
 2300 00a4 604B     		ldr	r3, .L256+16
 2301 00a6 1878     		ldrb	r0, [r3, #0]	@ zero_extendqisi2
 2302 00a8 1C46     		mov	r4, r3
 2303 00aa 20B1     		cbz	r0, .L171
 2304 00ac 0128     		cmp	r0, #1
 2305 00ae 4FF00302 		mov	r2, #3
 2306 00b2 05D1     		bne	.L223
 2307 00b4 17E0     		b	.L236
 2308              	.L171:
 2309              	.LBB91:
 109:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 110:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavKillThrottle()))
 2310              		.loc 2 110 0
 2311 00b6 5E4B     		ldr	r3, .L256+24
 2312 00b8 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2313 00ba 0C2B     		cmp	r3, #12
 2314 00bc EAD1     		bne	.L241
 2315 00be 0EE0     		b	.L249
 2316              	.L223:
 2317              	.LBE91:
 111:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 112:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 113:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 114:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (FALSE) NextStageAndBreak() else {
 115:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavAttitude(RadOfDeg(0));
 116:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0));
 117:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalThrottleMode(9600*(0));
 118:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 119:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 120:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 121:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2318              		.loc 2 121 0
 2319 00c0 0221     		movs	r1, #2
 2320 00c2 1970     		strb	r1, [r3, #0]
 2321 00c4 85E0     		b	.L248
 2322              	.L150:
 122:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 123:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 124:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 125:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 126:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 127:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 128:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(3) // Start Engine
 129:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 130:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2323              		.loc 2 130 0
 2324 00c6 584B     		ldr	r3, .L256+16
 2325 00c8 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2326 00ca 1C46     		mov	r4, r3
 2327 00cc 12B1     		cbz	r2, .L175
 2328 00ce 012A     		cmp	r2, #1
 2329 00d0 15D1     		bne	.L224
 2330 00d2 07E0     		b	.L253
 2331              	.L175:
 2332              	.LBB92:
 131:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 132:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavResurrect()))
 2333              		.loc 2 132 0
 2334 00d4 564B     		ldr	r3, .L256+24
 2335 00d6 1B78     		ldrb	r3, [r3, #0]	@ zero_extendqisi2
 2336 00d8 0C2B     		cmp	r3, #12
 2337 00da DBD1     		bne	.L241
 2338 00dc 0120     		movs	r0, #1
 2339              	.L249:
 2340 00de FFF7FEFF 		bl	autopilot_set_motors_on
 2341 00e2 D7E7     		b	.L241
 2342              	.L253:
 2343              	.LBE92:
 133:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 134:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 135:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 136:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (FALSE) NextStageAndBreak() else {
 137:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavAttitude(RadOfDeg(0));
 2344              		.loc 2 137 0
 2345 00e4 0322     		movs	r2, #3
 2346              	.L236:
 2347 00e6 534B     		ldr	r3, .L256+28
 2348 00e8 1A70     		strb	r2, [r3, #0]
 2349 00ea 534A     		ldr	r2, .L256+32
 2350 00ec 0023     		movs	r3, #0
 2351 00ee 1360     		str	r3, [r2, #0]
 138:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0));
 2352              		.loc 2 138 0
 2353 00f0 524A     		ldr	r2, .L256+36
 2354 00f2 1360     		str	r3, [r2, #0]
 139:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalThrottleMode(9600*(0));
 2355              		.loc 2 139 0
 2356 00f4 524A     		ldr	r2, .L256+40
 2357 00f6 1370     		strb	r3, [r2, #0]
 2358 00f8 524A     		ldr	r2, .L256+44
 2359 00fa 1360     		str	r3, [r2, #0]
 2360 00fc F3E1     		b	.L146
 2361              	.L224:
 140:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 141:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 142:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 143:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2362              		.loc 2 143 0
 2363 00fe 0222     		movs	r2, #2
 2364 0100 1A70     		strb	r2, [r3, #0]
 144:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2365              		.loc 2 144 0
 2366 0102 0422     		movs	r2, #4
 2367 0104 65E0     		b	.L248
 2368              	.L151:
 145:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 146:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 147:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 148:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 149:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 150:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(4) // Takeoff
 151:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 152:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     if ((nav_block != 5) && (ins_enu_pos.z>POS_BFP_OF_REAL(2.000000))) { GotoBlock(5); return; }
 2369              		.loc 2 152 0
 2370 0106 504C     		ldr	r4, .L256+48
 2371 0108 A068     		ldr	r0, [r4, #8]
 2372 010a FFF7FEFF 		bl	__aeabi_i2d
 2373 010e 0022     		movs	r2, #0
 2374 0110 4FF08143 		mov	r3, #1082130432
 2375 0114 FFF7FEFF 		bl	__aeabi_dcmpgt
 2376 0118 F0B9     		cbnz	r0, .L251
 2377              	.L225:
 153:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2378              		.loc 2 153 0
 2379 011a 434B     		ldr	r3, .L256+16
 2380 011c 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2381 011e 12B1     		cbz	r2, .L181
 2382 0120 012A     		cmp	r2, #1
 2383 0122 17D1     		bne	.L226
 2384 0124 05E0     		b	.L254
 2385              	.L181:
 2386              	.LBB93:
 154:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 155:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavSetWaypointHere(WP_CLIMB)))
 2387              		.loc 2 155 0
 2388 0126 494A     		ldr	r2, .L256+52
 2389 0128 2168     		ldr	r1, [r4, #0]
 2390 012a 9161     		str	r1, [r2, #24]
 2391 012c 6168     		ldr	r1, [r4, #4]
 2392 012e D161     		str	r1, [r2, #28]
 2393 0130 52E1     		b	.L247
 2394              	.L254:
 2395              	.LBE93:
 156:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 157:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 158:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 159:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(2);
 2396              		.loc 2 159 0
 2397 0132 4649     		ldr	r1, .L256+52
 2398 0134 3F4B     		ldr	r3, .L256+28
 2399 0136 8C69     		ldr	r4, [r1, #24]
 2400 0138 1870     		strb	r0, [r3, #0]
 2401 013a 454B     		ldr	r3, .L256+56
 2402 013c 1C60     		str	r4, [r3, #0]
 2403 013e CC69     		ldr	r4, [r1, #28]
 2404 0140 096A     		ldr	r1, [r1, #32]
 2405 0142 5C60     		str	r4, [r3, #4]
 2406 0144 9960     		str	r1, [r3, #8]
 160:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2407              		.loc 2 160 0
 2408 0146 3D4B     		ldr	r3, .L256+36
 2409 0148 1860     		str	r0, [r3, #0]
 161:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalClimbMode(0.500000);
 2410              		.loc 2 161 0
 2411 014a 3D4B     		ldr	r3, .L256+40
 2412 014c 1A70     		strb	r2, [r3, #0]
 2413 014e 4FF48022 		mov	r2, #262144
 2414 0152 96E1     		b	.L237
 2415              	.L226:
 162:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 163:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 164:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2416              		.loc 2 164 0
 2417 0154 0222     		movs	r2, #2
 2418 0156 1A70     		strb	r2, [r3, #0]
 2419              	.L251:
 165:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2420              		.loc 2 165 0
 2421 0158 0522     		movs	r2, #5
 2422 015a 3AE0     		b	.L248
 2423              	.L152:
 166:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 167:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 168:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 169:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 170:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 171:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(5) // Standby
 172:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 173:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2424              		.loc 2 173 0
 2425 015c 324A     		ldr	r2, .L256+16
 2426 015e 1378     		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 2427 0160 4BB9     		cbnz	r3, .L227
 174:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 175:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(3);
 2428              		.loc 2 175 0
 2429 0162 3A49     		ldr	r1, .L256+52
 2430 0164 334A     		ldr	r2, .L256+28
 2431 0166 486A     		ldr	r0, [r1, #36]
 2432 0168 1370     		strb	r3, [r2, #0]
 2433 016a 394A     		ldr	r2, .L256+56
 2434 016c 1060     		str	r0, [r2, #0]
 2435 016e 886A     		ldr	r0, [r1, #40]
 2436 0170 5060     		str	r0, [r2, #4]
 2437 0172 C86A     		ldr	r0, [r1, #44]
 2438 0174 4BE1     		b	.L238
 2439              	.L227:
 176:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 177:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAltitudeMode(WaypointAlt(3), 0.);
 178:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 179:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 180:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2440              		.loc 2 180 0
 2441 0176 0123     		movs	r3, #1
 2442 0178 1370     		strb	r3, [r2, #0]
 2443 017a F3E0     		b	.L203
 2444              	.L153:
 181:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 182:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 183:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 184:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 185:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 186:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 187:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(6) // stay_p1
 188:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 189:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2445              		.loc 2 189 0
 2446 017c 2A4A     		ldr	r2, .L256+16
 2447 017e 1378     		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 2448 0180 4BB9     		cbnz	r3, .L228
 190:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 191:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(4);
 2449              		.loc 2 191 0
 2450 0182 3249     		ldr	r1, .L256+52
 2451 0184 2B4A     		ldr	r2, .L256+28
 2452 0186 086B     		ldr	r0, [r1, #48]
 2453 0188 1370     		strb	r3, [r2, #0]
 2454 018a 314A     		ldr	r2, .L256+56
 2455 018c 1060     		str	r0, [r2, #0]
 2456 018e 486B     		ldr	r0, [r1, #52]
 2457 0190 5060     		str	r0, [r2, #4]
 2458 0192 886B     		ldr	r0, [r1, #56]
 2459 0194 3BE1     		b	.L238
 2460              	.L228:
 192:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 193:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAltitudeMode(WaypointAlt(4), 0.);
 194:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 195:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 196:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2461              		.loc 2 196 0
 2462 0196 0123     		movs	r3, #1
 2463 0198 1370     		strb	r3, [r2, #0]
 197:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2464              		.loc 2 197 0
 2465 019a 0723     		movs	r3, #7
 2466 019c A0E1     		b	.L244
 2467              	.L154:
 198:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 199:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 200:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 201:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 202:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 203:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(7) // go_p2
 204:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 205:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2468              		.loc 2 205 0
 2469 019e 224C     		ldr	r4, .L256+16
 2470 01a0 2178     		ldrb	r1, [r4, #0]	@ zero_extendqisi2
 2471 01a2 11B1     		cbz	r1, .L188
 2472 01a4 0129     		cmp	r1, #1
 2473 01a6 11D1     		bne	.L229
 2474 01a8 DCE0     		b	.L203
 2475              	.L188:
 206:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 207:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproaching(5,CARROT)) NextStageAndBreakFrom(5) else {
 2476              		.loc 2 207 0
 2477 01aa 0520     		movs	r0, #5
 2478 01ac FFF7FEFF 		bl	nav_approaching_from
 2479 01b0 0346     		mov	r3, r0
 2480 01b2 08B1     		cbz	r0, .L190
 2481 01b4 0522     		movs	r2, #5
 2482 01b6 1EE1     		b	.L245
 2483              	.L190:
 208:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavGotoWaypoint(5);
 2484              		.loc 2 208 0
 2485 01b8 2449     		ldr	r1, .L256+52
 2486 01ba 1E4A     		ldr	r2, .L256+28
 2487 01bc 1070     		strb	r0, [r2, #0]
 2488 01be 244A     		ldr	r2, .L256+56
 2489 01c0 C86B     		ldr	r0, [r1, #60]
 2490 01c2 1060     		str	r0, [r2, #0]
 2491 01c4 086C     		ldr	r0, [r1, #64]
 2492 01c6 5060     		str	r0, [r2, #4]
 2493 01c8 486C     		ldr	r0, [r1, #68]
 2494 01ca 20E1     		b	.L238
 2495              	.L229:
 209:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 210:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(5), 0.);
 211:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 212:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 213:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 214:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         GotoBlock(6);
 215:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 216:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 217:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2496              		.loc 2 217 0
 2497 01cc 0223     		movs	r3, #2
 2498 01ce 2370     		strb	r3, [r4, #0]
 218:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2499              		.loc 2 218 0
 2500 01d0 0822     		movs	r2, #8
 2501              	.L248:
 2502 01d2 144B     		ldr	r3, .L256+12
 2503 01d4 5DE1     		b	.L243
 2504              	.L155:
 219:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 220:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 221:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 222:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 223:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 224:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(8) // line_p1_p2
 225:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 226:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2505              		.loc 2 226 0
 2506 01d6 144A     		ldr	r2, .L256+16
 2507 01d8 1378     		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 2508 01da 032B     		cmp	r3, #3
 2509 01dc 6CD8     		bhi	.L191
 2510 01de DFE813F0 		tbh	[pc, r3, lsl #1]
 2511              	.L196:
 2512 01e2 0400     		.2byte	(.L192-.L196)/2
 2513 01e4 3900     		.2byte	(.L193-.L196)/2
 2514 01e6 5F00     		.2byte	(.L194-.L196)/2
 2515 01e8 C100     		.2byte	(.L203-.L196)/2
 2516              	.L192:
 227:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 228:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproachingFrom(5,4,CARROT)) NextStageAndBreakFrom(5) else {
 2517              		.loc 2 228 0
 2518 01ea 0520     		movs	r0, #5
 2519 01ec 0421     		movs	r1, #4
 2520 01ee FFF7FEFF 		bl	nav_approaching_from
 2521 01f2 0446     		mov	r4, r0
 2522 01f4 08B1     		cbz	r0, .L197
 2523 01f6 0522     		movs	r2, #5
 2524 01f8 9FE0     		b	.L246
 2525              	.L197:
 229:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavSegment(4, 5);
 2526              		.loc 2 229 0
 2527 01fa 0E4B     		ldr	r3, .L256+28
 2528 01fc 0122     		movs	r2, #1
 2529 01fe 1A70     		strb	r2, [r3, #0]
 2530 0200 0420     		movs	r0, #4
 2531 0202 0521     		movs	r1, #5
 2532 0204 FFF7FEFF 		bl	nav_route
 230:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2533              		.loc 2 230 0
 2534 0208 0C4B     		ldr	r3, .L256+36
 231:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(5), 0.);
 2535              		.loc 2 231 0
 2536 020a 0222     		movs	r2, #2
 230:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2537              		.loc 2 230 0
 2538 020c 1C60     		str	r4, [r3, #0]
 2539              		.loc 2 231 0
 2540 020e 0C4B     		ldr	r3, .L256+40
 2541 0210 1A70     		strb	r2, [r3, #0]
 2542 0212 0E4B     		ldr	r3, .L256+52
 2543 0214 586C     		ldr	r0, [r3, #68]
 2544 0216 00E1     		b	.L239
 2545              	.L257:
 2546              		.align	2
 2547              	.L256:
 2548 0218 00000000 		.word	.LANCHOR29
 2549 021c 00000000 		.word	stage_time
 2550 0220 00000000 		.word	block_time
 2551 0224 00000000 		.word	nav_block
 2552 0228 00000000 		.word	nav_stage
 2553 022c 00000000 		.word	gps
 2554 0230 00000000 		.word	autopilot_mode
 2555 0234 00000000 		.word	.LANCHOR8
 2556 0238 00000000 		.word	.LANCHOR10
 2557 023c 00000000 		.word	.LANCHOR11
 2558 0240 00000000 		.word	.LANCHOR9
 2559 0244 00000000 		.word	.LANCHOR15
 2560 0248 00000000 		.word	ins_enu_pos
 2561 024c 00000000 		.word	.LANCHOR1
 2562 0250 00000000 		.word	.LANCHOR6
 2563              	.L193:
 232:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 233:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 234:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 235:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(5);
 2564              		.loc 2 235 0
 2565 0254 904A     		ldr	r2, .L258
 2566 0256 914B     		ldr	r3, .L258+4
 2567 0258 0021     		movs	r1, #0
 2568 025a 1970     		strb	r1, [r3, #0]
 2569 025c D06B     		ldr	r0, [r2, #60]
 2570 025e 904B     		ldr	r3, .L258+8
 236:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 237:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAltitudeMode(WaypointAlt(5), 0.);
 2571              		.loc 2 237 0
 2572 0260 0224     		movs	r4, #2
 235:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(5);
 2573              		.loc 2 235 0
 2574 0262 1860     		str	r0, [r3, #0]
 2575 0264 106C     		ldr	r0, [r2, #64]
 2576 0266 5860     		str	r0, [r3, #4]
 2577 0268 506C     		ldr	r0, [r2, #68]
 2578 026a 9860     		str	r0, [r3, #8]
 236:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2579              		.loc 2 236 0
 2580 026c 8D4B     		ldr	r3, .L258+12
 2581 026e 1960     		str	r1, [r3, #0]
 2582              		.loc 2 237 0
 2583 0270 8D4B     		ldr	r3, .L258+16
 2584 0272 1C70     		strb	r4, [r3, #0]
 2585 0274 FFF7FEFF 		bl	__aeabi_i2f
 2586 0278 4FF06E51 		mov	r1, #998244352
 2587 027c FFF7FEFF 		bl	__aeabi_fmul
 2588 0280 4FF08741 		mov	r1, #1132462080
 2589 0284 FFF7FEFF 		bl	__aeabi_fmul
 2590 0288 FFF7FEFF 		bl	__aeabi_f2iz
 2591 028c 874B     		ldr	r3, .L258+20
 2592 028e 1860     		str	r0, [r3, #0]
 238:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if ((stage_time>10)) NextStageAndBreak();
 2593              		.loc 2 238 0
 2594 0290 874B     		ldr	r3, .L258+24
 2595 0292 1B88     		ldrh	r3, [r3, #0]
 2596 0294 0A2B     		cmp	r3, #10
 2597 0296 40F22681 		bls	.L146
 2598 029a 864B     		ldr	r3, .L258+28
 2599 029c 1C70     		strb	r4, [r3, #0]
 2600 029e DEE0     		b	.L234
 2601              	.L194:
 239:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 240:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 241:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproachingFrom(4,5,CARROT)) NextStageAndBreakFrom(4) else {
 2602              		.loc 2 241 0
 2603 02a0 0420     		movs	r0, #4
 2604 02a2 0521     		movs	r1, #5
 2605 02a4 FFF7FEFF 		bl	nav_approaching_from
 2606 02a8 0446     		mov	r4, r0
 2607 02aa 0028     		cmp	r0, #0
 2608 02ac 44D1     		bne	.L252
 2609              	.L198:
 242:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavSegment(5, 4);
 2610              		.loc 2 242 0
 2611 02ae 7B4B     		ldr	r3, .L258+4
 2612 02b0 0122     		movs	r2, #1
 2613 02b2 1A70     		strb	r2, [r3, #0]
 2614 02b4 0520     		movs	r0, #5
 2615 02b6 4AE0     		b	.L240
 2616              	.L191:
 243:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 244:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(4), 0.);
 245:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 246:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 247:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(3)
 248:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         GotoBlock(6);
 249:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 250:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 251:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(4)
 2617              		.loc 2 251 0
 2618 02b8 0423     		movs	r3, #4
 2619 02ba 1370     		strb	r3, [r2, #0]
 252:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2620              		.loc 2 252 0
 2621 02bc 0923     		movs	r3, #9
 2622 02be 0FE1     		b	.L244
 2623              	.L156:
 253:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 254:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 255:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 256:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 257:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 258:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(9) // route
 259:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 260:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2624              		.loc 2 260 0
 2625 02c0 7C4A     		ldr	r2, .L258+28
 2626 02c2 1378     		ldrb	r3, [r2, #0]	@ zero_extendqisi2
 2627 02c4 032B     		cmp	r3, #3
 2628 02c6 4FD8     		bhi	.L199
 2629 02c8 DFE803F0 		tbb	[pc, r3]
 2630              	.L204:
 2631 02cc 02       		.byte	(.L200-.L204)/2
 2632 02cd 19       		.byte	(.L201-.L204)/2
 2633 02ce 30       		.byte	(.L202-.L204)/2
 2634 02cf 4C       		.byte	(.L203-.L204)/2
 2635              		.align	1
 2636              	.L200:
 261:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 262:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproachingFrom(6,4,CARROT)) NextStageAndBreakFrom(6) else {
 2637              		.loc 2 262 0
 2638 02d0 0620     		movs	r0, #6
 2639 02d2 0421     		movs	r1, #4
 2640 02d4 FFF7FEFF 		bl	nav_approaching_from
 2641 02d8 0446     		mov	r4, r0
 2642 02da 08B1     		cbz	r0, .L205
 2643 02dc 0622     		movs	r2, #6
 2644 02de 2CE0     		b	.L246
 2645              	.L205:
 263:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavSegment(4, 6);
 2646              		.loc 2 263 0
 2647 02e0 6E4B     		ldr	r3, .L258+4
 2648 02e2 0122     		movs	r2, #1
 2649 02e4 1A70     		strb	r2, [r3, #0]
 2650 02e6 0420     		movs	r0, #4
 2651 02e8 0621     		movs	r1, #6
 2652 02ea FFF7FEFF 		bl	nav_route
 264:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2653              		.loc 2 264 0
 2654 02ee 6D4B     		ldr	r3, .L258+12
 265:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(6), 0.);
 2655              		.loc 2 265 0
 2656 02f0 0222     		movs	r2, #2
 264:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2657              		.loc 2 264 0
 2658 02f2 1C60     		str	r4, [r3, #0]
 2659              		.loc 2 265 0
 2660 02f4 6C4B     		ldr	r3, .L258+16
 2661 02f6 1A70     		strb	r2, [r3, #0]
 2662 02f8 674B     		ldr	r3, .L258
 2663 02fa 186D     		ldr	r0, [r3, #80]
 2664 02fc 8DE0     		b	.L239
 2665              	.L201:
 266:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 267:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 268:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 269:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproachingFrom(7,6,CARROT)) NextStageAndBreakFrom(7) else {
 2666              		.loc 2 269 0
 2667 02fe 0720     		movs	r0, #7
 2668 0300 0621     		movs	r1, #6
 2669 0302 FFF7FEFF 		bl	nav_approaching_from
 2670 0306 0446     		mov	r4, r0
 2671 0308 08B1     		cbz	r0, .L206
 2672 030a 0722     		movs	r2, #7
 2673 030c 15E0     		b	.L246
 2674              	.L206:
 270:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavSegment(6, 7);
 2675              		.loc 2 270 0
 2676 030e 634B     		ldr	r3, .L258+4
 2677 0310 0122     		movs	r2, #1
 2678 0312 1A70     		strb	r2, [r3, #0]
 2679 0314 0620     		movs	r0, #6
 2680 0316 0721     		movs	r1, #7
 2681 0318 FFF7FEFF 		bl	nav_route
 271:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2682              		.loc 2 271 0
 2683 031c 614B     		ldr	r3, .L258+12
 272:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(7), 0.);
 2684              		.loc 2 272 0
 2685 031e 0222     		movs	r2, #2
 271:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2686              		.loc 2 271 0
 2687 0320 1C60     		str	r4, [r3, #0]
 2688              		.loc 2 272 0
 2689 0322 614B     		ldr	r3, .L258+16
 2690 0324 1A70     		strb	r2, [r3, #0]
 2691 0326 5C4B     		ldr	r3, .L258
 2692 0328 D86D     		ldr	r0, [r3, #92]
 2693 032a 76E0     		b	.L239
 2694              	.L202:
 273:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 274:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 275:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 276:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproachingFrom(4,7,CARROT)) NextStageAndBreakFrom(4) else {
 2695              		.loc 2 276 0
 2696 032c 0420     		movs	r0, #4
 2697 032e 0721     		movs	r1, #7
 2698 0330 FFF7FEFF 		bl	nav_approaching_from
 2699 0334 0446     		mov	r4, r0
 2700 0336 30B1     		cbz	r0, .L207
 2701              	.L252:
 2702 0338 0422     		movs	r2, #4
 2703              	.L246:
 2704 033a 5F4B     		ldr	r3, .L258+32
 2705 033c 1A70     		strb	r2, [r3, #0]
 2706 033e 5D4B     		ldr	r3, .L258+28
 2707 0340 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2708 0342 0132     		adds	r2, r2, #1
 2709 0344 8AE0     		b	.L242
 2710              	.L207:
 277:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavSegment(7, 4);
 2711              		.loc 2 277 0
 2712 0346 554B     		ldr	r3, .L258+4
 2713 0348 0122     		movs	r2, #1
 2714 034a 1A70     		strb	r2, [r3, #0]
 2715 034c 0720     		movs	r0, #7
 2716              	.L240:
 2717 034e 0421     		movs	r1, #4
 2718 0350 FFF7FEFF 		bl	nav_route
 278:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2719              		.loc 2 278 0
 2720 0354 534B     		ldr	r3, .L258+12
 279:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(4), 0.);
 2721              		.loc 2 279 0
 2722 0356 0222     		movs	r2, #2
 278:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2723              		.loc 2 278 0
 2724 0358 1C60     		str	r4, [r3, #0]
 2725              		.loc 2 279 0
 2726 035a 534B     		ldr	r3, .L258+16
 2727 035c 1A70     		strb	r2, [r3, #0]
 2728 035e 4E4B     		ldr	r3, .L258
 2729 0360 986B     		ldr	r0, [r3, #56]
 2730 0362 5AE0     		b	.L239
 2731              	.L203:
 280:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 281:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 282:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(3)
 283:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         GotoBlock(6);
 2732              		.loc 2 283 0
 2733 0364 0623     		movs	r3, #6
 2734 0366 BBE0     		b	.L244
 2735              	.L199:
 284:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 285:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 286:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(4)
 2736              		.loc 2 286 0
 2737 0368 0423     		movs	r3, #4
 2738 036a 1370     		strb	r3, [r2, #0]
 287:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2739              		.loc 2 287 0
 2740 036c 0A23     		movs	r3, #10
 2741 036e B7E0     		b	.L244
 2742              	.L157:
 288:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 289:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 290:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 291:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 292:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 293:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(10) // circle
 294:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 295:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2743              		.loc 2 295 0
 2744 0370 504B     		ldr	r3, .L258+28
 2745 0372 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2746 0374 1ABB     		cbnz	r2, .L230
 296:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 297:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2747              		.loc 2 297 0
 2748 0376 4B4B     		ldr	r3, .L258+12
 298:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAltitudeMode(WaypointAlt(4), 0.);
 2749              		.loc 2 298 0
 2750 0378 0224     		movs	r4, #2
 297:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2751              		.loc 2 297 0
 2752 037a 1A60     		str	r2, [r3, #0]
 2753              		.loc 2 298 0
 2754 037c 4A4B     		ldr	r3, .L258+16
 2755 037e 1C70     		strb	r4, [r3, #0]
 2756 0380 454B     		ldr	r3, .L258
 2757 0382 986B     		ldr	r0, [r3, #56]
 2758 0384 FFF7FEFF 		bl	__aeabi_i2f
 2759 0388 4FF06E51 		mov	r1, #998244352
 2760 038c FFF7FEFF 		bl	__aeabi_fmul
 2761 0390 4FF08741 		mov	r1, #1132462080
 2762 0394 FFF7FEFF 		bl	__aeabi_fmul
 2763 0398 FFF7FEFF 		bl	__aeabi_f2iz
 2764 039c 434B     		ldr	r3, .L258+20
 299:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavCircleWaypoint(4, nav_radius);
 2765              		.loc 2 299 0
 2766 039e 4FF08741 		mov	r1, #1132462080
 298:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAltitudeMode(WaypointAlt(4), 0.);
 2767              		.loc 2 298 0
 2768 03a2 1860     		str	r0, [r3, #0]
 2769              		.loc 2 299 0
 2770 03a4 3D4B     		ldr	r3, .L258+4
 2771 03a6 1C70     		strb	r4, [r3, #0]
 2772 03a8 444B     		ldr	r3, .L258+36
 2773 03aa 1868     		ldr	r0, [r3, #0]	@ float
 2774 03ac FFF7FEFF 		bl	__aeabi_fmul
 2775 03b0 FFF7FEFF 		bl	__aeabi_f2iz
 2776 03b4 0146     		mov	r1, r0
 2777 03b6 0420     		movs	r0, #4
 2778 03b8 FFF7FEFF 		bl	nav_circle
 2779 03bc 93E0     		b	.L146
 2780              	.L230:
 300:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 301:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 302:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2781              		.loc 2 302 0
 2782 03be 0122     		movs	r2, #1
 2783 03c0 1A70     		strb	r2, [r3, #0]
 303:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2784              		.loc 2 303 0
 2785 03c2 0B23     		movs	r3, #11
 2786 03c4 8CE0     		b	.L244
 2787              	.L158:
 304:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 305:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 306:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 307:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 308:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 309:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(11) // land here
 310:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 311:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2788              		.loc 2 311 0
 2789 03c6 3B4B     		ldr	r3, .L258+28
 2790 03c8 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2791 03ca 3AB9     		cbnz	r2, .L231
 2792              	.LBB94:
 312:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 313:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavSetWaypointHere(WP_TD)))
 2793              		.loc 2 313 0
 2794 03cc 3C49     		ldr	r1, .L258+40
 2795 03ce 324A     		ldr	r2, .L258
 2796 03d0 0868     		ldr	r0, [r1, #0]
 2797 03d2 4968     		ldr	r1, [r1, #4]
 2798 03d4 D066     		str	r0, [r2, #108]
 2799 03d6 1167     		str	r1, [r2, #112]
 2800              	.L247:
 2801              	.LBE94:
 314:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 2802              		.loc 2 314 0
 2803 03d8 0122     		movs	r2, #1
 2804 03da 3FE0     		b	.L242
 2805              	.L231:
 315:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 316:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 317:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2806              		.loc 2 317 0
 2807 03dc 0122     		movs	r2, #1
 2808 03de 1A70     		strb	r2, [r3, #0]
 318:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2809              		.loc 2 318 0
 2810 03e0 0C23     		movs	r3, #12
 2811 03e2 7DE0     		b	.L244
 2812              	.L159:
 319:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 320:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 321:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 322:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 323:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 324:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(12) // land
 325:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 326:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2813              		.loc 2 326 0
 2814 03e4 334C     		ldr	r4, .L258+28
 2815 03e6 2178     		ldrb	r1, [r4, #0]	@ zero_extendqisi2
 2816 03e8 31BB     		cbnz	r1, .L232
 327:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 328:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (NavApproaching(9,CARROT)) NextStageAndBreakFrom(9) else {
 2817              		.loc 2 328 0
 2818 03ea 0920     		movs	r0, #9
 2819 03ec FFF7FEFF 		bl	nav_approaching_from
 2820 03f0 0346     		mov	r3, r0
 2821 03f2 18B1     		cbz	r0, .L214
 2822 03f4 0922     		movs	r2, #9
 2823              	.L245:
 2824 03f6 304B     		ldr	r3, .L258+32
 2825 03f8 1A70     		strb	r2, [r3, #0]
 2826 03fa 4BE6     		b	.L241
 2827              	.L214:
 329:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavGotoWaypoint(9);
 2828              		.loc 2 329 0
 2829 03fc 2649     		ldr	r1, .L258
 2830 03fe 274A     		ldr	r2, .L258+4
 2831 0400 1070     		strb	r0, [r2, #0]
 2832 0402 274A     		ldr	r2, .L258+8
 2833 0404 C86E     		ldr	r0, [r1, #108]
 2834 0406 1060     		str	r0, [r2, #0]
 2835 0408 086F     		ldr	r0, [r1, #112]
 2836 040a 5060     		str	r0, [r2, #4]
 2837 040c 486F     		ldr	r0, [r1, #116]
 2838              	.L238:
 2839 040e 9060     		str	r0, [r2, #8]
 330:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2840              		.loc 2 330 0
 2841 0410 244A     		ldr	r2, .L258+12
 2842 0412 1360     		str	r3, [r2, #0]
 331:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NavVerticalAltitudeMode(WaypointAlt(9), 0.);
 2843              		.loc 2 331 0
 2844 0414 244B     		ldr	r3, .L258+16
 2845 0416 0222     		movs	r2, #2
 2846 0418 1A70     		strb	r2, [r3, #0]
 2847              	.L239:
 2848 041a FFF7FEFF 		bl	__aeabi_i2f
 2849 041e 4FF06E51 		mov	r1, #998244352
 2850 0422 FFF7FEFF 		bl	__aeabi_fmul
 2851 0426 4FF08741 		mov	r1, #1132462080
 2852 042a FFF7FEFF 		bl	__aeabi_fmul
 2853 042e FFF7FEFF 		bl	__aeabi_f2iz
 2854 0432 1E4B     		ldr	r3, .L258+20
 2855 0434 1860     		str	r0, [r3, #0]
 2856 0436 56E0     		b	.L146
 2857              	.L232:
 332:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         }
 333:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 334:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 335:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2858              		.loc 2 335 0
 2859 0438 0123     		movs	r3, #1
 2860 043a 2370     		strb	r3, [r4, #0]
 336:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2861              		.loc 2 336 0
 2862 043c 0D23     		movs	r3, #13
 2863 043e 4FE0     		b	.L244
 2864              	.L160:
 337:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 338:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 339:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 340:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 341:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 342:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(13) // flare
 343:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 344:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     if ((nav_block != 2) && NavDetectGround()) { GotoBlock(2); return; }
 2865              		.loc 2 344 0
 2866 0440 FFF7FEFF 		bl	nav_detect_ground
 2867 0444 08B1     		cbz	r0, .L215
 2868 0446 0223     		movs	r3, #2
 2869 0448 4AE0     		b	.L244
 2870              	.L215:
 345:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2871              		.loc 2 345 0
 2872 044a 1A4B     		ldr	r3, .L258+28
 2873 044c 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2874 044e 12B1     		cbz	r2, .L217
 2875 0450 012A     		cmp	r2, #1
 2876 0452 19D1     		bne	.L233
 2877 0454 06E0     		b	.L255
 2878              	.L217:
 2879              	.LBB95:
 346:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 347:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         if (! (NavStartDetectGround()))
 2880              		.loc 2 347 0
 2881 0456 1B49     		ldr	r1, .L258+44
 2882 0458 0122     		movs	r2, #1
 2883 045a 0A70     		strb	r2, [r1, #0]
 2884              	.L242:
 2885              	.LBE95:
 348:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****           NextStageAndBreak();
 2886              		.loc 2 348 0
 2887 045c 1A70     		strb	r2, [r3, #0]
 2888              	.L234:
 2889 045e FFF7FEFF 		bl	nav_init_stage
 2890 0462 40E0     		b	.L146
 2891              	.L255:
 349:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 350:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 351:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavGotoWaypoint(9);
 2892              		.loc 2 351 0
 2893 0464 0C49     		ldr	r1, .L258
 2894 0466 0D4B     		ldr	r3, .L258+4
 2895 0468 CC6E     		ldr	r4, [r1, #108]
 2896 046a 1870     		strb	r0, [r3, #0]
 2897 046c 0C4B     		ldr	r3, .L258+8
 2898 046e 1C60     		str	r4, [r3, #0]
 2899 0470 0C6F     		ldr	r4, [r1, #112]
 2900 0472 496F     		ldr	r1, [r1, #116]
 2901 0474 5C60     		str	r4, [r3, #4]
 2902 0476 9960     		str	r1, [r3, #8]
 352:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalAutoThrottleMode(RadOfDeg(0.000000));
 2903              		.loc 2 352 0
 2904 0478 0A4B     		ldr	r3, .L258+12
 2905 047a 1860     		str	r0, [r3, #0]
 353:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NavVerticalClimbMode(-(0.800000));
 2906              		.loc 2 353 0
 2907 047c 0A4B     		ldr	r3, .L258+16
 2908 047e 1A70     		strb	r2, [r3, #0]
 2909 0480 114A     		ldr	r2, .L258+48
 2910              	.L237:
 2911 0482 124B     		ldr	r3, .L258+52
 2912 0484 1A60     		str	r2, [r3, #0]
 2913 0486 2EE0     		b	.L146
 2914              	.L233:
 354:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 355:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 356:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(2)
 2915              		.loc 2 356 0
 2916 0488 0222     		movs	r2, #2
 2917 048a 1A70     		strb	r2, [r3, #0]
 357:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2918              		.loc 2 357 0
 2919 048c 104B     		ldr	r3, .L258+56
 2920 048e 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2921 0490 0132     		adds	r2, r2, #1
 2922              	.L243:
 2923 0492 1A70     		strb	r2, [r3, #0]
 2924 0494 25E0     		b	.L235
 2925              	.L259:
 2926 0496 00BF     		.align	2
 2927              	.L258:
 2928 0498 00000000 		.word	.LANCHOR1
 2929 049c 00000000 		.word	.LANCHOR8
 2930 04a0 00000000 		.word	.LANCHOR6
 2931 04a4 00000000 		.word	.LANCHOR11
 2932 04a8 00000000 		.word	.LANCHOR9
 2933 04ac 00000000 		.word	.LANCHOR3
 2934 04b0 00000000 		.word	stage_time
 2935 04b4 00000000 		.word	nav_stage
 2936 04b8 00000000 		.word	.LANCHOR30
 2937 04bc 00000000 		.word	.LANCHOR14
 2938 04c0 00000000 		.word	ins_enu_pos
 2939 04c4 00000000 		.word	autopilot_detect_ground_once
 2940 04c8 9A99F9FF 		.word	-419430
 2941 04cc 00000000 		.word	.LANCHOR16
 2942 04d0 00000000 		.word	nav_block
 2943              	.L161:
 358:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 359:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     }
 360:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // post_call
 361:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     break;
 362:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h **** 
 363:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     Block(14) // HOME
 364:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     ; // pre_call
 365:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****     switch(nav_stage) {
 2944              		.loc 2 365 0
 2945 04d4 0E4B     		ldr	r3, .L260
 2946 04d6 1A78     		ldrb	r2, [r3, #0]	@ zero_extendqisi2
 2947 04d8 2AB1     		cbz	r2, .L146
 366:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(0)
 367:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         nav_home();
 368:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         break;
 369:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       default:
 370:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****       Stage(1)
 2948              		.loc 2 370 0
 2949 04da 0122     		movs	r2, #1
 2950 04dc 1A70     		strb	r2, [r3, #0]
 371:/home/uav/paparazzi/var/Quad_LisaM_2/generated/flight_plan.h ****         NextBlock();
 2951              		.loc 2 371 0
 2952 04de 0F23     		movs	r3, #15
 2953              	.L244:
 2954 04e0 2B70     		strb	r3, [r5, #0]
 2955              	.L235:
 2956 04e2 FFF7FEFF 		bl	nav_init_block
 2957              	.L146:
 2958              	.LBE89:
 2959              	.LBE88:
 286:firmwares/rotorcraft/navigation.c ****   nav_run();
 2960              		.loc 1 286 0
 2961 04e6 FFF7FEFF 		bl	nav_run
 288:firmwares/rotorcraft/navigation.c ****   ground_alt = POS_BFP_OF_REAL((float)ins_ltp_def.hmsl / 1000.);
 2962              		.loc 1 288 0
 2963 04ea 0A4B     		ldr	r3, .L260+4
 2964 04ec D86B     		ldr	r0, [r3, #60]
 2965 04ee FFF7FEFF 		bl	__aeabi_i2f
 2966 04f2 FFF7FEFF 		bl	__aeabi_f2d
 2967 04f6 0022     		movs	r2, #0
 2968 04f8 074B     		ldr	r3, .L260+8
 2969 04fa FFF7FEFF 		bl	__aeabi_ddiv
 2970 04fe 074B     		ldr	r3, .L260+12
 2971 0500 0022     		movs	r2, #0
 2972 0502 FFF7FEFF 		bl	__aeabi_dmul
 2973 0506 FFF7FEFF 		bl	__aeabi_d2iz
 2974 050a 054B     		ldr	r3, .L260+16
 2975 050c 1860     		str	r0, [r3, #0]
 289:firmwares/rotorcraft/navigation.c **** }
 2976              		.loc 1 289 0
 2977 050e 38BD     		pop	{r3, r4, r5, pc}
 2978              	.L261:
 2979              		.align	2
 2980              	.L260:
 2981 0510 00000000 		.word	nav_stage
 2982 0514 00000000 		.word	ins_ltp_def
 2983 0518 00408F40 		.word	1083129856
 2984 051c 00007040 		.word	1081081856
 2985 0520 00000000 		.word	.LANCHOR2
 2986              		.cfi_endproc
 2987              	.LFE38:
 2989              		.section	.text.nav_home,"ax",%progbits
 2990              		.align	1
 2991              		.global	nav_home
 2992              		.thumb
 2993              		.thumb_func
 2995              	nav_home:
 2996              	.LFB46:
 326:firmwares/rotorcraft/navigation.c **** 
 327:firmwares/rotorcraft/navigation.c **** void nav_home(void) {}
 2997              		.loc 1 327 0
 2998              		.cfi_startproc
 2999              		@ args = 0, pretend = 0, frame = 0
 3000              		@ frame_needed = 0, uses_anonymous_args = 0
 3001              		@ link register save eliminated.
 3002              		.loc 1 327 0
 3003 0000 7047     		bx	lr
 3004              		.cfi_endproc
 3005              	.LFE46:
 3007              		.global	flight_altitude
 3008              		.global	nav_flight_altitude
 3009              		.global	nav_altitude
 3010              		.global	nav_climb
 3011              		.global	nav_throttle
 3012              		.global	vertical_mode
 3013              		.global	nav_radius
 3014              		.global	nav_course
 3015              		.global	nav_heading
 3016              		.global	nav_pitch
 3017              		.global	nav_roll
 3018              		.global	nav_leg_length
 3019              		.global	nav_leg_progress
 3020              		.global	nav_circle_radians
 3021              		.global	nav_circle_qdr
 3022              		.global	nav_circle_radius
 3023              		.global	nav_circle_centre
 3024              		.global	nav_segment_end
 3025              		.global	nav_segment_start
 3026              		.global	horizontal_mode
 3027              		.global	ground_alt
 3028              		.global	last_wp
 3029              		.global	nav_last_point
 3030              		.global	navigation_carrot
 3031              		.global	navigation_target
 3032              		.global	waypoints
 3033              		.global	waypoints_float
 3034              		.global	nb_waypoint
 3035              		.section	.bss.navigation_target,"aw",%nobits
 3036              		.align	2
 3037              		.set	.LANCHOR6,. + 0
 3040              	navigation_target:
 3041 0000 00000000 		.space	12
 3041      00000000 
 3041      00000000 
 3042              		.section	.bss.nav_heading,"aw",%nobits
 3043              		.align	2
 3044              		.set	.LANCHOR12,. + 0
 3047              	nav_heading:
 3048 0000 00000000 		.space	4
 3049              		.section	.bss.nav_segment_start,"aw",%nobits
 3050              		.set	.LANCHOR24,. + 0
 3053              	nav_segment_start:
 3054 0000 00       		.space	1
 3055              		.section	.data.waypoints_float,"aw",%progbits
 3056              		.align	2
 3057              		.set	.LANCHOR0,. + 0
 3060              	waypoints_float:
 3061 0000 00002842 		.word	1109917696
 3062 0004 00002842 		.word	1109917696
 3063 0008 00001843 		.word	1125646336
 3064 000c 00000000 		.word	0
 3065 0010 00000000 		.word	0
 3066 0014 00001843 		.word	1125646336
 3067 0018 00000000 		.word	0
 3068 001c 0000A040 		.word	1084227584
 3069 0020 00001843 		.word	1125646336
 3070 0024 000000C0 		.word	3221225472
 3071 0028 0000A0C0 		.word	3231711232
 3072 002c 00001843 		.word	1125646336
 3073 0030 66666640 		.word	1080452710
 3074 0034 66665EC1 		.word	3244189286
 3075 0038 00001843 		.word	1125646336
 3076 003c 0000DC41 		.word	1104936960
 3077 0040 CDCC40C2 		.word	3259026637
 3078 0044 00001843 		.word	1125646336
 3079 0048 9A998541 		.word	1099274650
 3080 004c CDCC9CC1 		.word	3248278733
 3081 0050 00001843 		.word	1125646336
 3082 0054 33335B41 		.word	1096495923
 3083 0058 CDCC22C2 		.word	3257060557
 3084 005c 00001843 		.word	1125646336
 3085 0060 0000A0C1 		.word	3248488448
 3086 0064 000048C2 		.word	3259498496
 3087 0068 00001543 		.word	1125449728
 3088 006c 3333B340 		.word	1085485875
 3089 0070 66662EC1 		.word	3241043558
 3090 0074 00001843 		.word	1125646336
 3091              		.section	.bss.last_wp,"aw",%nobits
 3092              		.set	.LANCHOR30,. + 0
 3095              	last_wp:
 3096 0000 00       		.space	1
 3097              		.section	.bss.nav_radius,"aw",%nobits
 3098              		.align	2
 3099              		.set	.LANCHOR14,. + 0
 3102              	nav_radius:
 3103 0000 00000000 		.space	4
 3104              		.section	.bss.ground_alt,"aw",%nobits
 3105              		.align	2
 3106              		.set	.LANCHOR2,. + 0
 3109              	ground_alt:
 3110 0000 00000000 		.space	4
 3111              		.section	.bss.nav_course,"aw",%nobits
 3112              		.align	2
 3113              		.set	.LANCHOR13,. + 0
 3116              	nav_course:
 3117 0000 00000000 		.space	4
 3118              		.section	.bss.nav_leg_progress,"aw",%nobits
 3119              		.align	2
 3120              		.set	.LANCHOR17,. + 0
 3123              	nav_leg_progress:
 3124 0000 00000000 		.space	4
 3125              		.section	.bss.waypoints,"aw",%nobits
 3126              		.align	2
 3127              		.set	.LANCHOR1,. + 0
 3130              	waypoints:
 3131 0000 00000000 		.space	120
 3131      00000000 
 3131      00000000 
 3131      00000000 
 3131      00000000 
 3132              		.section	.bss.nav_last_point,"aw",%nobits
 3133              		.align	2
 3134              		.set	.LANCHOR27,. + 0
 3137              	nav_last_point:
 3138 0000 00000000 		.space	12
 3138      00000000 
 3138      00000000 
 3139              		.section	.bss.last_nav_alt.4149,"aw",%nobits
 3140              		.align	2
 3141              		.set	.LANCHOR19,. + 0
 3144              	last_nav_alt.4149:
 3145 0000 00000000 		.space	4
 3146              		.section	.bss.horizontal_mode,"aw",%nobits
 3147              		.set	.LANCHOR8,. + 0
 3150              	horizontal_mode:
 3151 0000 00       		.space	1
 3152              		.section	.bss.nav_circle_qdr,"aw",%nobits
 3153              		.align	2
 3154              		.set	.LANCHOR20,. + 0
 3157              	nav_circle_qdr:
 3158 0000 00000000 		.space	4
 3159              		.section	.bss.nav_leg_length,"aw",%nobits
 3160              		.align	2
 3161              		.set	.LANCHOR18,. + 0
 3164              	nav_leg_length:
 3165 0000 00000000 		.space	4
 3166              		.section	.bss.prescaler.4885,"aw",%nobits
 3167              		.align	1
 3168              		.set	.LANCHOR29,. + 0
 3171              	prescaler.4885:
 3172 0000 0000     		.space	2
 3173              		.section	.rodata.nb_waypoint,"a",%progbits
 3176              	nb_waypoint:
 3177 0000 0A       		.byte	10
 3178              		.section	.bss.flight_altitude,"aw",%nobits
 3179              		.align	2
 3180              		.set	.LANCHOR5,. + 0
 3183              	flight_altitude:
 3184 0000 00000000 		.space	4
 3185              		.section	.bss.nav_climb,"aw",%nobits
 3186              		.align	2
 3187              		.set	.LANCHOR16,. + 0
 3190              	nav_climb:
 3191 0000 00000000 		.space	4
 3192              		.section	.bss.time_at_wp.4138,"aw",%nobits
 3193              		.set	.LANCHOR26,. + 0
 3196              	time_at_wp.4138:
 3197 0000 00       		.space	1
 3198              		.section	.bss.nav_flight_altitude,"aw",%nobits
 3199              		.align	2
 3200              		.set	.LANCHOR4,. + 0
 3203              	nav_flight_altitude:
 3204 0000 00000000 		.space	4
 3205              		.section	.bss.nav_segment_end,"aw",%nobits
 3206              		.set	.LANCHOR25,. + 0
 3209              	nav_segment_end:
 3210 0000 00       		.space	1
 3211              		.section	.bss.navigation_carrot,"aw",%nobits
 3212              		.align	2
 3213              		.set	.LANCHOR7,. + 0
 3216              	navigation_carrot:
 3217 0000 00000000 		.space	12
 3217      00000000 
 3217      00000000 
 3218              		.section	.bss.nav_circle_centre,"aw",%nobits
 3219              		.set	.LANCHOR22,. + 0
 3222              	nav_circle_centre:
 3223 0000 00       		.space	1
 3224              		.section	.bss.vertical_mode,"aw",%nobits
 3225              		.set	.LANCHOR9,. + 0
 3228              	vertical_mode:
 3229 0000 00       		.space	1
 3230              		.section	.bss.nav_roll,"aw",%nobits
 3231              		.align	2
 3232              		.set	.LANCHOR10,. + 0
 3235              	nav_roll:
 3236 0000 00000000 		.space	4
 3237              		.section	.bss.prescaler.5010,"aw",%nobits
 3238              		.align	1
 3239              		.set	.LANCHOR28,. + 0
 3242              	prescaler.5010:
 3243 0000 0000     		.space	2
 3244              		.section	.bss.nav_pitch,"aw",%nobits
 3245              		.align	2
 3246              		.set	.LANCHOR11,. + 0
 3249              	nav_pitch:
 3250 0000 00000000 		.space	4
 3251              		.section	.bss.nav_circle_radius,"aw",%nobits
 3252              		.align	2
 3253              		.set	.LANCHOR23,. + 0
 3256              	nav_circle_radius:
 3257 0000 00000000 		.space	4
 3258              		.section	.bss.nav_circle_radians,"aw",%nobits
 3259              		.align	2
 3260              		.set	.LANCHOR21,. + 0
 3263              	nav_circle_radians:
 3264 0000 00000000 		.space	4
 3265              		.section	.bss.nav_altitude,"aw",%nobits
 3266              		.align	2
 3267              		.set	.LANCHOR3,. + 0
 3270              	nav_altitude:
 3271 0000 00000000 		.space	4
 3272              		.section	.bss.nav_throttle,"aw",%nobits
 3273              		.align	2
 3274              		.set	.LANCHOR15,. + 0
 3277              	nav_throttle:
 3278 0000 00000000 		.space	4
 3279              		.text
 3280              	.Letext0:
 3281              		.file 3 "/opt/paparazzi/arm-multilib/lib/gcc/arm-none-eabi/4.6.2/../../../../arm-none-eabi/include
 3282              		.file 4 "/home/uav/paparazzi/sw/include/std.h"
 3283              		.file 5 "./math/pprz_algebra_int.h"
 3284              		.file 6 "./math/pprz_geodetic_int.h"
 3285              		.file 7 "./math/pprz_geodetic_float.h"
 3286              		.file 8 "./mcu_periph/uart.h"
 3287              		.file 9 "./subsystems/gps.h"
 3288              		.file 10 "./math/pprz_trig_int.h"
 3289              		.file 11 "./subsystems/navigation/common_flight_plan.h"
 3290              		.file 12 "./firmwares/rotorcraft/navigation.h"
 3291              		.file 13 "./subsystems/ins.h"
 3292              		.file 14 "./firmwares/rotorcraft/autopilot.h"
 3293              		.file 15 "./subsystems/datalink/datalink.h"
 3294              		.file 16 "./subsystems/datalink/pprz_transport.h"
 3295              		.file 17 "./subsystems/datalink/xbee.h"
 3296              		.file 18 "./subsystems/datalink/downlink.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 navigation.c
     /tmp/ccxcS8rA.s:24     .text.nav_init:0000000000000000 $t
     /tmp/ccxcS8rA.s:29     .text.nav_init:0000000000000000 nav_init
     /tmp/ccxcS8rA.s:163    .text.nav_init:00000000000000c8 $d
     /tmp/ccxcS8rA.s:195    .text.nav_run:0000000000000000 $t
     /tmp/ccxcS8rA.s:200    .text.nav_run:0000000000000000 nav_run
     /tmp/ccxcS8rA.s:343    .text.nav_run:00000000000000b8 $d
     /tmp/ccxcS8rA.s:358    .text.nav_circle:0000000000000000 $t
     /tmp/ccxcS8rA.s:363    .text.nav_circle:0000000000000000 nav_circle
     /tmp/ccxcS8rA.s:718    .text.nav_circle:00000000000001d0 $d
     /tmp/ccxcS8rA.s:732    .text.nav_route:0000000000000000 $t
     /tmp/ccxcS8rA.s:737    .text.nav_route:0000000000000000 nav_route
     /tmp/ccxcS8rA.s:910    .text.nav_route:00000000000000c4 $d
     /tmp/ccxcS8rA.s:922    .text.nav_approaching_from:0000000000000000 $t
     /tmp/ccxcS8rA.s:927    .text.nav_approaching_from:0000000000000000 nav_approaching_from
     /tmp/ccxcS8rA.s:1071   .text.nav_approaching_from:0000000000000094 $d
     /tmp/ccxcS8rA.s:1078   .text.nav_reset_reference:0000000000000000 $t
     /tmp/ccxcS8rA.s:1083   .text.nav_reset_reference:0000000000000000 nav_reset_reference
     /tmp/ccxcS8rA.s:1108   .text.nav_reset_reference:0000000000000014 $d
     /tmp/ccxcS8rA.s:1115   .text.nav_reset_alt:0000000000000000 $t
     /tmp/ccxcS8rA.s:1120   .text.nav_reset_alt:0000000000000000 nav_reset_alt
     /tmp/ccxcS8rA.s:1147   .text.nav_reset_alt:0000000000000018 $d
     /tmp/ccxcS8rA.s:1154   .text.nav_init_stage:0000000000000000 $t
     /tmp/ccxcS8rA.s:1159   .text.nav_init_stage:0000000000000000 nav_init_stage
     /tmp/ccxcS8rA.s:1195   .text.nav_init_stage:0000000000000024 $d
     /tmp/ccxcS8rA.s:1204   .text.nav_move_waypoint:0000000000000000 $t
     /tmp/ccxcS8rA.s:1209   .text.nav_move_waypoint:0000000000000000 nav_move_waypoint
     /tmp/ccxcS8rA.s:1527   .text.nav_move_waypoint:00000000000001b4 $d
     /tmp/ccxcS8rA.s:1538   .text.navigation_update_wp_from_speed:0000000000000000 $t
     /tmp/ccxcS8rA.s:1543   .text.navigation_update_wp_from_speed:0000000000000000 navigation_update_wp_from_speed
     /tmp/ccxcS8rA.s:1799   .text.navigation_update_wp_from_speed:0000000000000148 $d
     /tmp/ccxcS8rA.s:1806   .text.navigation_update_wp_from_speed:0000000000000158 $t
     /tmp/ccxcS8rA.s:2126   .text.navigation_update_wp_from_speed:000000000000032c $d
     /tmp/ccxcS8rA.s:2139   .text.nav_detect_ground:0000000000000000 $t
     /tmp/ccxcS8rA.s:2144   .text.nav_detect_ground:0000000000000000 nav_detect_ground
     /tmp/ccxcS8rA.s:2166   .text.nav_detect_ground:0000000000000010 $d
     /tmp/ccxcS8rA.s:2173   .text.nav_periodic_task:0000000000000000 $t
     /tmp/ccxcS8rA.s:2178   .text.nav_periodic_task:0000000000000000 nav_periodic_task
     /tmp/ccxcS8rA.s:2223   .text.nav_periodic_task:0000000000000032 $d
     /tmp/ccxcS8rA.s:2240   .text.nav_periodic_task:0000000000000050 $t
     /tmp/ccxcS8rA.s:2512   .text.nav_periodic_task:00000000000001e2 $d
     /tmp/ccxcS8rA.s:2518   .text.nav_periodic_task:00000000000001ea $t
     /tmp/ccxcS8rA.s:2548   .text.nav_periodic_task:0000000000000218 $d
     /tmp/ccxcS8rA.s:2565   .text.nav_periodic_task:0000000000000254 $t
     /tmp/ccxcS8rA.s:2631   .text.nav_periodic_task:00000000000002cc $d
     /tmp/ccxcS8rA.s:2635   .text.nav_periodic_task:00000000000002d0 $t
     /tmp/ccxcS8rA.s:2928   .text.nav_periodic_task:0000000000000498 $d
     /tmp/ccxcS8rA.s:2945   .text.nav_periodic_task:00000000000004d4 $t
     /tmp/ccxcS8rA.s:2981   .text.nav_periodic_task:0000000000000510 $d
     /tmp/ccxcS8rA.s:2990   .text.nav_home:0000000000000000 $t
     /tmp/ccxcS8rA.s:2995   .text.nav_home:0000000000000000 nav_home
     /tmp/ccxcS8rA.s:3183   .bss.flight_altitude:0000000000000000 flight_altitude
     /tmp/ccxcS8rA.s:3203   .bss.nav_flight_altitude:0000000000000000 nav_flight_altitude
     /tmp/ccxcS8rA.s:3270   .bss.nav_altitude:0000000000000000 nav_altitude
     /tmp/ccxcS8rA.s:3190   .bss.nav_climb:0000000000000000 nav_climb
     /tmp/ccxcS8rA.s:3277   .bss.nav_throttle:0000000000000000 nav_throttle
     /tmp/ccxcS8rA.s:3228   .bss.vertical_mode:0000000000000000 vertical_mode
     /tmp/ccxcS8rA.s:3102   .bss.nav_radius:0000000000000000 nav_radius
     /tmp/ccxcS8rA.s:3116   .bss.nav_course:0000000000000000 nav_course
     /tmp/ccxcS8rA.s:3047   .bss.nav_heading:0000000000000000 nav_heading
     /tmp/ccxcS8rA.s:3249   .bss.nav_pitch:0000000000000000 nav_pitch
     /tmp/ccxcS8rA.s:3235   .bss.nav_roll:0000000000000000 nav_roll
     /tmp/ccxcS8rA.s:3164   .bss.nav_leg_length:0000000000000000 nav_leg_length
     /tmp/ccxcS8rA.s:3123   .bss.nav_leg_progress:0000000000000000 nav_leg_progress
     /tmp/ccxcS8rA.s:3263   .bss.nav_circle_radians:0000000000000000 nav_circle_radians
     /tmp/ccxcS8rA.s:3157   .bss.nav_circle_qdr:0000000000000000 nav_circle_qdr
     /tmp/ccxcS8rA.s:3256   .bss.nav_circle_radius:0000000000000000 nav_circle_radius
     /tmp/ccxcS8rA.s:3222   .bss.nav_circle_centre:0000000000000000 nav_circle_centre
     /tmp/ccxcS8rA.s:3209   .bss.nav_segment_end:0000000000000000 nav_segment_end
     /tmp/ccxcS8rA.s:3053   .bss.nav_segment_start:0000000000000000 nav_segment_start
     /tmp/ccxcS8rA.s:3150   .bss.horizontal_mode:0000000000000000 horizontal_mode
     /tmp/ccxcS8rA.s:3109   .bss.ground_alt:0000000000000000 ground_alt
     /tmp/ccxcS8rA.s:3095   .bss.last_wp:0000000000000000 last_wp
     /tmp/ccxcS8rA.s:3137   .bss.nav_last_point:0000000000000000 nav_last_point
     /tmp/ccxcS8rA.s:3216   .bss.navigation_carrot:0000000000000000 navigation_carrot
     /tmp/ccxcS8rA.s:3040   .bss.navigation_target:0000000000000000 navigation_target
     /tmp/ccxcS8rA.s:3130   .bss.waypoints:0000000000000000 waypoints
     /tmp/ccxcS8rA.s:3060   .data.waypoints_float:0000000000000000 waypoints_float
     /tmp/ccxcS8rA.s:3176   .rodata.nb_waypoint:0000000000000000 nb_waypoint
     /tmp/ccxcS8rA.s:3036   .bss.navigation_target:0000000000000000 $d
     /tmp/ccxcS8rA.s:3043   .bss.nav_heading:0000000000000000 $d
     /tmp/ccxcS8rA.s:3054   .bss.nav_segment_start:0000000000000000 $d
     /tmp/ccxcS8rA.s:3056   .data.waypoints_float:0000000000000000 $d
     /tmp/ccxcS8rA.s:3096   .bss.last_wp:0000000000000000 $d
     /tmp/ccxcS8rA.s:3098   .bss.nav_radius:0000000000000000 $d
     /tmp/ccxcS8rA.s:3105   .bss.ground_alt:0000000000000000 $d
     /tmp/ccxcS8rA.s:3112   .bss.nav_course:0000000000000000 $d
     /tmp/ccxcS8rA.s:3119   .bss.nav_leg_progress:0000000000000000 $d
     /tmp/ccxcS8rA.s:3126   .bss.waypoints:0000000000000000 $d
     /tmp/ccxcS8rA.s:3133   .bss.nav_last_point:0000000000000000 $d
     /tmp/ccxcS8rA.s:3140   .bss.last_nav_alt.4149:0000000000000000 $d
     /tmp/ccxcS8rA.s:3144   .bss.last_nav_alt.4149:0000000000000000 last_nav_alt.4149
     /tmp/ccxcS8rA.s:3151   .bss.horizontal_mode:0000000000000000 $d
     /tmp/ccxcS8rA.s:3153   .bss.nav_circle_qdr:0000000000000000 $d
     /tmp/ccxcS8rA.s:3160   .bss.nav_leg_length:0000000000000000 $d
     /tmp/ccxcS8rA.s:3167   .bss.prescaler.4885:0000000000000000 $d
     /tmp/ccxcS8rA.s:3171   .bss.prescaler.4885:0000000000000000 prescaler.4885
     /tmp/ccxcS8rA.s:3179   .bss.flight_altitude:0000000000000000 $d
     /tmp/ccxcS8rA.s:3186   .bss.nav_climb:0000000000000000 $d
     /tmp/ccxcS8rA.s:3196   .bss.time_at_wp.4138:0000000000000000 time_at_wp.4138
     /tmp/ccxcS8rA.s:3197   .bss.time_at_wp.4138:0000000000000000 $d
     /tmp/ccxcS8rA.s:3199   .bss.nav_flight_altitude:0000000000000000 $d
     /tmp/ccxcS8rA.s:3210   .bss.nav_segment_end:0000000000000000 $d
     /tmp/ccxcS8rA.s:3212   .bss.navigation_carrot:0000000000000000 $d
     /tmp/ccxcS8rA.s:3223   .bss.nav_circle_centre:0000000000000000 $d
     /tmp/ccxcS8rA.s:3229   .bss.vertical_mode:0000000000000000 $d
     /tmp/ccxcS8rA.s:3231   .bss.nav_roll:0000000000000000 $d
     /tmp/ccxcS8rA.s:3238   .bss.prescaler.5010:0000000000000000 $d
     /tmp/ccxcS8rA.s:3242   .bss.prescaler.5010:0000000000000000 prescaler.5010
     /tmp/ccxcS8rA.s:3245   .bss.nav_pitch:0000000000000000 $d
     /tmp/ccxcS8rA.s:3252   .bss.nav_circle_radius:0000000000000000 $d
     /tmp/ccxcS8rA.s:3259   .bss.nav_circle_radians:0000000000000000 $d
     /tmp/ccxcS8rA.s:3266   .bss.nav_altitude:0000000000000000 $d
     /tmp/ccxcS8rA.s:3273   .bss.nav_throttle:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccxcS8rA.s:8559   .text.nav_run:00000000000000dc $t

UNDEFINED SYMBOLS
__aeabi_fmul
__aeabi_f2iz
__aeabi_f2d
__aeabi_dsub
__aeabi_dmul
__aeabi_d2iz
nav_block
nav_stage
__aeabi_i2d
__aeabi_dcmpgt
ins_enu_pos
pprz_trig_int
ins_ltp_initialised
ins_hf_realign
ins_vf_realign
gps
ins_ltp_def
stage_time
uart_check_free_space
uart_transmit
uart2
downlink_nb_bytes
downlink_nb_msgs
ck_a
ck_b
downlink_nb_ovrn
autopilot_detect_ground
__aeabi_i2f
__aeabi_ddiv
autopilot_set_motors_on
block_time
autopilot_mode
autopilot_detect_ground_once
nav_init_block
